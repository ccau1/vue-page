var VuePage=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,u,"next",e)}function u(e){o(a,r,i,s,u,"throw",e)}s(void 0)}))}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function h(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function g(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}function y(){return y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=g(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},y.apply(this,arguments)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||w(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */()}function b(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||w(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x,O=function(e,t){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},O(e,t)};function j(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var S=[],k=function(){function e(e){this.active=!0,this.effects=[],this.cleanups=[],this.vm=e}return e.prototype.run=function(e){if(this.active)try{return this.on(),e()}finally{this.off()}},e.prototype.on=function(){this.active&&(S.push(this),x=this)},e.prototype.off=function(){this.active&&(S.pop(),x=S[S.length-1])},e.prototype.stop=function(){this.active&&(this.vm.$destroy(),this.effects.forEach((function(e){return e.stop()})),this.cleanups.forEach((function(e){return e()})),this.active=!1)},e}();!function(e){function t(t){void 0===t&&(t=!1);var n,r=void 0;return function(e){var t=I;I=!1;try{e()}finally{I=t}}((function(){r=K(F())})),n=e.call(this,r)||this,t||function(e,t){var n;if((t=t||x)&&t.active)return void t.effects.push(e);var r=null===(n=A())||void 0===n?void 0:n.proxy;r&&r.$on("hook:destroyed",(function(){return e.stop()}))}(n),n}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}O(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(t,e)}(k);var C=void 0;try{var P=require("vue");P&&T(P)?C=P:P&&"default"in P&&T(P.default)&&(C=P.default)}catch(e){}var E=null,$=null,I=!0,R="__composition_api_installed__";function T(e){return e&&J(e)&&"Vue"===e.name}function F(){return E}function L(e){if(I){var t=$;null==t||t.scope.off(),null==($=e)||$.scope.on()}}function A(){return $}var M=new WeakMap;function W(e){if(M.has(e))return M.get(e);var t={proxy:e,update:e.$forceUpdate,type:e.$options,uid:e._uid,emit:e.$emit.bind(e),parent:null,root:null};!function(e){if(!e.scope){var t=new k(e.proxy);e.scope=t,e.proxy.$on("hook:destroyed",(function(){return t.stop()}))}e.scope}(t);return["data","props","attrs","refs","vnode","slots"].forEach((function(n){B(t,n,{get:function(){return e["$".concat(n)]}})})),B(t,"isMounted",{get:function(){return e._isMounted}}),B(t,"isUnmounted",{get:function(){return e._isDestroyed}}),B(t,"isDeactivated",{get:function(){return e._inactive}}),B(t,"emitted",{get:function(){return e._events}}),M.set(e,t),e.$parent&&(t.parent=W(e.$parent)),e.$root&&(t.root=W(e.$root)),t}function N(e){return"function"==typeof e&&/native code/.test(e.toString())}var D="undefined"!=typeof Symbol&&N(Symbol)&&"undefined"!=typeof Reflect&&N(Reflect.ownKeys),V=function(e){return e};function B(e,t,n){var r=n.get,i=n.set;Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:r||V,set:i||V})}function q(e,t,n,r){Object.defineProperty(e,t,{value:n,enumerable:!!r,writable:!0,configurable:!0})}function U(e,t){return Object.hasOwnProperty.call(e,t)}function H(e){return Array.isArray(e)}function z(e){return null!==e&&"object"==typeof e}function Y(e){return"[object Object]"===function(e){return Object.prototype.toString.call(e)}(e)}function J(e){return"function"==typeof e}function K(e,t){void 0===t&&(t={});var n=e.config.silent;e.config.silent=!0;var r=new e(t);return e.config.silent=n,r}function G(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(e.$scopedSlots[t])return e.$scopedSlots[t].apply(e,n)}}var X="composition-api.refKey",Q=new WeakMap,Z=new WeakMap;function ee(e,t,n){var r=F().util;r.warn;var i=r.defineReactive,o=e.__ob__;function a(){o&&z(n)&&!U(n,"__ob__")&&de(n)}if(H(e)){if(function(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)&&t<=4294967295}(t))return e.length=Math.max(e.length,t),e.splice(t,1,n),a(),n;if("length"===t&&n!==e.length)return e.length=n,null==o||o.dep.notify(),n}return t in e&&!(t in Object.prototype)?(e[t]=n,a(),n):e._isVue||o&&o.vmCount?n:o?(i(o.value,t,n),le(e,t,n),a(),o.dep.notify(),n):(e[t]=n,n)}var te=function(e){B(this,"value",{get:e.get,set:e.set})};function ne(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=new te(e);n&&(r.effect=!0);var i=Object.seal(r);return t&&Z.set(i,!0),i}function re(e){var t;if(ie(e))return e;var n=fe(((t={})[X]=e,t));return ne({get:function(){return n[X]},set:function(e){return n[X]=e}})}function ie(e){return e instanceof te}function oe(e,t){t in e||ee(e,t,void 0);var n=e[t];return ie(n)?n:ne({get:function(){return e[t]},set:function(n){return e[t]=n}})}function ae(e){var t;return Boolean(e&&U(e,"__ob__")&&"object"==typeof e.__ob__&&(null===(t=e.__ob__)||void 0===t?void 0:t.__raw__))}function se(e){var t;return Boolean(e&&U(e,"__ob__")&&"object"==typeof e.__ob__&&!(null===(t=e.__ob__)||void 0===t?void 0:t.__raw__))}function ue(e){if(!(!Y(e)||ae(e)||H(e)||ie(e)||(t=e,n=F(),n&&t instanceof n)||Q.has(e))){var t,n;Q.set(e,!0);for(var r=Object.keys(e),i=0;i<r.length;i++)le(e,r[i])}}function le(e,t,n){if("__ob__"!==t&&!ae(e[t])){var r,i,o=Object.getOwnPropertyDescriptor(e,t);if(o){if(!1===o.configurable)return;r=o.get,i=o.set,r&&!i||2!==arguments.length||(n=e[t])}ue(n),B(e,t,{get:function(){var i=r?r.call(e):n;return t!==X&&ie(i)?i.value:i},set:function(o){r&&!i||(t!==X&&ie(n)&&!ie(o)?n.value=o:i?(i.call(e,o),n=o):n=o,ue(o))}})}}function ce(e){var t,n=E||C;n.observable?t=n.observable(e):t=K(n,{data:{$$state:e}})._data.$$state;return U(t,"__ob__")||de(t),t}function de(e,t){var n,r;if(void 0===t&&(t=new Set),!t.has(e)&&!U(e,"__ob__")&&Object.isExtensible(e)){q(e,"__ob__",function(e){void 0===e&&(e={});return{value:e,dep:{notify:V,depend:V,addSub:V,removeSub:V}}}(e)),t.add(e);try{for(var i=j(Object.keys(e)),o=i.next();!o.done;o=i.next()){var a=e[o.value];(Y(a)||H(a))&&!ae(a)&&Object.isExtensible(a)&&de(a,t)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}}function fe(e){if(!z(e))return e;if(!Y(e)&&!H(e)||ae(e)||!Object.isExtensible(e))return e;var t=ce(e);return ue(t),t}var pe={set:function(e,t,n){(e.__composition_api_state__=e.__composition_api_state__||{})[t]=n},get:function(e,t){return(e.__composition_api_state__||{})[t]}};function he(e){var t=pe.get(e,"rawBindings")||{};if(t&&Object.keys(t).length){for(var n=e.$refs,r=pe.get(e,"refs")||[],i=0;i<r.length;i++){var o=t[u=r[i]];!n[u]&&o&&ie(o)&&(o.value=null)}var a=Object.keys(n),s=[];for(i=0;i<a.length;i++){var u;o=t[u=a[i]];n[u]&&o&&ie(o)&&(o.value=n[u],s.push(u))}pe.set(e,"refs",s)}}function ve(e){for(var t=[e._vnode];t.length;){var n=t.pop();if(n.context&&he(n.context),n.children)for(var r=0;r<n.children.length;++r)t.push(n.children[r])}}function ge(e,t){var n,r;if(e){var i=pe.get(e,"attrBindings");if(i||t){if(!i){var o=fe({});i={ctx:t,data:o},pe.set(e,"attrBindings",i),B(t,"attrs",{get:function(){return null==i?void 0:i.data},set:function(){}})}var a=e.$attrs,s=function(t){U(i.data,t)||B(i.data,t,{get:function(){return e.$attrs[t]}})};try{for(var u=j(Object.keys(a)),l=u.next();!l.done;l=u.next()){s(l.value)}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}}function ye(e,t){var n=e.$options._parentVnode;if(n){for(var r=pe.get(e,"slots")||[],i=function(e,t){var n;if(e){if(e._normalized)return e._normalized;for(var r in n={},e)e[r]&&"$"!==r[0]&&(n[r]=!0)}else n={};for(var r in t)r in n||(n[r]=!0);return n}(n.data.scopedSlots,e.$slots),o=0;o<r.length;o++){i[s=r[o]]||delete t[s]}var a=Object.keys(i);for(o=0;o<a.length;o++){var s;t[s=a[o]]||(t[s]=G(e,s))}pe.set(e,"slots",a)}}function me(e,t,n){var r=A();L(e);try{return t(e)}catch(e){if(!n)throw e;n(e)}finally{L(r)}}function be(e){function t(e,n){if(void 0===n&&(n=new Set),!n.has(e)&&Y(e)&&!ie(e)&&!se(e)&&!ae(e)){var r=F().util.defineReactive;Object.keys(e).forEach((function(i){var o=e[i];r(e,i,o),o&&(n.add(o),t(o,n))}))}}function n(e,t){return void 0===t&&(t=new Map),t.has(e)?t.get(e):(t.set(e,!1),H(e)&&se(e)?(t.set(e,!0),!0):!(!Y(e)||ae(e)||ie(e))&&Object.keys(e).some((function(r){return n(e[r],t)})))}e.mixin({beforeCreate:function(){var e=this,r=e.$options,i=r.setup,o=r.render;o&&(r.render=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return me(W(e),(function(){return o.apply(t,n)}))});if(!i)return;if(!J(i))return;var a=r.data;r.data=function(){return function(e,r){void 0===r&&(r={});var i,o=e.$options.setup,a=function(e){var t={slots:{}},n=["emit"];return["root","parent","refs","listeners","isServer","ssrContext"].forEach((function(n){var r="$".concat(n);B(t,n,{get:function(){return e[r]},set:function(){}})})),ge(e,t),n.forEach((function(n){var r="$".concat(n);B(t,n,{get:function(){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e[r].apply(e,t)}}})})),t}(e),s=W(e);if(s.setupContext=a,q(r,"__ob__",function(){return ce({}).__ob__}()),ye(e,a.slots),me(s,(function(){i=o(r,a)})),!i)return;if(J(i)){var u=i;return void(e.$options.render=function(){return ye(e,a.slots),me(s,(function(){return u()}))})}if(z(i)){se(i)&&(i=function(e){if(!Y(e))return e;var t={};for(var n in e)t[n]=oe(e,n);return t}(i)),pe.set(e,"rawBindings",i);var l=i;Object.keys(l).forEach((function(r){var i=l[r];if(!ie(i))if(se(i))H(i)&&(i=re(i));else if(J(i)){var o=i;i=i.bind(e),Object.keys(o).forEach((function(e){i[e]=o[e]}))}else z(i)?n(i)&&t(i):i=re(i);!function(e,t,n){var r=e.$options.props;t in e||r&&U(r,t)||(ie(n)?B(e,t,{get:function(){return n.value},set:function(e){n.value=e}}):B(e,t,{get:function(){return se(n)&&n.__ob__.dep.depend(),n},set:function(e){n=e}}))}(e,r,i)}))}}(e,e.$props),J(a)?a.call(e,e):a||{}}},mounted:function(){ve(this)},beforeUpdate:function(){ge(this)},updated:function(){ve(this)}})}function we(e,t){if(!e)return t;if(!t)return e;for(var n,r,i,o=D?Reflect.ownKeys(e):Object.keys(e),a=0;a<o.length;a++)"__ob__"!==(n=o[a])&&(r=t[n],i=e[n],U(t,n)?r!==i&&Y(r)&&!ie(r)&&Y(i)&&!ie(i)&&we(i,r):t[n]=i);return t}function _e(e){(function(e){return E&&U(e,R)})(e)||(e.config.optionMergeStrategies.setup=function(e,t){return function(n,r){return we(J(e)?e(n,r)||{}:void 0,J(t)?t(n,r)||{}:void 0)}},function(e){E=e,Object.defineProperty(e,R,{configurable:!0,writable:!0,value:!0})}(e),be(e))}var xe={install:function(e){return _e(e)}};
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
function Oe(e){return"[object Object]"===Object.prototype.toString.call(e)}"undefined"!=typeof window&&window.Vue&&window.Vue.use(xe);var je=Object.prototype,Se=je.toString,ke=je.hasOwnProperty,Ce=/^\s*function (\w+)/;function Pe(e){var t,n=null!==(t=null==e?void 0:e.type)&&void 0!==t?t:e;if(n){var r=n.toString().match(Ce);return r?r[1]:""}return""}var Ee=function(e){var t,n;return!1!==Oe(e)&&(void 0===(t=e.constructor)||!1!==Oe(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf"))},$e=function(e){return e},Ie=function(e,t){return ke.call(e,t)},Re=Array.isArray||function(e){return"[object Array]"===Se.call(e)},Te=function(e){return"[object Function]"===Se.call(e)};function Fe(e,t){return Object.defineProperty(e.bind(t),"__original",{value:e})}function Le(e,t,n){var r;void 0===n&&(n=!1);var i=!0,o="",a=function(e){return Ee(e)&&Ie(e,"_vueTypes_name")}(r=Ee(e)?e:{type:e})?r._vueTypes_name+" - ":"";if(function(e){return Ee(e)&&(Ie(e,"type")||["_vueTypes_name","validator","default","required"].some((function(t){return Ie(e,t)})))}(r)&&null!==r.type){if(void 0===r.type||!0===r.type)return i;if(!r.required&&void 0===t)return i;Re(r.type)?(i=r.type.some((function(e){return!0===Le(e,t,!0)})),o=r.type.map((function(e){return Pe(e)})).join(" or ")):i="Array"===(o=Pe(r))?Re(t):"Object"===o?Ee(t):"String"===o||"Number"===o||"Boolean"===o||"Function"===o?function(e){if(null==e)return"";var t=e.constructor.toString().match(Ce);return t?t[1]:""}(t)===o:t instanceof r.type}if(!i){var s=a+'value "'+t+'" should be of type "'+o+'"';return!1===n?($e(s),!1):s}if(Ie(r,"validator")&&Te(r.validator)){var u=$e,l=[];if($e=function(e){l.push(e)},i=r.validator(t),$e=u,!i){var c=(l.length>1?"* ":"")+l.join("\n* ");return l.length=0,!1===n?($e(c),i):c}}return i}function Ae(e,t){var n=Object.defineProperties(t,{_vueTypes_name:{value:e,writable:!0},isRequired:{get:function(){return this.required=!0,this}},def:{value:function(e){return void 0===e?(Ie(this,"default")&&delete this.default,this):Te(e)||!0===Le(this,e,!0)?(this.default=Re(e)?function(){return[].concat(e)}:Ee(e)?function(){return Object.assign({},e)}:e,this):($e(this._vueTypes_name+' - invalid default value: "'+e+'"'),this)}}}),r=n.validator;return Te(r)&&(n.validator=Fe(r,n)),n}function Me(e,t){var n=Ae(e,t);return Object.defineProperty(n,"validate",{value:function(e){return Te(this.validator)&&$e(this._vueTypes_name+" - calling .validate() will overwrite the current custom validator function. Validator info:\n"+JSON.stringify(this)),this.validator=Fe(e,this),this}})}function We(e){return e.replace(/^(?!\s*$)/gm,"  ")}var Ne=function(){return Me("boolean",{type:Boolean})},De=function(){return Me("string",{type:String})};function Ve(e){return Ae("arrayOf",{type:Array,validator:function(t){var n="",r=t.every((function(t){return!0===(n=Le(e,t,!0))}));return r||$e("arrayOf - value validation error:\n"+We(n)),r}})}function Be(e){var t=Object.keys(e),n=t.filter((function(t){var n;return!(null===(n=e[t])||void 0===n||!n.required)})),r=Ae("shape",{type:Object,validator:function(r){var i=this;if(!Ee(r))return!1;var o=Object.keys(r);if(n.length>0&&n.some((function(e){return-1===o.indexOf(e)}))){var a=n.filter((function(e){return-1===o.indexOf(e)}));return $e(1===a.length?'shape - required property "'+a[0]+'" is not defined.':'shape - required properties "'+a.join('", "')+'" are not defined.'),!1}return o.every((function(n){if(-1===t.indexOf(n))return!0===i._vueTypes_isLoose||($e('shape - shape definition does not include a "'+n+'" property. Allowed keys: "'+t.join('", "')+'".'),!1);var o=Le(e[n],r[n],!0);return"string"==typeof o&&$e('shape - "'+n+'" property validation error:\n '+We(o)),!0===o}))}});return Object.defineProperty(r,"_vueTypes_isLoose",{writable:!0,value:!1}),Object.defineProperty(r,"loose",{get:function(){return this._vueTypes_isLoose=!0,this}}),r}var qe={props:{widget:Object,widgetControls:Object,widgetItems:Object,formState:Object,setWidgetState:Function,getWidgetState:Function,view:String},inject:["widgetEffectControls"]};function Ue(e,t,n,r,i,o,a,s,u,l){"boolean"!=typeof a&&(u=s,s=a,a=!1);const c="function"==typeof n?n.options:n;let d;if(e&&e.render&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0,i&&(c.functional=!0)),r&&(c._scopeId=r),o?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,u(e)),e&&e._registeredComponents&&e._registeredComponents.add(o)},c._ssrRegister=d):t&&(d=a?function(e){t.call(this,l(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,s(e))}),d)if(c.functional){const e=c.render;c.render=function(t,n){return d.call(n),e(t,n)}}else{const e=c.beforeCreate;c.beforeCreate=e?[].concat(e,d):[d]}return n}const He="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function ze(e){return(e,t)=>function(e,t){const n=He?t.media||"default":e,r=Je[n]||(Je[n]={ids:new Set,styles:[]});if(!r.ids.has(e)){r.ids.add(e);let n=t.source;if(t.map&&(n+="\n/*# sourceURL="+t.map.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),r.element||(r.element=document.createElement("style"),r.element.type="text/css",t.media&&r.element.setAttribute("media",t.media),void 0===Ye&&(Ye=document.head||document.getElementsByTagName("head")[0]),Ye.appendChild(r.element)),"styleSheet"in r.element)r.styles.push(n),r.element.styleSheet.cssText=r.styles.filter(Boolean).join("\n");else{const e=r.ids.size-1,t=document.createTextNode(n),i=r.element.childNodes;i[e]&&r.element.removeChild(i[e]),i.length?r.element.insertBefore(t,i[e]):r.element.appendChild(t)}}}(e,t)}let Ye;const Je={};var Ke=Ue({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"widget-wrapper"},[e.widget.style?n("style",{tag:"component",attrs:{scoped:""}},[e._v("\n    "+e._s(e.widget.style)+"\n  ")]):e._e(),e._v(" "),"form"===e.view?n("div",{staticClass:"widget-form-control"},[n(e.widgetControls[e.widget.type].formControl,{tag:"component",attrs:{widget:e.widget,widgetControls:e.widgetControls,widgetItems:e.widgetItems,formState:e.formState,setWidgetState:function(t,n){return e.setWidgetState(t,n,e.widget)},getWidgetState:function(t){return e.getWidgetState(t,e.widget)},view:e.view}})],1):e._e(),e._v(" "),n("div",{ref:"widgetComponentWrapper",staticClass:"widget-component-wrapper"},[e._l(e.widget.effects,(function(t){return n(e.widgetEffectControls[t.type].display,{key:t.type,tag:"component",attrs:{properties:t.properties,wrapperRef:e.$refs.widgetComponentWrapper}})})),e._v(" "),n(e.widgetControls[e.widget.type][e.view||"display"],{tag:"component",attrs:{widget:e.widget,widgetControls:e.widgetControls,widgetItems:e.widgetItems,formState:e.formState,setWidgetState:function(t,n){return e.setWidgetState(t,n,e.widget)},getWidgetState:function(t){return e.getWidgetState(t,e.widget)},view:e.view,wrapperRef:e.$refs.widgetComponentWrapper}})],2)],1)},staticRenderFns:[]},(function(e){e&&e("data-v-221e9d22_0",{source:".widget-component-wrapper[data-v-221e9d22]{position:relative}.widget-wrapper[data-v-221e9d22]{padding:0 10px}",map:void 0,media:void 0})}),qe,"data-v-221e9d22",false,undefined,!1,ze,void 0,void 0),Ge=Ue({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.filteredWidgetItemsArr,(function(t){return n("div",{key:t.id,staticClass:"widget-container"},[n("widget-view",{attrs:{widget:t,widgetControls:e.widgetControls,widgetItems:e.widgetItems,formState:e.formState,setWidgetState:e.setWidgetState,getWidgetState:e.getWidgetState,view:e.view}})],1)})),0)},staticRenderFns:[]},(function(e){e&&e("data-v-2fb0a134_0",{source:".widget-container[data-v-2fb0a134]{position:relative}.widget-form-control[data-v-2fb0a134]{position:absolute;top:-40px;left:0}",map:void 0,media:void 0})}),{components:{WidgetView:Ke},props:{widgetControls:Object,widgetItems:Object,excludeWidgetIds:Ve(String),onlyIncludeWidgetIds:Ve(String),forParent:String},inject:["widgetControls","getFormState","getView","setFormState"],computed:{view:function(){return this.getView()},formState:function(){return this.getFormState()},widgetItemsArr:function(){return Object.values(this.$props.widgetItems)},filteredWidgetItemsArr:function(){var e=this;return this.widgetItemsArr.filter((function(t){return t.parentId===e.forParent&&(!e.$props.onlyIncludeWidgetIds||e.$props.onlyIncludeWidgetIds.includes(t.id))&&(!(e.excludeWidgetIds||[]).length||!e.excludeWidgetIds.includes(t.id))})).sort((function(e,t){return(e.order||0)-(t.order||0)}))}},methods:{setWidgetState:function(e,t,n){var r=this.formState;if(void 0===t){if(!r.widgetState[n.id])return;delete r.widgetState[n.id][e]}else r.widgetState[n.id]||(r.widgetState[n.id]={}),r.widgetState[n.id][e]=t;this.setFormState(r)},getWidgetState:function(e,t){var n;return null===(n=this.formState.widgetState[t.id])||void 0===n?void 0:n[e]}}},"data-v-2fb0a134",false,undefined,!1,ze,void 0,void 0),Xe=Ue({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.widget.properties.tabsVisible?n("div",{staticClass:"pages-menu-wrapper"},e._l(e.sortedPages,(function(t,r){return n("a",{key:r,staticClass:"pages-menu-item",class:{active:e.currentPageIndex===r,errors:e.widget.pageIndexHasErrors(r,{allChildPages:!0}),unopened:!(e.widget.getState("viewedIndices")||[]).includes(r)},attrs:{disabled:!(e.widget.getState("viewedIndices")||[]).includes(r)},on:{click:function(){return(e.widget.getState("viewedIndices")||[]).includes(r)&&e.widget.onChangePageIndex(r)}}},[e._v("\n      "+e._s(e.t(t.labelKey,e.widget.id))+"\n    ")])})),0):e._e(),e._v(" "),e._l(e.sortedPages,(function(t,r){return n("div",{key:r,staticClass:"pages-content-item"},[e.currentPageIndex===r?n("div",[n("widgets-layout",{attrs:{widgetItems:e.widgetItems,excludeWidgetIds:[e.widget.id],onlyIncludeWidgetIds:t.children,forParent:e.widget.id}})],1):e._e()])})),e._v(" "),e.widget.properties.navigationVisible?n("div",{staticClass:"back-forward-wrapper"},[n("div",[e.widget.hasPreviousButton()?n("button",{staticClass:"back-forward-button",on:{click:function(){return e.widget.toPreviousPage()}}},[e._v("\n        "+e._s(e.t("__"+e.widget.previousButtonType(),e.widget.id))+"\n      ")]):e._e()]),e._v(" "),n("div",[e.widget.hasNextButton()?n("button",{staticClass:"back-forward-button",class:{errors:e.widget.pageIndexHasErrors(e.currentPageIndex)},attrs:{disabled:e.widget.pageIndexHasErrors(e.currentPageIndex)},on:{click:function(){return e.widget.toNextPage()}}},[e._v("\n        "+e._s(e.t("__"+e.widget.nextButtonType(),e.widget.id))+"\n      ")]):e._e()])]):e._e()],2)},staticRenderFns:[]},(function(e){e&&e("data-v-735b5fe9_0",{source:".pages-menu-wrapper[data-v-735b5fe9]{display:flex;flex-direction:row;justify-content:center;margin:10px 0}.pages-menu-item[data-v-735b5fe9]{display:inline-block;padding:10px 20px;cursor:pointer;text-align:center}.pages-menu-item.unopened[data-v-735b5fe9]{opacity:.3;cursor:default}.pages-menu-item.active[data-v-735b5fe9]{border-bottom:3px solid #03a9f4}.pages-menu-item.errors[data-v-735b5fe9]{border-color:red}.back-forward-wrapper[data-v-735b5fe9]{display:flex;flex-direction:row;justify-content:space-between}.back-forward-button[data-v-735b5fe9]{padding:10px 20px;margin:10px;border:1px solid transparent;background-color:#03a9f4;color:#fff;cursor:pointer}.back-forward-button.errors[data-v-735b5fe9]{background-color:red;color:#fff;opacity:.2;cursor:default}",map:void 0,media:void 0})}),{components:{WidgetsLayout:Ge},props:{widget:Object,widgetItems:Object,formState:Object,setWidgetState:Function,wrapperRef:HTMLDivElement},data:function(){return{sortedPages:[]}},inject:["t"],computed:{currentPageIndex:function(){var e,t;return(null===(e=this.formState.widgetState)||void 0===e||null===(t=e[this.$props.widget.id])||void 0===t?void 0:t.currentPageIndex)||0}},watch:{currentPageIndex:{handler:function(){var e=this.$props.widget.getState("viewedIndices");this.$props.widget.setState("viewedIndices",b(new Set([].concat(b(e||[]),[this.currentPageIndex]))))},immediate:!0},"widget.properties.pages":{handler:function(){this.$data.sortedPages=this.$props.widget.getSortedPages()},immediate:!0}}},"data-v-735b5fe9",false,undefined,!1,ze,void 0,void 0),Qe=Ue({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"paging-menu"},e._l(e.widget.properties.pages,(function(t,r){return n("a",{key:r,staticClass:"paging-menu-item",class:{active:e.currentPageIndex===r},on:{click:function(){return e.setState("currentPageIndex",r)}}},[e._v("\n      "+e._s(e.t(t.labelKey,e.widget.id))+"\n    ")])})),0),e._v(" "),e._l(e.widget.properties.pages,(function(t,r){return n("div",{key:r,staticClass:"paging-content-item"},[e.currentPageIndex===r?n("div",e._l(t.children,(function(t,r){return n("div",{key:r},[n("widgets-layout",{attrs:{widgets:e.widgets,widgetItems:e.widgetItems,excludeWidgetIds:[e.widget.id],forParent:e.widget.id}})],1)})),0):e._e()])}))],2)},staticRenderFns:[]},(function(e){e&&e("data-v-487c98a8_0",{source:".paging-menu[data-v-487c98a8]{display:flex;flex-direction:row;justify-content:space-around}.paging-menu-item[data-v-487c98a8]{display:inline-block;padding:5px 10px}.paging-menu-item.active[data-v-487c98a8]{background-color:#e8e8e8}",map:void 0,media:void 0})}),{components:{WidgetsLayout:Ge},props:{widget:Object,widgets:Object,widgetItems:Object,formState:Object},inject:["t","setFormState"],computed:{currentPageIndex:function(){var e,t;return(null===(e=this.formState.widgetState)||void 0===e||null===(t=e[this.$props.widget.id])||void 0===t?void 0:t.currentPageIndex)||0}},watch:{formStateCurrentPageIndex:{handler:function(e){this.$data.currentPageIndex=e},deep:!0}},methods:{setState:function(e,t){var n=this.formState;if(void 0===t){if(!n.widgetState[this.$props.widget.id])return;delete n.widgetState[this.$props.widget.id][e]}else n.widgetState[this.$props.widget.id]||(n.widgetState[this.$props.widget.id]={}),n.widgetState[this.$props.widget.id][e]=t;this.setFormState(n)}}},"data-v-487c98a8",false,undefined,!1,ze,void 0,void 0),Ze=Ue({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"paging-menu-wrapper"},e._l(e.sortedPages,(function(t,r){return n("a",{key:r,staticClass:"paging-menu-item",class:{active:e.currentPageIndex===r,errors:e.pageIndexHasErrors(r)},on:{click:function(){return e.widget.setState("currentPageIndex",r)}}},[e._v("\n      "+e._s(e.t(t.labelKey,e.widget.id))+"\n    ")])})),0),e._v(" "),e._l(e.sortedPages,(function(t,r){return n("div",{key:r,staticClass:"paging-content-item"},[e.currentPageIndex===r?n("div",[n("widgets-layout",{attrs:{widgets:e.widgets,widgetItems:e.widgetItems,excludeWidgetIds:[e.widget.id],onlyIncludeWidgetIds:t.children,forParent:e.widget.id}})],1):e._e()])}))],2)},staticRenderFns:[]},(function(e){e&&e("data-v-225b5a8f_0",{source:".paging-menu-wrapper[data-v-225b5a8f]{display:flex;flex-direction:row;justify-content:center;margin:10px 0}.paging-menu-item[data-v-225b5a8f]{display:inline-block;padding:10px 20px;cursor:pointer;border:1px solid transparent}.paging-menu-item.active[data-v-225b5a8f]{background-color:#e8e8e8}.paging-menu-item.errors[data-v-225b5a8f]{border-color:red}",map:void 0,media:void 0})}),{components:{WidgetsLayout:Ge},props:{widget:Object,widgets:Object,widgetItems:Object,formState:Object,setWidgetState:Function},data:function(){return{sortedPages:[]}},inject:["t"],computed:{currentPageIndex:function(){var e,t;return(null===(e=this.formState.widgetState)||void 0===e||null===(t=e[this.$props.widget.id])||void 0===t?void 0:t.currentPageIndex)||0}},watch:{"widget.properties.pages":{handler:function(){this.$data.sortedPages=this.$props.widget.getSortedPages()},immediate:!0}},methods:{pageIndexHasErrors:function(e){var t=this.$props.widget.getState("pageIdxErrors")||{};return!!Object.keys(t).length&&Object.keys(t[e]||{}).length}}},"data-v-225b5a8f",false,undefined,!1,ze,void 0,void 0);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function et(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}var tt=function(e,t){return e.reduce((function(e,n){var r="[object "+n+"]";return t?e[r]=n:e[n]=r,e}),{})},nt=function(e){return e.reduce((function(e,t){return e[t]=!0,e}),{})},rt=["Array","Arguments","Object","RegExp","Symbol","Map","Set","Date","Error","Event","Generator","Promise","WeakMap","WeakSet","DocumentFragment","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","ArrayBuffer","DataView","DocumentFragment","Window","String","Number","Boolean","Function","Undefined","GeneratorFunction","BigInt","Null"],it=tt(rt,!1),ot=tt(rt,!0),at=nt([it.Generator,it.Promise,it.WeakMap,it.WeakSet]),st=nt([it.Map,it.Set]),ut=nt([it.Date,it.RegExp]),lt=nt(["bigint","boolean","function","number","string","undefined"]),ct=nt([it.Arguments,it.Array]),dt=nt([it.RegExp,it.Symbol]),ft=nt([it.Float32Array,it.Float64Array,it.Int8Array,it.Int16Array,it.Int32Array,it.Uint8Array,it.Uint8ClampedArray,it.Uint16Array,it.Uint32Array]),pt="undefined"!=typeof Buffer&&"function"==typeof Buffer.from,ht="function"==typeof Uint16Array;function vt(e){return String.fromCharCode.apply(null,new Uint16Array(e))}function gt(e){return Buffer.from(e).toString("utf8")}function yt(e){return""}var mt=pt?gt:ht?vt:yt,bt=/\[object ([HTML|SVG](.*)Element)\]/,wt=Object.prototype.toString,_t=Object.keys;function xt(e,t){return e>t}function Ot(e,t){return e[0]>t[0]}function jt(e,t){for(var n,r,i=0;i<e.length;++i){for(r=e[i],n=i-1;~n&&t(e[n],r);--n)e[n+1]=e[n];e[n+1]=r}return e}function St(e){for(var t,n=jt(_t(e),xt),r={},i=0;i<n.length;++i)r[t=n[i]]=e[t];return r}function kt(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n+1;return 0}function Ct(e,t,n,r){if(!r){var i=typeof e;if(lt[i])return i+"|"+e;if(null===e)return e+"|"+e}var o,a=r||wt.call(e);return ct[a]?e:a===it.Object?St(e):dt[a]?ot[a]+"|"+e.toString():st[a]?e instanceof Map?function(e,t,n){var r=[];e.forEach((function(e,i){r.push([Pt(i,t,n),Pt(e,t,n)])})),jt(r,Ot);for(var i,o=0;o<r.length;++o)i=r[o],r[o]="["+i[0]+","+i[1]+"]";return"Map|["+r.join(",")+"]"}(e,t,n):function(e,t,n){var r=[];return e.forEach((function(e){r.push(Pt(e,t,n))})),jt(r,xt),"Set|["+r.join(",")+"]"}(e,t,n):a===it.Date?ot[a]+"|"+e.getTime():a===it.Error?ot[a]+"|"+e.stack:a===it.Event?{bubbles:(o=e).bubbles,cancelBubble:o.cancelBubble,cancelable:o.cancelable,composed:o.composed,currentTarget:o.currentTarget,defaultPrevented:o.defaultPrevented,eventPhase:o.eventPhase,isTrusted:o.isTrusted,returnValue:o.returnValue,target:o.target,type:o.type}:at[a]?ot[a]+"|NOT_ENUMERABLE":bt.test(a)?a.slice(8,-1)+"|"+e.outerHTML:a===it.DocumentFragment?ot[a]+"|"+function(e){for(var t=e.children,n=[],r=0;r<t.length;++r)n.push(t[r].outerHTML);return n.join(",")}(e):ft[a]?ot[a]+"|"+e.join(","):a===it.ArrayBuffer?ot[a]+"|"+mt(e):a===it.DataView?ot[a]+"|"+mt(e.buffer):e}function Pt(e,t,n){if(!e||"object"!=typeof e)return Ct(e,t,n);var r=wt.call(e);return ut[r]?Ct(e,t,n,r):JSON.stringify(e,function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=[]),function(n,r){if("object"==typeof r)if(e.length){var i=kt(e,this);0===i?e.push(this):(e.splice(i),t.splice(i)),t.push(n);var o=kt(e,r);if(0!==o)return"[~"+(t.slice(0,o).join(".")||".")+"]";e.push(r)}else e[0]=r,t[0]=n;return n&&this[n]instanceof Date?Ct(this[n],e,t,it.Date):Ct(r,e,t)}}(t,n))}function Et(e){return function(e){for(var t,n=e.length,r=5381,i=52711;n--;)r=33*r^(t=e.charCodeAt(n)),i=33*i^t;return 4096*(r>>>0)+(i>>>0)}(Pt(e))}function $t(e,t){return Et(e)===Et(t)}$t.all=function(e){for(var t=0;t<(arguments.length<=1?0:arguments.length-1);++t)if(!$t(e,t+1<1||arguments.length<=t+1?void 0:arguments[t+1]))return!1;return!0},$t.any=function(e){for(var t=0;t<(arguments.length<=1?0:arguments.length-1);++t)if($t(e,t+1<1||arguments.length<=t+1?void 0:arguments[t+1]))return!0;return!1},$t.not=function(e,t){return Et(e)!==Et(t)},Et.is=$t;var It=et((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(n=Et)&&n.__esModule?n:{default:n};var o=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t;var i={cache:!0};if(void 0===r&&(r=i),"function"!=typeof n?(this.value=n,this.type=this.constructor.CONSTANT):(this.calculationMethod=n,this.type=this.constructor.DYNAMIC),!this.id)throw new Error("factId required");return this.priority=parseInt(r.priority||1,10),this.options=Object.assign({},i,r),this.cacheKeyMethod=this.defaultCacheKeys,this}return r(e,[{key:"isConstant",value:function(){return this.type===this.constructor.CONSTANT}},{key:"isDynamic",value:function(){return this.type===this.constructor.DYNAMIC}},{key:"calculate",value:function(e,t){return Object.prototype.hasOwnProperty.call(this,"value")?this.value:this.calculationMethod(e,t)}},{key:"defaultCacheKeys",value:function(e,t){return{params:t,id:e}}},{key:"getCacheKey",value:function(t){if(!0===this.options.cache){var n=this.cacheKeyMethod(this.id,t);return e.hashFromObject(n)}}}],[{key:"hashFromObject",value:function(e){return(0,i.default)(e)}}]),e}();o.CONSTANT="CONSTANT",o.DYNAMIC="DYNAMIC",t.default=o})),Rt=et((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){try{("undefined"!=typeof process&&process.env&&process.env.DEBUG&&process.env.DEBUG.match(/json-rules-engine/)||"undefined"!=typeof window&&window.localStorage&&window.localStorage.debug&&window.localStorage.debug.match(/json-rules-engine/))&&console.log(e)}catch(e){}}}));var Tt=function(e){return!!e&&"object"==typeof e},Ft=et((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r=o(Rt),i=o(Tt);function o(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw new Error("Condition: constructor options required");var n=e.booleanOperator(t);if(Object.assign(this,t),n){var r=t[n];if(!Array.isArray(r))throw new Error('"'+n+'" must be an array');this.operator=n,this.priority=parseInt(t.priority,10)||1,this[n]=r.map((function(t){return new e(t)}))}else{if(!Object.prototype.hasOwnProperty.call(t,"fact"))throw new Error('Condition: constructor "fact" property required');if(!Object.prototype.hasOwnProperty.call(t,"operator"))throw new Error('Condition: constructor "operator" property required');if(!Object.prototype.hasOwnProperty.call(t,"value"))throw new Error('Condition: constructor "value" property required');Object.prototype.hasOwnProperty.call(t,"priority")&&(t.priority=parseInt(t.priority,10))}}return n(e,[{key:"toJSON",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n={};this.priority&&(n.priority=this.priority);var r=e.booleanOperator(this);return r?n[r]=this[r].map((function(e){return e.toJSON(t)})):(n.operator=this.operator,n.value=this.value,n.fact=this.fact,void 0!==this.factResult&&(n.factResult=this.factResult),void 0!==this.result&&(n.result=this.result),this.params&&(n.params=this.params),this.path&&(n.path=this.path)),t?JSON.stringify(n):n}},{key:"_getValue",value:function(e){var t=this.value;return(0,i.default)(t)&&Object.prototype.hasOwnProperty.call(t,"fact")?e.factValue(t.fact,t.params,t.path):Promise.resolve(t)}},{key:"evaluate",value:function(e,t){var n=this;if(!e)return Promise.reject(new Error("almanac required"));if(!t)return Promise.reject(new Error("operatorMap required"));if(this.isBooleanOperator())return Promise.reject(new Error("Cannot evaluate() a boolean condition"));var i=t.get(this.operator);return i?this._getValue(e).then((function(t){return e.factValue(n.fact,n.params,n.path).then((function(e){var o=i.evaluate(e,t);return(0,r.default)("condition::evaluate <"+JSON.stringify(e)+" "+n.operator+" "+JSON.stringify(t)+"?> ("+o+")"),{result:o,leftHandSideValue:e,rightHandSideValue:t,operator:n.operator}}))})):Promise.reject(new Error("Unknown operator: "+this.operator))}},{key:"booleanOperator",value:function(){return e.booleanOperator(this)}},{key:"isBooleanOperator",value:function(){return void 0!==e.booleanOperator(this)}}],[{key:"booleanOperator",value:function(e){return Object.prototype.hasOwnProperty.call(e,"any")?"any":Object.prototype.hasOwnProperty.call(e,"all")?"all":void 0}}]),e}();t.default=a})),Lt=et((function(e){var t=function(){function e(e,t){return null!=t&&e instanceof t}var t,n,r;try{t=Map}catch(e){t=function(){}}try{n=Set}catch(e){n=function(){}}try{r=Promise}catch(e){r=function(){}}function i(o,s,u,l,c){"object"==typeof s&&(u=s.depth,l=s.prototype,c=s.includeNonEnumerable,s=s.circular);var d=[],f=[],p="undefined"!=typeof Buffer;return void 0===s&&(s=!0),void 0===u&&(u=1/0),function o(u,h){if(null===u)return null;if(0===h)return u;var v,g;if("object"!=typeof u)return u;if(e(u,t))v=new t;else if(e(u,n))v=new n;else if(e(u,r))v=new r((function(e,t){u.then((function(t){e(o(t,h-1))}),(function(e){t(o(e,h-1))}))}));else if(i.__isArray(u))v=[];else if(i.__isRegExp(u))v=new RegExp(u.source,a(u)),u.lastIndex&&(v.lastIndex=u.lastIndex);else if(i.__isDate(u))v=new Date(u.getTime());else{if(p&&Buffer.isBuffer(u))return v=Buffer.allocUnsafe?Buffer.allocUnsafe(u.length):new Buffer(u.length),u.copy(v),v;e(u,Error)?v=Object.create(u):void 0===l?(g=Object.getPrototypeOf(u),v=Object.create(g)):(v=Object.create(l),g=l)}if(s){var y=d.indexOf(u);if(-1!=y)return f[y];d.push(u),f.push(v)}for(var m in e(u,t)&&u.forEach((function(e,t){var n=o(t,h-1),r=o(e,h-1);v.set(n,r)})),e(u,n)&&u.forEach((function(e){var t=o(e,h-1);v.add(t)})),u){var b;g&&(b=Object.getOwnPropertyDescriptor(g,m)),b&&null==b.set||(v[m]=o(u[m],h-1))}if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(u);for(m=0;m<w.length;m++){var _=w[m];(!(O=Object.getOwnPropertyDescriptor(u,_))||O.enumerable||c)&&(v[_]=o(u[_],h-1),O.enumerable||Object.defineProperty(v,_,{enumerable:!1}))}}if(c){var x=Object.getOwnPropertyNames(u);for(m=0;m<x.length;m++){var O,j=x[m];(O=Object.getOwnPropertyDescriptor(u,j))&&O.enumerable||(v[j]=o(u[j],h-1),Object.defineProperty(v,j,{enumerable:!1}))}}return v}(o,u)}function o(e){return Object.prototype.toString.call(e)}function a(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return i.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},i.__objToStr=o,i.__isDate=function(e){return"object"==typeof e&&"[object Date]"===o(e)},i.__isArray=function(e){return"object"==typeof e&&"[object Array]"===o(e)},i.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===o(e)},i.__getRegExpFlags=a,i}();e.exports&&(e.exports=t)})),At=et((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(n=Lt)&&n.__esModule?n:{default:n};var o=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.conditions=(0,i.default)(t),this.event=(0,i.default)(n),this.priority=(0,i.default)(r),this.name=(0,i.default)(o),this.result=null}return r(e,[{key:"setResult",value:function(e){this.result=e}},{key:"toJSON",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={conditions:this.conditions.toJSON(!1),event:this.event,priority:this.priority,name:this.name,result:this.result};return e?JSON.stringify(t):t}}]),e}();t.default=o})),Mt=et((function(e,t){!function(t){var n=Object.hasOwnProperty,r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},i="object"==typeof process&&"function"==typeof process.nextTick,o="function"==typeof Symbol,a="object"==typeof Reflect,s="function"==typeof setImmediate?setImmediate:setTimeout,u=o?a&&"function"==typeof Reflect.ownKeys?Reflect.ownKeys:function(e){var t=Object.getOwnPropertyNames(e);return t.push.apply(t,Object.getOwnPropertySymbols(e)),t}:Object.keys;function l(){this._events={},this._conf&&c.call(this,this._conf)}function c(e){e&&(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),e.maxListeners!==t&&(this._maxListeners=e.maxListeners),e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),e.ignoreErrors&&(this.ignoreErrors=e.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function d(e,t){var n="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(n+=" Event name: "+t+"."),"undefined"!=typeof process&&process.emitWarning){var r=new Error(n);r.name="MaxListenersExceededWarning",r.emitter=this,r.count=e,process.emitWarning(r)}else console.error(n),console.trace&&console.trace()}var f=function(e,t,n){var r=arguments.length;switch(r){case 0:return[];case 1:return[e];case 2:return[e,t];case 3:return[e,t,n];default:for(var i=new Array(r);r--;)i[r]=arguments[r];return i}};function p(e,n){for(var r={},i=e.length,o=n?value.length:0,a=0;a<i;a++)r[e[a]]=a<o?n[a]:t;return r}function h(e,t,n){var r,i;if(this._emitter=e,this._target=t,this._listeners={},this._listenersCount=0,(n.on||n.off)&&(r=n.on,i=n.off),t.addEventListener?(r=t.addEventListener,i=t.removeEventListener):t.addListener?(r=t.addListener,i=t.removeListener):t.on&&(r=t.on,i=t.off),!r&&!i)throw Error("target does not implement any known event API");if("function"!=typeof r)throw TypeError("on method must be a function");if("function"!=typeof i)throw TypeError("off method must be a function");this._on=r,this._off=i;var o=e._observers;o?o.push(this):e._observers=[this]}function v(e,r,i,o){var a=Object.assign({},r);if(!e)return a;if("object"!=typeof e)throw TypeError("options must be an object");var s,u,l,c=Object.keys(e),d=c.length;function f(e){throw Error('Invalid "'+s+'" option value'+(e?". Reason: "+e:""))}for(var p=0;p<d;p++){if(s=c[p],!o&&!n.call(r,s))throw Error('Unknown "'+s+'" option');(u=e[s])!==t&&(l=i[s],a[s]=l?l(u,f):u)}return a}function g(e,t){return"function"==typeof e&&e.hasOwnProperty("prototype")||t("value must be a constructor"),e}function y(e){var t="value must be type of "+e.join("|"),n=e.length,r=e[0],i=e[1];return 1===n?function(e,n){if(typeof e===r)return e;n(t)}:2===n?function(e,n){var o=typeof e;if(o===r||o===i)return e;n(t)}:function(r,i){for(var o=typeof r,a=n;a-- >0;)if(o===e[a])return r;i(t)}}Object.assign(h.prototype,{subscribe:function(e,t,n){var r=this,i=this._target,o=this._emitter,a=this._listeners,s=function(){var r=f.apply(null,arguments),a={data:r,name:t,original:e};if(n){var s=n.call(i,a);!1!==s&&o.emit.apply(o,[a.name].concat(r))}else o.emit.apply(o,[t].concat(r))};if(a[e])throw Error("Event '"+e+"' is already listening");this._listenersCount++,o._newListener&&o._removeListener&&!r._onNewListener?(this._onNewListener=function(n){n===t&&null===a[e]&&(a[e]=s,r._on.call(i,e,s))},o.on("newListener",this._onNewListener),this._onRemoveListener=function(n){n===t&&!o.hasListeners(n)&&a[e]&&(a[e]=null,r._off.call(i,e,s))},a[e]=null,o.on("removeListener",this._onRemoveListener)):(a[e]=s,r._on.call(i,e,s))},unsubscribe:function(e){var t,n,r,i=this,o=this._listeners,a=this._emitter,s=this._off,l=this._target;if(e&&"string"!=typeof e)throw TypeError("event must be a string");function c(){i._onNewListener&&(a.off("newListener",i._onNewListener),a.off("removeListener",i._onRemoveListener),i._onNewListener=null,i._onRemoveListener=null);var e=_.call(a,i);a._observers.splice(e,1)}if(e){if(!(t=o[e]))return;s.call(l,e,t),delete o[e],--this._listenersCount||c()}else{for(r=(n=u(o)).length;r-- >0;)e=n[r],s.call(l,e,o[e]);this._listeners={},this._listenersCount=0,c()}}});var m=y(["function"]),b=y(["object","function"]);function w(e,t,n){var r,i,o,a=0,s=new e((function(u,l,c){function d(){i&&(i=null),a&&(clearTimeout(a),a=0)}n=v(n,{timeout:0,overload:!1},{timeout:function(e,t){return("number"!=typeof(e*=1)||e<0||!Number.isFinite(e))&&t("timeout must be a positive number"),e}}),r=!n.overload&&"function"==typeof e.prototype.cancel&&"function"==typeof c;var f=function(e){d(),u(e)},p=function(e){d(),l(e)};r?t(f,p,c):(i=[function(e){p(e||Error("canceled"))}],t(f,p,(function(e){if(o)throw Error("Unable to subscribe on cancel event asynchronously");if("function"!=typeof e)throw TypeError("onCancel callback must be a function");i.push(e)})),o=!0),n.timeout>0&&(a=setTimeout((function(){var e=Error("timeout");e.code="ETIMEDOUT",a=0,s.cancel(e),l(e)}),n.timeout))}));return r||(s.cancel=function(e){if(i){for(var t=i.length,n=1;n<t;n++)i[n](e);i[0](e),i=null}}),s}function _(e){var t=this._observers;if(!t)return-1;for(var n=t.length,r=0;r<n;r++)if(t[r]._target===e)return r;return-1}function x(e,t,n,r,i){if(!n)return null;if(0===r){var o=typeof t;if("string"===o){var a,s,l=0,c=0,d=this.delimiter,f=d.length;if(-1!==(s=t.indexOf(d))){a=new Array(5);do{a[l++]=t.slice(c,s),c=s+f}while(-1!==(s=t.indexOf(d,c)));a[l++]=t.slice(c),t=a,i=l}else t=[t],i=1}else"object"===o?i=t.length:(t=[t],i=1)}var p,h,v,g,y,m,b,w=null,_=t[r],O=t[r+1];if(r===i)n._listeners&&("function"==typeof n._listeners?(e&&e.push(n._listeners),w=[n]):(e&&e.push.apply(e,n._listeners),w=[n]));else{if("*"===_){for(s=(m=u(n)).length;s-- >0;)"_listeners"!==(p=m[s])&&(b=x(e,t,n[p],r+1,i))&&(w?w.push.apply(w,b):w=b);return w}if("**"===_){for((y=r+1===i||r+2===i&&"*"===O)&&n._listeners&&(w=x(e,t,n,i,i)),s=(m=u(n)).length;s-- >0;)"_listeners"!==(p=m[s])&&("*"===p||"**"===p?(n[p]._listeners&&!y&&(b=x(e,t,n[p],i,i))&&(w?w.push.apply(w,b):w=b),b=x(e,t,n[p],r,i)):b=x(e,t,n[p],p===O?r+2:r,i),b&&(w?w.push.apply(w,b):w=b));return w}n[_]&&(w=x(e,t,n[_],r+1,i))}if((h=n["*"])&&x(e,t,h,r+1,i),v=n["**"])if(r<i)for(v._listeners&&x(e,t,v,i,i),s=(m=u(v)).length;s-- >0;)"_listeners"!==(p=m[s])&&(p===O?x(e,t,v[p],r+2,i):p===_?x(e,t,v[p],r+1,i):((g={})[p]=v[p],x(e,t,{"**":g},r+1,i)));else v._listeners?x(e,t,v,i,i):v["*"]&&v["*"]._listeners&&x(e,t,v["*"],i,i);return w}function O(e,t,n){var r,i,o=0,a=0,s=this.delimiter,u=s.length;if("string"==typeof e)if(-1!==(r=e.indexOf(s))){i=new Array(5);do{i[o++]=e.slice(a,r),a=r+u}while(-1!==(r=e.indexOf(s,a)));i[o++]=e.slice(a)}else i=[e],o=1;else i=e,o=e.length;if(o>1)for(r=0;r+1<o;r++)if("**"===i[r]&&"**"===i[r+1])return;var l,c=this.listenerTree;for(r=0;r<o;r++)if(c=c[l=i[r]]||(c[l]={}),r===o-1)return c._listeners?("function"==typeof c._listeners&&(c._listeners=[c._listeners]),n?c._listeners.unshift(t):c._listeners.push(t),!c._listeners.warned&&this._maxListeners>0&&c._listeners.length>this._maxListeners&&(c._listeners.warned=!0,d.call(this,c._listeners.length,l))):c._listeners=t,!0;return!0}function j(e,t,n,r){for(var i,o,a,s,l=u(e),c=l.length,d=e._listeners;c-- >0;)i=e[o=l[c]],a="_listeners"===o?n:n?n.concat(o):[o],s=r||"symbol"==typeof o,d&&t.push(s?a:a.join(this.delimiter)),"object"==typeof i&&j.call(this,i,t,a,s);return t}function S(e){for(var t,n,r,i=u(e),o=i.length;o-- >0;)(t=e[n=i[o]])&&(r=!0,"_listeners"===n||S(t)||delete e[n]);return r}function k(e,t,n){this.emitter=e,this.event=t,this.listener=n}function C(e,n,r){if(!0===r)a=!0;else if(!1===r)o=!0;else{if(!r||"object"!=typeof r)throw TypeError("options should be an object or true");var o=r.async,a=r.promisify,u=r.nextTick,l=r.objectify}if(o||u||a){var c=n,d=n._origin||n;if(u&&!i)throw Error("process.nextTick is not supported");a===t&&(a="AsyncFunction"===n.constructor.name),n=function(){var e=arguments,t=this,n=this.event;return a?u?Promise.resolve():new Promise((function(e){s(e)})).then((function(){return t.event=n,c.apply(t,e)})):(u?process.nextTick:s)((function(){t.event=n,c.apply(t,e)}))},n._async=!0,n._origin=d}return[n,l?new k(this,e,n):this]}function P(e){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,c.call(this,e)}k.prototype.off=function(){return this.emitter.off(this.event,this.listener),this},P.EventEmitter2=P,P.prototype.listenTo=function(e,n,i){if("object"!=typeof e)throw TypeError("target musts be an object");var o=this;function a(t){if("object"!=typeof t)throw TypeError("events must be an object");var n,r=i.reducers,a=_.call(o,e);n=-1===a?new h(o,e,i):o._observers[a];for(var s,l=u(t),c=l.length,d="function"==typeof r,f=0;f<c;f++)s=l[f],n.subscribe(s,t[s]||s,d?r:r&&r[s])}return i=v(i,{on:t,off:t,reducers:t},{on:m,off:m,reducers:b}),r(n)?a(p(n)):a("string"==typeof n?p(n.split(/\s+/)):n),this},P.prototype.stopListeningTo=function(e,t){var n=this._observers;if(!n)return!1;var r,i=n.length,o=!1;if(e&&"object"!=typeof e)throw TypeError("target should be an object");for(;i-- >0;)r=n[i],e&&r._target!==e||(r.unsubscribe(t),o=!0);return o},P.prototype.delimiter=".",P.prototype.setMaxListeners=function(e){e!==t&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},P.prototype.getMaxListeners=function(){return this._maxListeners},P.prototype.event="",P.prototype.once=function(e,t,n){return this._once(e,t,!1,n)},P.prototype.prependOnceListener=function(e,t,n){return this._once(e,t,!0,n)},P.prototype._once=function(e,t,n,r){return this._many(e,1,t,n,r)},P.prototype.many=function(e,t,n,r){return this._many(e,t,n,!1,r)},P.prototype.prependMany=function(e,t,n,r){return this._many(e,t,n,!0,r)},P.prototype._many=function(e,t,n,r,i){var o=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");function a(){return 0==--t&&o.off(e,a),n.apply(this,arguments)}return a._origin=n,this._on(e,a,r,i)},P.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||l.call(this);var e,t,n,r,i,a,s=arguments[0],u=this.wildcard;if("newListener"===s&&!this._newListener&&!this._events.newListener)return!1;if(u&&(e=s,"newListener"!==s&&"removeListener"!==s&&"object"==typeof s)){if(n=s.length,o)for(r=0;r<n;r++)if("symbol"==typeof s[r]){a=!0;break}a||(s=s.join(this.delimiter))}var c,d=arguments.length;if(this._all&&this._all.length)for(r=0,n=(c=this._all.slice()).length;r<n;r++)switch(this.event=s,d){case 1:c[r].call(this,s);break;case 2:c[r].call(this,s,arguments[1]);break;case 3:c[r].call(this,s,arguments[1],arguments[2]);break;default:c[r].apply(this,arguments)}if(u)c=[],x.call(this,c,e,this.listenerTree,0,n);else{if("function"==typeof(c=this._events[s])){switch(this.event=s,d){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(d-1),i=1;i<d;i++)t[i-1]=arguments[i];c.apply(this,t)}return!0}c&&(c=c.slice())}if(c&&c.length){if(d>3)for(t=new Array(d-1),i=1;i<d;i++)t[i-1]=arguments[i];for(r=0,n=c.length;r<n;r++)switch(this.event=s,d){case 1:c[r].call(this);break;case 2:c[r].call(this,arguments[1]);break;case 3:c[r].call(this,arguments[1],arguments[2]);break;default:c[r].apply(this,t)}return!0}if(!this.ignoreErrors&&!this._all&&"error"===s)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},P.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||l.call(this);var e,t,n,r,i,a,s=arguments[0],u=this.wildcard;if("newListener"===s&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(u&&(e=s,"newListener"!==s&&"removeListener"!==s&&"object"==typeof s)){if(r=s.length,o)for(i=0;i<r;i++)if("symbol"==typeof s[i]){t=!0;break}t||(s=s.join(this.delimiter))}var c,d=[],f=arguments.length;if(this._all)for(i=0,r=this._all.length;i<r;i++)switch(this.event=s,f){case 1:d.push(this._all[i].call(this,s));break;case 2:d.push(this._all[i].call(this,s,arguments[1]));break;case 3:d.push(this._all[i].call(this,s,arguments[1],arguments[2]));break;default:d.push(this._all[i].apply(this,arguments))}if(u?(c=[],x.call(this,c,e,this.listenerTree,0)):c=this._events[s],"function"==typeof c)switch(this.event=s,f){case 1:d.push(c.call(this));break;case 2:d.push(c.call(this,arguments[1]));break;case 3:d.push(c.call(this,arguments[1],arguments[2]));break;default:for(n=new Array(f-1),a=1;a<f;a++)n[a-1]=arguments[a];d.push(c.apply(this,n))}else if(c&&c.length){if(c=c.slice(),f>3)for(n=new Array(f-1),a=1;a<f;a++)n[a-1]=arguments[a];for(i=0,r=c.length;i<r;i++)switch(this.event=s,f){case 1:d.push(c[i].call(this));break;case 2:d.push(c[i].call(this,arguments[1]));break;case 3:d.push(c[i].call(this,arguments[1],arguments[2]));break;default:d.push(c[i].apply(this,n))}}else if(!this.ignoreErrors&&!this._all&&"error"===s)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(d)},P.prototype.on=function(e,t,n){return this._on(e,t,!1,n)},P.prototype.prependListener=function(e,t,n){return this._on(e,t,!0,n)},P.prototype.onAny=function(e){return this._onAny(e,!1)},P.prototype.prependAny=function(e){return this._onAny(e,!0)},P.prototype.addListener=P.prototype.on,P.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},P.prototype._on=function(e,n,r,i){if("function"==typeof e)return this._onAny(e,n),this;if("function"!=typeof n)throw new Error("on only accepts instances of Function");this._events||l.call(this);var o,a=this;return i!==t&&(n=(o=C.call(this,e,n,i))[0],a=o[1]),this._newListener&&this.emit("newListener",e,n),this.wildcard?(O.call(this,e,n,r),a):(this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),r?this._events[e].unshift(n):this._events[e].push(n),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,d.call(this,this._events[e].length,e))):this._events[e]=n,a)},P.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var n,i=[];if(this.wildcard){var o="string"==typeof e?e.split(this.delimiter):e.slice();if(!(i=x.call(this,null,o,this.listenerTree,0)))return this}else{if(!this._events[e])return this;n=this._events[e],i.push({_listeners:n})}for(var a=0;a<i.length;a++){var s=i[a];if(n=s._listeners,r(n)){for(var u=-1,l=0,c=n.length;l<c;l++)if(n[l]===t||n[l].listener&&n[l].listener===t||n[l]._origin&&n[l]._origin===t){u=l;break}if(u<0)continue;return this.wildcard?s._listeners.splice(u,1):this._events[e].splice(u,1),0===n.length&&(this.wildcard?delete s._listeners:delete this._events[e]),this._removeListener&&this.emit("removeListener",e,t),this}(n===t||n.listener&&n.listener===t||n._origin&&n._origin===t)&&(this.wildcard?delete s._listeners:delete this._events[e],this._removeListener&&this.emit("removeListener",e,t))}return this.listenerTree&&S(this.listenerTree),this},P.prototype.offAny=function(e){var t,n=0,r=0;if(e&&this._all&&this._all.length>0){for(n=0,r=(t=this._all).length;n<r;n++)if(e===t[n])return t.splice(n,1),this._removeListener&&this.emit("removeListenerAny",e),this}else{if(t=this._all,this._removeListener)for(n=0,r=t.length;n<r;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},P.prototype.removeListener=P.prototype.off,P.prototype.removeAllListeners=function(e){if(e===t)return!this._events||l.call(this),this;if(this.wildcard){var n,r=x.call(this,null,e,this.listenerTree,0);if(!r)return this;for(n=0;n<r.length;n++)r[n]._listeners=null;this.listenerTree&&S(this.listenerTree)}else this._events&&(this._events[e]=null);return this},P.prototype.listeners=function(e){var n,r,i,o,a,s=this._events;if(e===t){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!s)return[];for(o=(n=u(s)).length,i=[];o-- >0;)"function"==typeof(r=s[n[o]])?i.push(r):i.push.apply(i,r);return i}if(this.wildcard){if(!(a=this.listenerTree))return[];var l=[],c="string"==typeof e?e.split(this.delimiter):e.slice();return x.call(this,l,c,a,0),l}return s&&(r=s[e])?"function"==typeof r?[r]:r:[]},P.prototype.eventNames=function(e){var t=this._events;return this.wildcard?j.call(this,this.listenerTree,[],null,e):t?u(t):[]},P.prototype.listenerCount=function(e){return this.listeners(e).length},P.prototype.hasListeners=function(e){if(this.wildcard){var n=[],r="string"==typeof e?e.split(this.delimiter):e.slice();return x.call(this,n,r,this.listenerTree,0),n.length>0}var i=this._events,o=this._all;return!!(o&&o.length||i&&(e===t?u(i).length:i[e]))},P.prototype.listenersAny=function(){return this._all?this._all:[]},P.prototype.waitFor=function(e,n){var r=this,i=typeof n;return"number"===i?n={timeout:n}:"function"===i&&(n={filter:n}),w((n=v(n,{timeout:0,filter:t,handleError:!1,Promise:Promise,overload:!1},{filter:m,Promise:g})).Promise,(function(t,i,o){function a(){var o=n.filter;if(!o||o.apply(r,arguments))if(r.off(e,a),n.handleError){var s=arguments[0];s?i(s):t(f.apply(null,arguments).slice(1))}else t(f.apply(null,arguments))}o((function(){r.off(e,a)})),r._on(e,a,!1)}),{timeout:n.timeout,overload:n.overload})};var E=P.prototype;Object.defineProperties(P,{defaultMaxListeners:{get:function(){return E._maxListeners},set:function(e){if("number"!=typeof e||e<0||Number.isNaN(e))throw TypeError("n must be a non-negative number");E._maxListeners=e},enumerable:!0},once:{value:function(e,t,n){return w((n=v(n,{Promise:Promise,timeout:0,overload:!1},{Promise:g})).Promise,(function(n,r,i){var o;if("function"==typeof e.addEventListener)return o=function(){n(f.apply(null,arguments))},i((function(){e.removeEventListener(t,o)})),void e.addEventListener(t,o,{once:!0});var a,s=function(){a&&e.removeListener("error",a),n(f.apply(null,arguments))};"error"!==t&&(a=function(n){e.removeListener(t,s),r(n)},e.once("error",a)),i((function(){a&&e.removeListener("error",a),e.removeListener(t,s)})),e.once(t,s)}),{timeout:n.timeout,overload:n.overload})},writable:!0,configurable:!0}}),Object.defineProperties(E,{_maxListeners:{value:10,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),e.exports=P}()})),Wt=et((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r=a(Ft),i=a(At),o=a(Rt);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));"string"==typeof e&&(e=JSON.parse(e)),e&&e.conditions&&n.setConditions(e.conditions),e&&e.onSuccess&&n.on("success",e.onSuccess),e&&e.onFailure&&n.on("failure",e.onFailure),e&&(e.name||0===e.name)&&n.setName(e.name);var r=e&&e.priority||1;n.setPriority(r);var i=e&&e.event||{type:"unknown"};return n.setEvent(i),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"setPriority",value:function(e){if((e=parseInt(e,10))<=0)throw new Error("Priority must be greater than zero");return this.priority=e,this}},{key:"setName",value:function(e){if(!e&&0!==e)throw new Error('Rule "name" must be defined');return this.name=e,this}},{key:"setConditions",value:function(e){if(!Object.prototype.hasOwnProperty.call(e,"all")&&!Object.prototype.hasOwnProperty.call(e,"any"))throw new Error('"conditions" root must contain a single instance of "all" or "any"');return this.conditions=new r.default(e),this}},{key:"setEvent",value:function(e){if(!e)throw new Error("Rule: setEvent() requires event object");if(!Object.prototype.hasOwnProperty.call(e,"type"))throw new Error('Rule: setEvent() requires event object with "type" property');return this.ruleEvent={type:e.type},e.params&&(this.ruleEvent.params=e.params),this}},{key:"getEvent",value:function(){return this.ruleEvent}},{key:"getPriority",value:function(){return this.priority}},{key:"getConditions",value:function(){return this.conditions}},{key:"getEngine",value:function(){return this.engine}},{key:"setEngine",value:function(e){return this.engine=e,this}},{key:"toJSON",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={conditions:this.conditions.toJSON(!1),priority:this.priority,event:this.ruleEvent,name:this.name};return e?JSON.stringify(t):t}},{key:"prioritizeConditions",value:function(e){var t=this,n=e.reduce((function(e,n){var r=n.priority;if(!r){var i=t.engine.getFact(n.fact);r=i&&i.priority||1}return e[r]||(e[r]=[]),e[r].push(n),e}),{});return Object.keys(n).sort((function(e,t){return Number(e)>Number(t)?-1:1})).map((function(e){return n[e]}))}},{key:"evaluate",value:function(e){var t=this,n=new i.default(this.conditions,this.ruleEvent,this.priority,this.name),r=function(n,r){return Array.isArray(n)||(n=[n]),Promise.all(n.map((function(n){return function(n){if(n.isBooleanOperator()){var r=n[n.operator];return("all"===n.operator?u(r):s(r)).then((function(e){var t=!0===e;return n.result=t,t}))}return n.evaluate(e,t.engine.operators).then((function(e){var t=e.result;return n.factResult=e.leftHandSideValue,n.result=t,t}))}(n)}))).then((function(e){return(0,o.default)("rule::evaluateConditions results",e),r.call(e,(function(e){return!0===e}))}))},a=function(e,n){if(0===e.length)return Promise.resolve(!0);var i=Array.prototype.some;"all"===n&&(i=Array.prototype.every);for(var a=t.prioritizeConditions(e),s=Promise.resolve(),u=function(e){var t=a[e],u=!1;s=s.then((function(e){return"any"===n&&!0===e||u?((0,o.default)("prioritizeAndRun::detected truthy result; skipping remaining conditions"),u=!0,!0):"all"===n&&!1===e||u?((0,o.default)("prioritizeAndRun::detected falsey result; skipping remaining conditions"),u=!0,!1):r(t,i)}))},l=0;l<a.length;l++)u(l);return s},s=function(e){return a(e,"any")},u=function(e){return a(e,"all")},l=function(r){n.setResult(r);var i=r?"success":"failure";return t.emitAsync(i,n.event,e,n).then((function(){return n}))};return n.conditions.any?s(n.conditions.any).then((function(e){return l(e)})):u(n.conditions.all).then((function(e){return l(e)}))}}]),t}(a(Mt).default);t.default=s})),Nt=et((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var r=function(){function e(t,n,r){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=String(t),!t)throw new Error("Missing operator name");if("function"!=typeof n)throw new Error("Missing operator callback");this.cb=n,this.factValueValidator=r,this.factValueValidator||(this.factValueValidator=function(){return!0})}return n(e,[{key:"evaluate",value:function(e,t){return this.factValueValidator(e)&&this.cb(e,t)}}]),e}();t.default=r})),Dt=et((function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0}),t.UndefinedFactError=function(e){function t(){var e;n(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];var s=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o)));return s.code="UNDEFINED_FACT",s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Error),t}()}));const{hasOwnProperty:Vt}=Object.prototype;function Bt(e,t){return(e=e.slice()).push(t),e}function qt(e,t){return(t=t.slice()).unshift(e),t}class Ut extends Error{constructor(e){super('JSONPath should not be called with "new" (it prevents return of (unwrapped) scalar values)'),this.avoidNew=!0,this.value=e,this.name="NewError"}}function Ht(e,t,n,r,i){if(!(this instanceof Ht))try{return new Ht(e,t,n,r,i)}catch(e){if(!e.avoidNew)throw e;return e.value}"string"==typeof e&&(i=r,r=n,n=t,t=e,e=null);const o=e&&"object"==typeof e;if(e=e||{},this.json=e.json||n,this.path=e.path||t,this.resultType=e.resultType||"value",this.flatten=e.flatten||!1,this.wrap=!Vt.call(e,"wrap")||e.wrap,this.sandbox=e.sandbox||{},this.preventEval=e.preventEval||!1,this.parent=e.parent||null,this.parentProperty=e.parentProperty||null,this.callback=e.callback||r||null,this.otherTypeCallback=e.otherTypeCallback||i||function(){throw new TypeError("You must supply an otherTypeCallback callback option with the @other() operator.")},!1!==e.autostart){const r={path:o?e.path:t};o?"json"in e&&(r.json=e.json):r.json=n;const i=this.evaluate(r);if(!i||"object"!=typeof i)throw new Ut(i);return i}}Ht.prototype.evaluate=function(e,t,n,r){let i=this.parent,o=this.parentProperty,{flatten:a,wrap:s}=this;if(this.currResultType=this.resultType,this.currPreventEval=this.preventEval,this.currSandbox=this.sandbox,n=n||this.callback,this.currOtherTypeCallback=r||this.otherTypeCallback,t=t||this.json,(e=e||this.path)&&"object"==typeof e&&!Array.isArray(e)){if(!e.path&&""!==e.path)throw new TypeError('You must supply a "path" property when providing an object argument to JSONPath.evaluate().');if(!Vt.call(e,"json"))throw new TypeError('You must supply a "json" property when providing an object argument to JSONPath.evaluate().');({json:t}=e),a=Vt.call(e,"flatten")?e.flatten:a,this.currResultType=Vt.call(e,"resultType")?e.resultType:this.currResultType,this.currSandbox=Vt.call(e,"sandbox")?e.sandbox:this.currSandbox,s=Vt.call(e,"wrap")?e.wrap:s,this.currPreventEval=Vt.call(e,"preventEval")?e.preventEval:this.currPreventEval,n=Vt.call(e,"callback")?e.callback:n,this.currOtherTypeCallback=Vt.call(e,"otherTypeCallback")?e.otherTypeCallback:this.currOtherTypeCallback,i=Vt.call(e,"parent")?e.parent:i,o=Vt.call(e,"parentProperty")?e.parentProperty:o,e=e.path}if(i=i||null,o=o||null,Array.isArray(e)&&(e=Ht.toPathString(e)),!e&&""!==e||!t)return;const u=Ht.toPathArray(e);"$"===u[0]&&u.length>1&&u.shift(),this._hasParentSelector=null;const l=this._trace(u,t,["$"],i,o,n).filter((function(e){return e&&!e.isParentSelector}));return l.length?s||1!==l.length||l[0].hasArrExpr?l.reduce(((e,t)=>{const n=this._getPreferredOutput(t);return a&&Array.isArray(n)?e=e.concat(n):e.push(n),e}),[]):this._getPreferredOutput(l[0]):s?[]:void 0},Ht.prototype._getPreferredOutput=function(e){const t=this.currResultType;switch(t){case"all":{const t=Array.isArray(e.path)?e.path:Ht.toPathArray(e.path);return e.pointer=Ht.toPointer(t),e.path="string"==typeof e.path?e.path:Ht.toPathString(e.path),e}case"value":case"parent":case"parentProperty":return e[t];case"path":return Ht.toPathString(e[t]);case"pointer":return Ht.toPointer(e.path);default:throw new TypeError("Unknown result type")}},Ht.prototype._handleCallback=function(e,t,n){if(t){const r=this._getPreferredOutput(e);e.path="string"==typeof e.path?e.path:Ht.toPathString(e.path),t(r,n,e)}},Ht.prototype._trace=function(e,t,n,r,i,o,a,s){let u;if(!e.length)return u={path:n,value:t,parent:r,parentProperty:i,hasArrExpr:a},this._handleCallback(u,o,"value"),u;const l=e[0],c=e.slice(1),d=[];function f(e){Array.isArray(e)?e.forEach((e=>{d.push(e)})):d.push(e)}if(("string"!=typeof l||s)&&t&&Vt.call(t,l))f(this._trace(c,t[l],Bt(n,l),t,l,o,a));else if("*"===l)this._walk(l,c,t,n,r,i,o,((e,t,n,r,i,o,a,s)=>{f(this._trace(qt(e,n),r,i,o,a,s,!0,!0))}));else if(".."===l)f(this._trace(c,t,n,r,i,o,a)),this._walk(l,c,t,n,r,i,o,((e,t,n,r,i,o,a,s)=>{"object"==typeof r[e]&&f(this._trace(qt(t,n),r[e],Bt(i,e),r,e,s,!0))}));else{if("^"===l)return this._hasParentSelector=!0,{path:n.slice(0,-1),expr:c,isParentSelector:!0};if("~"===l)return u={path:Bt(n,l),value:i,parent:r,parentProperty:null},this._handleCallback(u,o,"property"),u;if("$"===l)f(this._trace(c,t,n,null,null,o,a));else if(/^(-?\d*):(-?\d*):?(\d*)$/u.test(l))f(this._slice(l,c,t,n,r,i,o));else if(0===l.indexOf("?(")){if(this.currPreventEval)throw new Error("Eval [?(expr)] prevented in JSONPath expression.");this._walk(l,c,t,n,r,i,o,((e,t,n,r,i,o,a,s)=>{this._eval(t.replace(/^\?\((.*?)\)$/u,"$1"),r[e],e,i,o,a)&&f(this._trace(qt(e,n),r,i,o,a,s,!0))}))}else if("("===l[0]){if(this.currPreventEval)throw new Error("Eval [(expr)] prevented in JSONPath expression.");f(this._trace(qt(this._eval(l,t,n[n.length-1],n.slice(0,-1),r,i),c),t,n,r,i,o,a))}else if("@"===l[0]){let e=!1;const a=l.slice(1,-2);switch(a){case"scalar":t&&["object","function"].includes(typeof t)||(e=!0);break;case"boolean":case"string":case"undefined":case"function":typeof t===a&&(e=!0);break;case"integer":!Number.isFinite(t)||t%1||(e=!0);break;case"number":Number.isFinite(t)&&(e=!0);break;case"nonFinite":"number"!=typeof t||Number.isFinite(t)||(e=!0);break;case"object":t&&typeof t===a&&(e=!0);break;case"array":Array.isArray(t)&&(e=!0);break;case"other":e=this.currOtherTypeCallback(t,n,r,i);break;case"null":null===t&&(e=!0);break;default:throw new TypeError("Unknown value type "+a)}if(e)return u={path:n,value:t,parent:r,parentProperty:i},this._handleCallback(u,o,"value"),u}else if("`"===l[0]&&t&&Vt.call(t,l.slice(1))){const e=l.slice(1);f(this._trace(c,t[e],Bt(n,e),t,e,o,a,!0))}else if(l.includes(",")){const e=l.split(",");for(const a of e)f(this._trace(qt(a,c),t,n,r,i,o,!0))}else!s&&t&&Vt.call(t,l)&&f(this._trace(c,t[l],Bt(n,l),t,l,o,a,!0))}if(this._hasParentSelector)for(let e=0;e<d.length;e++){const n=d[e];if(n&&n.isParentSelector){const s=this._trace(n.expr,t,n.path,r,i,o,a);if(Array.isArray(s)){d[e]=s[0];const t=s.length;for(let n=1;n<t;n++)e++,d.splice(e,0,s[n])}else d[e]=s}}return d},Ht.prototype._walk=function(e,t,n,r,i,o,a,s){if(Array.isArray(n)){const u=n.length;for(let l=0;l<u;l++)s(l,e,t,n,r,i,o,a)}else n&&"object"==typeof n&&Object.keys(n).forEach((u=>{s(u,e,t,n,r,i,o,a)}))},Ht.prototype._slice=function(e,t,n,r,i,o,a){if(!Array.isArray(n))return;const s=n.length,u=e.split(":"),l=u[2]&&Number.parseInt(u[2])||1;let c=u[0]&&Number.parseInt(u[0])||0,d=u[1]&&Number.parseInt(u[1])||s;c=c<0?Math.max(0,c+s):Math.min(s,c),d=d<0?Math.max(0,d+s):Math.min(s,d);const f=[];for(let e=c;e<d;e+=l){this._trace(qt(e,t),n,r,i,o,a,!0).forEach((e=>{f.push(e)}))}return f},Ht.prototype._eval=function(e,t,n,r,i,o){e.includes("@parentProperty")&&(this.currSandbox._$_parentProperty=o,e=e.replace(/@parentProperty/gu,"_$_parentProperty")),e.includes("@parent")&&(this.currSandbox._$_parent=i,e=e.replace(/@parent/gu,"_$_parent")),e.includes("@property")&&(this.currSandbox._$_property=n,e=e.replace(/@property/gu,"_$_property")),e.includes("@path")&&(this.currSandbox._$_path=Ht.toPathString(r.concat([n])),e=e.replace(/@path/gu,"_$_path")),e.includes("@root")&&(this.currSandbox._$_root=this.json,e=e.replace(/@root/gu,"_$_root")),/@([.\s)[])/u.test(e)&&(this.currSandbox._$_v=t,e=e.replace(/@([.\s)[])/gu,"_$_v$1"));try{return this.vm.runInNewContext(e,this.currSandbox)}catch(t){throw console.log(t),new Error("jsonPath: "+t.message+": "+e)}},Ht.cache={},Ht.toPathString=function(e){const t=e,n=t.length;let r="$";for(let e=1;e<n;e++)/^(~|\^|@.*?\(\))$/u.test(t[e])||(r+=/^[0-9*]+$/u.test(t[e])?"["+t[e]+"]":"['"+t[e]+"']");return r},Ht.toPointer=function(e){const t=e,n=t.length;let r="";for(let e=1;e<n;e++)/^(~|\^|@.*?\(\))$/u.test(t[e])||(r+="/"+t[e].toString().replace(/~/gu,"~0").replace(/\//gu,"~1"));return r},Ht.toPathArray=function(e){const{cache:t}=Ht;if(t[e])return t[e].concat();const n=[],r=e.replace(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\(\)/gu,";$&;").replace(/[['](\??\(.*?\))[\]']/gu,(function(e,t){return"[#"+(n.push(t)-1)+"]"})).replace(/\[['"]([^'\]]*)['"]\]/gu,(function(e,t){return"['"+t.replace(/\./gu,"%@%").replace(/~/gu,"%%@@%%")+"']"})).replace(/~/gu,";~;").replace(/['"]?\.['"]?(?![^[]*\])|\[['"]?/gu,";").replace(/%@%/gu,".").replace(/%%@@%%/gu,"~").replace(/(?:;)?(\^+)(?:;)?/gu,(function(e,t){return";"+t.split("").join(";")+";"})).replace(/;;;|;;/gu,";..;").replace(/;$|'?\]|'$/gu,"").split(";").map((function(e){const t=e.match(/#(\d+)/u);return t&&t[1]?n[t[1]]:e}));return t[e]=r,t[e].concat()},Ht.prototype.vm=n.default;var zt,Yt=Object.freeze({__proto__:null,JSONPath:Ht}),Jt=(zt=Yt,zt&&zt.default||zt),Kt=et((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(It),o=s(Rt),a=s(Tt);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){return(0,Jt.JSONPath)({path:t,json:e,wrap:!1})}var c=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var s in u(this,e),this.factMap=new Map(t),this.factResultsCache=new Map,this.allowUndefinedFacts=Boolean(a.allowUndefinedFacts),this.pathResolver=a.pathResolver||l,this.events={success:[],failure:[]},this.ruleResults=[],r){var c=void 0;c=r[s]instanceof i.default?r[s]:new i.default(s,r[s]),this._addConstantFact(c),(0,o.default)("almanac::constructor initialized runtime fact:"+c.id+" with "+c.value+"<"+n(c.value)+">")}}return r(e,[{key:"addEvent",value:function(e,t){if(!t)throw new Error('outcome required: "success" | "failure"]');this.events[t].push(e)}},{key:"getEvents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?this.events[e]:this.events.success.concat(this.events.failure)}},{key:"addResult",value:function(e){this.ruleResults.push(e)}},{key:"getResults",value:function(){return this.ruleResults}},{key:"_getFact",value:function(e){return this.factMap.get(e)}},{key:"_addConstantFact",value:function(e){this.factMap.set(e.id,e),this._setFactValue(e,{},e.value)}},{key:"_setFactValue",value:function(e,t,n){var r=e.getCacheKey(t),i=Promise.resolve(n);return r&&this.factResultsCache.set(r,i),i}},{key:"addRuntimeFact",value:function(e,t){(0,o.default)("almanac::addRuntimeFact id:"+e);var n=new i.default(e,t);return this._addConstantFact(n)}},{key:"factValue",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=void 0,u=this._getFact(e);if(void 0===u)return this.allowUndefinedFacts?Promise.resolve(void 0):Promise.reject(new Dt.UndefinedFactError("Undefined fact: "+e));if(u.isConstant())s=Promise.resolve(u.calculate(r,this));else{var l=u.getCacheKey(r),c=l&&this.factResultsCache.get(l);c?(s=Promise.resolve(c),(0,o.default)("almanac::factValue cache hit for fact:"+e)):((0,o.default)("almanac::factValue cache miss for fact:"+e+"; calculating"),s=this._setFactValue(u,r,u.calculate(r,this)))}return i?((0,o.default)("condition::evaluate extracting object property "+i),s.then((function(e){if((0,a.default)(e)){var r=t.pathResolver(e,i);return(0,o.default)("condition::evaluate extracting object property "+i+", received: "+JSON.stringify(r)),r}return(0,o.default)("condition::evaluate could not compute object path("+i+") of non-object: "+e+" <"+(void 0===e?"undefined":n(e))+">; continuing with "+e),e}))):s}}]),e}();t.default=c})),Gt=et((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n,r=(n=Nt)&&n.__esModule?n:{default:n};var i=[];function o(e){return"NaN"!==Number.parseFloat(e).toString()}i.push(new r.default("equal",(function(e,t){return e===t}))),i.push(new r.default("notEqual",(function(e,t){return e!==t}))),i.push(new r.default("in",(function(e,t){return t.indexOf(e)>-1}))),i.push(new r.default("notIn",(function(e,t){return-1===t.indexOf(e)}))),i.push(new r.default("contains",(function(e,t){return e.indexOf(t)>-1}),Array.isArray)),i.push(new r.default("doesNotContain",(function(e,t){return-1===e.indexOf(t)}),Array.isArray)),i.push(new r.default("lessThan",(function(e,t){return e<t}),o)),i.push(new r.default("lessThanInclusive",(function(e,t){return e<=t}),o)),i.push(new r.default("greaterThan",(function(e,t){return e>t}),o)),i.push(new r.default("greaterThanInclusive",(function(e,t){return e>=t}),o)),t.default=i})),Xt=et((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.FINISHED=t.RUNNING=t.READY=void 0;var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r=c(It),i=c(Wt),o=c(Nt),a=c(Kt),s=c(Mt),u=c(Gt),l=c(Rt);function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=t.READY="READY",h=t.RUNNING="RUNNING",v=t.FINISHED="FINISHED",g=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d(this,t);var r=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.rules=[],r.allowUndefinedFacts=n.allowUndefinedFacts||!1,r.pathResolver=n.pathResolver,r.operators=new Map,r.facts=new Map,r.status=p,e.map((function(e){return r.addRule(e)})),u.default.map((function(e){return r.addOperator(e)})),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"addRule",value:function(e){if(!e)throw new Error("Engine: addRule() requires options");var t=void 0;if(e instanceof i.default)t=e;else{if(!Object.prototype.hasOwnProperty.call(e,"event"))throw new Error('Engine: addRule() argument requires "event" property');if(!Object.prototype.hasOwnProperty.call(e,"conditions"))throw new Error('Engine: addRule() argument requires "conditions" property');t=new i.default(e)}return t.setEngine(this),this.rules.push(t),this.prioritizedRules=null,this}},{key:"updateRule",value:function(e){var t=this.rules.findIndex((function(t){return t.name===e.name}));if(!(t>-1))throw new Error("Engine: updateRule() rule not found");this.rules.splice(t,1),this.addRule(e),this.prioritizedRules=null}},{key:"removeRule",value:function(e){var t=!1;if(e instanceof i.default){var n=this.rules.indexOf(e);n>-1&&(t=Boolean(this.rules.splice(n,1).length))}else{var r=this.rules.filter((function(t){return t.name!==e}));t=r.length!==this.rules.length,this.rules=r}return t&&(this.prioritizedRules=null),t}},{key:"addOperator",value:function(e,t){var n=void 0;n=e instanceof o.default?e:new o.default(e,t),(0,l.default)("engine::addOperator name:"+n.name),this.operators.set(n.name,n)}},{key:"removeOperator",value:function(e){var t=void 0;return t=e instanceof o.default?e.name:e,this.operators.delete(t)}},{key:"addFact",value:function(e,t,n){var i=e,o=void 0;return e instanceof r.default?(i=e.id,o=e):o=new r.default(e,t,n),(0,l.default)("engine::addFact id:"+i),this.facts.set(i,o),this}},{key:"removeFact",value:function(e){var t=void 0;return t=e instanceof r.default?e.id:e,this.facts.delete(t)}},{key:"prioritizeRules",value:function(){if(!this.prioritizedRules){var e=this.rules.reduce((function(e,t){var n=t.priority;return e[n]||(e[n]=[]),e[n].push(t),e}),{});this.prioritizedRules=Object.keys(e).sort((function(e,t){return Number(e)>Number(t)?-1:1})).map((function(t){return e[t]}))}return this.prioritizedRules}},{key:"stop",value:function(){return this.status=v,this}},{key:"getFact",value:function(e){return this.facts.get(e)}},{key:"evaluateRules",value:function(e,t){var n=this;return Promise.all(e.map((function(e){return n.status!==h?((0,l.default)("engine::run status:"+n.status+"; skipping remaining rules"),Promise.resolve()):e.evaluate(t).then((function(e){return(0,l.default)("engine::run ruleResult:"+e.result),t.addResult(e),e.result?(t.addEvent(e.event,"success"),n.emitAsync("success",e.event,t,e).then((function(){return n.emitAsync(e.event.type,e.event.params,t,e)}))):(t.addEvent(e.event,"failure"),n.emitAsync("failure",e.event,t,e))}))})))}},{key:"run",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,l.default)("engine::run started"),this.status=h;var n={allowUndefinedFacts:this.allowUndefinedFacts,pathResolver:this.pathResolver},r=new a.default(this.facts,t,n),i=this.prioritizeRules(),o=Promise.resolve();return new Promise((function(t,n){i.map((function(t){return o=o.then((function(){return e.evaluateRules(t,r)})).catch(n)})),o.then((function(){e.status=v,(0,l.default)("engine::run completed");var n=r.getResults().reduce((function(e,t){return e[t.result?"results":"failureResults"].push(t),e}),{results:[],failureResults:[]}),i=n.results,o=n.failureResults;t({almanac:r,results:i,failureResults:o,events:r.getEvents("success"),failureEvents:r.getEvents("failure")})})).catch(n)}))}}]),t}(s.default);t.default=g})),Qt=et((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Engine=t.Operator=t.Rule=t.Fact=void 0,t.default=function(e,t){return new n.default(e,t)};var n=a(Xt),r=a(It),i=a(Wt),o=a(Nt);function a(e){return e&&e.__esModule?e:{default:e}}t.Fact=r.default,t.Rule=i.default,t.Operator=o.default,t.Engine=n.default})),Zt=Qt,en=function(){function e(t){var n,r=t.widget,i=t.getState,o=t.setState,a=t.onUpdate;s(this,e),this._widgetItems={},this._widget=r,this._getFormState=i,this._setFormState=o,this._onUpdate=a,this.code&&i().registerWidgetCode(this.code,this.id),null!==(n=this.reflexiveRules)&&void 0!==n&&n.length&&(this.formState.registerReflexWatch(this.id,this.reflexiveRules.map((function(e){return e.fact}))),this.runReflexives())}var t,n,r,i,o;return l(e,[{key:"formState",get:function(){return this._getFormState()}},{key:"id",get:function(){return this._widget.id}},{key:"effects",get:function(){return this._widget.effects}},{key:"type",get:function(){return this._widget.type}},{key:"code",get:function(){return this._widget.code}},{key:"style",get:function(){return this._widget.style}},{key:"properties",get:function(){return this._widget.properties}},{key:"parentId",get:function(){return this._widget.parent}},{key:"parent",set:function(e){this._widget.parent=e}},{key:"reflexiveRules",get:function(){return this._widget.reflexiveRules}},{key:"validationRules",get:function(){return this._widget.validationRules}},{key:"destroyed",value:function(){var e;null!==(e=this.reflexiveRules)&&void 0!==e&&e.length&&this.formState.unregisterReflexWatch(this.id,this.reflexiveRules.map((function(e){return e.fact})))}},{key:"setWidgetItems",value:function(e){this._widgetItems=e}},{key:"validate",value:(o=a(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new Zt.Engine).addRule({conditions:{all:t},event:{type:"isTruthy"}}),e.next=4,r.run(n);case 4:return e.abrupt("return",e.sent.events.some((function(e){return"isTruthy"===e.type})));case 5:case"end":return e.stop()}}),e)}))),function(e,t){return o.apply(this,arguments)})},{key:"runValidations",value:(i=a(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getValidationErrors();case 2:return t=e.sent,this.setState("errors",t),this._setFormState(this.formState),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"_getValidationErrors",value:(r=a(regeneratorRuntime.mark((function e(){var t,n,r,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=this.validationRules)&&void 0!==t&&t.length){e.next=2;break}return e.abrupt("return",null);case 2:return n=this.getState("response"),e.next=5,Promise.all(this.validationRules.map(function(){var e=a(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.validate(t.conditions,{data:i.properties,response:n});case 2:if(e.sent){e.next=5;break}return e.abrupt("return",t.error);case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:return r=e.sent.filter((function(e){return e})),e.abrupt("return",r.length?r:null);case 7:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"setChildErrors",value:function(e,t){var n=this.getState("childErrors")||{};t?n[e]=t:delete n[e],Object.keys(n).length?this.setState("childErrors",n):this.setState("childErrors",void 0)}},{key:"childErrors",value:function(){return this.getState("childErrors")}},{key:"hasChildErrors",value:function(){return Object.keys(this.childErrors()||{}).length>0}},{key:"runReflexives",value:(n=a(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.isReflexive();case 2:t=e.sent,this.setState("reflexiveHide",!t);case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"isReflexive",value:(t=a(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=this.reflexiveRules)&&void 0!==t&&t.length){e.next=2;break}return e.abrupt("return",!0);case 2:return e.abrupt("return",this.validate(this.reflexiveRules,this.reflexiveRules.reduce((function(e,t){var r,i=n.formState.widgetCodeToIdMap[t.fact],o=null===(r=n.formState.widgetState[i])||void 0===r?void 0:r.response;return e[t.fact]=o,e}),{})));case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"setState",value:function(e,t){this._getFormState().setWidgetState(this.id,e,t),this._setFormState(this.formState)}},{key:"getState",value:function(e){return this._getFormState().getWidgetState(this.id,e)}},{key:"getParentIds",value:function(){return e.getParentIds(this.id,this._widgetItems)}},{key:"getParents",value:function(){var e=this;return this.getParentIds().map((function(t){return e._widgetItems[t]}))}},{key:"getParent",value:function(){return this._widgetItems[this.parentId||""]||null}},{key:"getChildrenIds",value:function(e,t){return[]}},{key:"getChildren",value:function(e,t){var n=this;return this.getChildrenIds(e,t).map((function(e){return n._widgetItems[e]}))}},{key:"addChild",value:function(e,t){e.parent=this.id}},{key:"removeChild",value:function(e){e.parent=void 0}}],[{key:"getParentIds",value:function(t,n){var r=n[t];return null!=r&&r.parentId?[r.parentId].concat(b(e.getParentIds(r.parentId,n)||[])):[]}}]),e}(),tn=function(e){d(r,e);var t,n=v(r);function r(e){return s(this,r),n.call(this,e)}return l(r,[{key:"getSortedPages",value:function(){return this.properties.pages}},{key:"isWidgetIdInWidgetIds",value:function(e,t){var n=this;return t.some((function(t){return t===e||n.isWidgetIdInWidgetIds(e,n._widgetItems[t].getChildrenIds())}))}},{key:"getChildIndexByWidgetId",value:function(e){var t=this;return this.getSortedPages().findIndex((function(n){return t.isWidgetIdInWidgetIds(e,n.children)}))}},{key:"getChildrenIds",value:function(e,t){var n=this;return this.getSortedPages().filter((function(e,r){var i;return null!=t&&null!==(i=t.inPageIndices)&&void 0!==i&&i.length?t.inPageIndices.includes(r):null!=t&&t.currentPageIndexOnly?r===n.currentPageIndex:e})).reduce((function(r,i){return[].concat(b(r),b(i.children),b(null!=e&&e.deep?i.children.reduce((function(r,i){return[].concat(b(r),b(n._widgetItems[i].getChildrenIds(e,t)))}),[]):[]))}),[])}},{key:"setChildErrors",value:function(e,t){y(f(r.prototype),"setChildErrors",this).call(this,e,t);var n,i=this.getState("pageIdxErrors")||{},o=this.getChildIndexByWidgetId(e);if(-1===o)throw new Error("child widget not in paging");t?(i[o]||(i[o]={}),i[o][e]=t):(null===(n=i[o])||void 0===n||delete n[e],Object.keys(i[o]).length||delete i[o]);this.setState("pageIdxErrors",Object.keys(i).length?i:void 0)}},{key:"addChild",value:function(e,t){y(f(r.prototype),"addChild",this).call(this,e,t),this._widget.properties.pages[(null==t?void 0:t.pageIdx)||0].children.splice((null==t?void 0:t.childIdx)||0,0,e.id)}},{key:"removeChild",value:function(e){y(f(r.prototype),"removeChild",this).call(this,e),this._widget.properties.pages.forEach((function(t){t.children=t.children.filter((function(t){return t!==e.id}))}))}},{key:"onChangePageIndex",value:function(e){var t=this.getSortedPages();e<0||e>t.length-1||this.setState("currentPageIndex",e)}},{key:"currentPageIndex",get:function(){return this.getState("currentPageIndex")||0}},{key:"getParentPagesWidgets",value:function(e){var t=this.getParents().filter((function(e){return"pages"===e.type}));return null!=e&&e.first?t[0]:t}},{key:"getChildrenPagesWidgets",value:function(e){var t=this.getChildren({deep:!0},{inPageIndices:null==e?void 0:e.inPageIndices}).filter((function(e){return"pages"===e.type}));return null!=e&&e.first?t[0]:t}},{key:"pageIndexHasErrors",value:function(e,t){var n=this.getState("pageIdxErrors")||{};if(!Object.keys(n).length)return!1;if(!Object.keys(n[e]||{}).length)return!1;var r=this.properties.navigationIntegrateChildrenPages?this.getChildrenPagesWidgets({first:!0,inPageIndices:[this.currentPageIndex]}):null;return!(r&&(null==r||!r.properties.detachParentIntegration)&&"none"!==(null==r?void 0:r.nextButtonType()))||(null!=t&&t.allChildPages?r.hasChildErrors():r.currentPageIndexHasErrors())}},{key:"currentPageIndexHasErrors",value:function(){return this.pageIndexHasErrors(this.currentPageIndex)}},{key:"toNextPage",value:(t=a(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.getChildren({deep:!0},{currentPageIndexOnly:!0}),e.next=3,Promise.all(t.map(function(){var e=a(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.runValidations());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:if(e.sent.some((function(e){return e}))){e.next=15;break}if("complete"!==(n=this.nextButtonType())){e.next=9;break}e.next=15;break;case 9:if("none"!==n){e.next=13;break}return e.abrupt("return");case 13:!(r=this.properties.navigationIntegrateChildrenPages?this.getChildrenPagesWidgets({first:!0,inPageIndices:[this.currentPageIndex]}):null)||null!=r&&r.properties.detachParentIntegration||"none"===(null==r?void 0:r.nextButtonType())?this.onChangePageIndex(this.currentPageIndex+1):r.toNextPage();case 15:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"toPreviousPage",value:function(){if("none"!==this.previousButtonType()){var e=this.properties.navigationIntegrateChildrenPages?this.getChildrenPagesWidgets({first:!0,inPageIndices:[this.currentPageIndex]}):null;!e||null!=e&&e.properties.detachParentIntegration||"none"===(null==e?void 0:e.previousButtonType())?this.onChangePageIndex(this.currentPageIndex-1):e.toPreviousPage()}}},{key:"previousButtonType",value:function(){var e=this.currentPageIndex<=0,t=this.getChildrenPagesWidgets({first:!0});return this.properties.navigationIntegrateChildrenPages&&t&&!t.properties.detachParentIntegration&&e?t.previousButtonType():e?"none":"previous"}},{key:"nextButtonType",value:function(){var e=this.currentPageIndex>=this._widget.properties.pages.length-1,t=this.properties.navigationIntegrateChildrenPages?this.getChildrenPagesWidgets({first:!0}):null;return this.properties.navigationIntegrateChildrenPages&&t&&!t.properties.detachParentIntegration&&e?t.nextButtonType():e?this.properties.hasCompleteButton?"complete":"none":"next"}},{key:"hasPreviousButton",value:function(){return!!this.properties.navigationVisible&&"none"!==this.previousButtonType()}},{key:"hasNextButton",value:function(){return!!this.properties.navigationVisible&&"none"!==this.nextButtonType()}}]),r}(en),nn={display:Xe,form:Qe,readOnly:Ze,widgetItem:tn},rn={props:{widget:Object,widgetControls:Object,widgetItems:Object,setWidgetState:Function,getWidgetState:Function,view:String},inject:["t","questionControls","widgetControls","getFormState","setFormState"],created:function(){var e=i({},this.$props.widget.getState());this.widget.setState("type","question"),void 0===(null==e?void 0:e.touched)&&(this.widget.setState("touched",!1),this.widget.setState("pristine",!0),this.widget.setState("dirty",!1))},unmounted:function(){},computed:{formState:function(){return this.getFormState()}},methods:{onChange:function(e,t){var n=this;this.widget.setState("response",e),t||(this.widget.setState("touched",!0),this.widget.setState("pristine",!1),this.widget.setState("dirty",!0),a(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.$props.widget.runValidations();case 2:return t=n.formState.getReflexWidgetIdsByCode(n.$props.widget.code),e.next=5,Promise.all(t.map(function(){var e=a(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.$props.widgetItems[t].runReflexives());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:case"end":return e.stop()}}),e)})))())}}},on=Ue({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.widget.getState("reflexiveHide")?e._e():n("div",[n("div",{staticClass:"question-wrapper"},[e.widget.properties.hideLabel?e._e():n("label",{class:{errors:(e.getWidgetState("errors")||[]).length},attrs:{for:e.widget.code||e.widget.id}},[e._v(e._s(e.t("__label",e.widget.id)))]),e._v(" "),n("div",[n(e.questionControls[e.widget.properties.control].display,{tag:"component",attrs:{properties:e.widget.properties.controlProperties,widget:e.widget,onChange:e.onChange,value:e.widget.getState("response"),setWidgetState:e.setWidgetState,getWidgetState:e.getWidgetState,view:e.view,errors:e.getWidgetState("errors"),t:e.t}}),e._v(" "),e._l(e.getWidgetState("errors"),(function(t){return n("span",{key:t,staticClass:"error"},[e._v(e._s(e.t(t,e.widget.id)))])}))],2)])])},staticRenderFns:[]},(function(e){e&&e("data-v-b98ef6c4_0",{source:".question-wrapper[data-v-b98ef6c4]{width:100%;display:flex;flex-direction:row}.question-wrapper>label[data-v-b98ef6c4]{flex:1;max-width:300px;border-right:1px solid #393939;padding:20px 0;margin-right:20px}.question-wrapper>label.errors[data-v-b98ef6c4]{color:red}.question-wrapper>div[data-v-b98ef6c4]{flex:2;padding:20px 0}.error[data-v-b98ef6c4]{display:block;color:red;margin-top:10px}",map:void 0,media:void 0})}),rn,"data-v-b98ef6c4",false,undefined,!1,ze,void 0,void 0),an=Ue({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"question-wrapper"},[n("label",[e._v(e._s(e.t("__label",e.widget.id)))]),e._v(" "),n("div",[n(e.questionControls[e.widget.properties.control].form,{tag:"component",attrs:{properties:e.widget.properties.controlProperties,widget:e.widget,onChange:e.onChange,value:e.getWidgetState("response"),setWidgetState:e.setWidgetState,getWidgetState:e.getWidgetState,view:e.view}})],1)])])},staticRenderFns:[]},(function(e){e&&e("data-v-38881a82_0",{source:".question-wrapper[data-v-38881a82]{width:100%;display:flex;flex-direction:row;padding:10px 10px}.question-wrapper>label[data-v-38881a82]{flex:1;border-right:1px solid #393939}.question-wrapper>div[data-v-38881a82]{flex:2;padding-left:10px}",map:void 0,media:void 0})}),{props:{widget:Object,widgetControls:Object,widgetItems:Object,setWidgetState:Function,getWidgetState:Function,view:String},inject:["t","questionControls"],setup:function(){},methods:{onChange:function(e){this.setWidgetState("response",e)}}},"data-v-38881a82",false,undefined,!1,ze,void 0,void 0),sn=Ue({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.getWidgetState("reflexiveHide")?e._e():n("div",[n("div",{staticClass:"question-wrapper"},[e.widget.properties.hideLabel?e._e():n("label",[e._v(e._s(e.t("__label",e.widget.id)))]),e._v(" "),n("div",[n(e.questionControls[e.widget.properties.control].readOnly,{tag:"component",attrs:{properties:e.widget.properties.controlProperties,widget:e.widget,onChange:e.onChange,value:e.getWidgetState("response"),setWidgetState:e.setWidgetState,getWidgetState:e.getWidgetState,view:e.view,t:e.t}})],1)])])},staticRenderFns:[]},(function(e){e&&e("data-v-36d25796_0",{source:".question-wrapper[data-v-36d25796]{width:100%;display:flex;flex-direction:row;padding:10px 10px}.question-wrapper>label[data-v-36d25796]{flex:1;max-width:300px;border-right:1px solid #393939;padding:10px 0}.question-wrapper>div[data-v-36d25796]{flex:2;padding:10px 20px}",map:void 0,media:void 0})}),{props:{widget:Object,widgetControls:Object,widgetItems:Object,setWidgetState:Function,getWidgetState:Function,view:String},inject:["t","questionControls","widgetControls","getFormState","setFormState"],created:function(){},unmounted:function(){},computed:{formState:function(){return this.getFormState()}},methods:{onChange:function(e){this.setWidgetState("response",e)}}},"data-v-36d25796",false,undefined,!1,ze,void 0,void 0),un=function(e){d(r,e);var t,n=v(r);function r(e){return s(this,r),n.call(this,e)}return l(r,[{key:"runValidations",value:(t=a(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(f(r.prototype),"runValidations",this).call(this);case 2:return t=e.sent,this.setState("valid",!t),this.setState("hasErrors",!!t),(this.getParentIds()||[]).forEach((function(e){var r=n._widgetItems[e].getState(),i=(null==r?void 0:r.childErrors)||{};(t||i[n.id])&&(t?i[n.id]=t:delete i[n.id],n._widgetItems[e].setChildErrors(n.id,t))})),e.abrupt("return",t);case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),r}(en),ln={display:on,form:an,readOnly:sn,widgetItem:un},cn={display:Ue({render:function(){var e,t,n,r=this,i=r.$createElement,o=r._self._c||i;return o("div",{staticClass:"line-wrapper",class:{vertical:"vertical"===r.widget.properties.dir}},[r.isShowLabel("start")?o("label",{class:(e={},e[r.widget.properties.labelPosition||"start"]=!0,e)},[r._v(r._s(r.label))]):r._e(),r._v(" "),o("div",{staticClass:"line"}),r._v(" "),r.isShowLabel("center")?o("label",{class:(t={},t[r.widget.properties.labelPosition||"start"]=!0,t)},[r._v(r._s(r.label))]):r._e(),r._v(" "),o("div",{staticClass:"line"}),r._v(" "),r.isShowLabel("end")?o("label",{class:(n={},n[r.widget.properties.labelPosition||"start"]=!0,n)},[r._v(r._s(r.label))]):r._e()])},staticRenderFns:[]},(function(e){e&&e("data-v-5d942951_0",{source:".line-wrapper[data-v-5d942951]{display:flex;flex-direction:row;align-items:center;padding:10px 0}.line-wrapper.vertical[data-v-5d942951]{flex-direction:column}.line-wrapper .line[data-v-5d942951]{flex:1;background-color:#a0a0a0;height:1px}.line-wrapper.vertical .line[data-v-5d942951]{width:1px}.line-wrapper label[data-v-5d942951]{padding:10px;background-color:rgba(255,255,255,.5);border-radius:10px}.line-wrapper label.start[data-v-5d942951]{padding-left:0}.line-wrapper label.end[data-v-5d942951]{padding-right:0}",map:void 0,media:void 0})}),{props:{widget:Object},inject:["t"],setup:function(){},computed:{label:function(){return this.t("__label",this.$props.widget.id)}},methods:{isShowLabel:function(e){return this.$props.widget.properties.hasLabel&&this.$props.widget.properties.labelPosition===e}}},"data-v-5d942951",false,undefined,!1,ze,void 0,void 0),form:Ue({render:function(){var e,t,n,r=this,i=r.$createElement,o=r._self._c||i;return o("div",{staticClass:"line-wrapper",class:{vertical:"vertical"===r.widget.properties.dir}},[r.isShowLabel("start")?o("label",{class:(e={},e[r.widget.properties.labelPosition||"start"]=!0,e)},[r._v(r._s(r.label))]):r._e(),r._v(" "),o("div",{staticClass:"line"}),r._v(" "),r.isShowLabel("center")?o("label",{class:(t={},t[r.widget.properties.labelPosition||"start"]=!0,t)},[r._v(r._s(r.label))]):r._e(),r._v(" "),o("div",{staticClass:"line"}),r._v(" "),r.isShowLabel("end")?o("label",{class:(n={},n[r.widget.properties.labelPosition||"start"]=!0,n)},[r._v(r._s(r.label))]):r._e()])},staticRenderFns:[]},(function(e){e&&e("data-v-928f2922_0",{source:".line-wrapper[data-v-928f2922]{display:flex;flex-direction:row;align-items:center;padding:10px}.line-wrapper.vertical[data-v-928f2922]{flex-direction:column}.line-wrapper .line[data-v-928f2922]{flex:1;background-color:#a0a0a0;height:1px}.line-wrapper.vertical .line[data-v-928f2922]{width:1px}.line-wrapper label[data-v-928f2922]{padding:10px;background-color:rgba(255,255,255,.5);border-radius:10px}.line-wrapper label.start[data-v-928f2922]{padding-left:0}.line-wrapper label.end[data-v-928f2922]{padding-right:0}",map:void 0,media:void 0})}),{props:{widget:Object},inject:["t"],setup:function(){},computed:{label:function(){return this.t("__label",this.$props.widget.id)}},methods:{isShowLabel:function(e){return this.$props.widget.properties.hasLabel&&this.$props.widget.properties.labelPosition===e}}},"data-v-928f2922",false,undefined,!1,ze,void 0,void 0),readOnly:Ue({render:function(){var e,t,n,r=this,i=r.$createElement,o=r._self._c||i;return o("div",{staticClass:"line-wrapper",class:{vertical:"vertical"===r.widget.properties.dir}},[r.isShowLabel("start")?o("label",{class:(e={},e[r.widget.properties.labelPosition||"start"]=!0,e)},[r._v(r._s(r.label))]):r._e(),r._v(" "),o("div",{staticClass:"line"}),r._v(" "),r.isShowLabel("center")?o("label",{class:(t={},t[r.widget.properties.labelPosition||"start"]=!0,t)},[r._v(r._s(r.label))]):r._e(),r._v(" "),o("div",{staticClass:"line"}),r._v(" "),r.isShowLabel("end")?o("label",{class:(n={},n[r.widget.properties.labelPosition||"start"]=!0,n)},[r._v(r._s(r.label))]):r._e()])},staticRenderFns:[]},(function(e){e&&e("data-v-39a1748d_0",{source:".line-wrapper[data-v-39a1748d]{display:flex;flex-direction:row;align-items:center;padding:10px}.line-wrapper.vertical[data-v-39a1748d]{flex-direction:column}.line-wrapper .line[data-v-39a1748d]{flex:1;background-color:#a0a0a0;height:1px}.line-wrapper.vertical .line[data-v-39a1748d]{width:1px}.line-wrapper label[data-v-39a1748d]{padding:10px;background-color:rgba(255,255,255,.5);border-radius:10px}.line-wrapper label.start[data-v-39a1748d]{padding-left:0}.line-wrapper label.end[data-v-39a1748d]{padding-right:0}",map:void 0,media:void 0})}),{props:{widget:Object},inject:["t"],setup:function(){},computed:{label:function(){return this.t("__label",this.$props.widget.id)}},methods:{isShowLabel:function(e){return this.$props.widget.properties.hasLabel&&this.$props.widget.properties.labelPosition===e}}},"data-v-39a1748d",false,undefined,!1,ze,void 0,void 0)},dn=function(e){d(n,e);var t=v(n);function n(e){return s(this,n),t.call(this,e)}return l(n,[{key:"getChildrenIds",value:function(){return this.properties.children}},{key:"addChild",value:function(e,t){y(f(n.prototype),"addChild",this).call(this,e,t),this._widget.properties.children.splice((null==t?void 0:t.idx)||0,0,e.id)}},{key:"removeChild",value:function(e){y(f(n.prototype),"removeChild",this).call(this,e);var t=this._widget.properties.children.findIndex((function(t){return t===e.id}));t>-1&&this._widget.properties.children.splice(t,1)}}]),n}(en),fn={display:Ue({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"section-wrapper",class:{errors:e.hasChildErrors}},[e.label?n("label",[e._v(e._s(e.label))]):e._e(),e._v(" "),n("widgets-layout",{attrs:{widgetControls:e.widgetControls,widgetItems:e.widgetItems,forParent:e.widget.id}})],1)},staticRenderFns:[]},(function(e){e&&e("data-v-3bcb2215_0",{source:".section-wrapper[data-v-3bcb2215]{position:relative;border:1px solid #a9a9a9;min-height:30px;padding:10px;margin:10px 0;border-radius:8px}.section-wrapper>label[data-v-3bcb2215]{position:absolute;top:0;left:10px;transform:translateY(-50%);background-color:#fff;padding:10px}.section-wrapper.errors[data-v-3bcb2215]{border-color:red}",map:void 0,media:void 0})}),{components:{WidgetsLayout:Ge},props:{widget:en,widgetItems:Object,widgetControls:Object},inject:["t"],setup:function(){},computed:{label:function(){return this.t("__label",this.$props.widget.id)},childErrors:function(){var e;return null===(e=this.$props.widget.getState())||void 0===e?void 0:e.childErrors},hasChildErrors:function(){return this.$props.widget.hasChildErrors()}},methods:{isShowLabel:function(e){return this.$props.widget.properties.hasLabel&&this.$props.widget.properties.labelPosition===e}}},"data-v-3bcb2215",false,undefined,!1,ze,void 0,void 0),form:Ue({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"section-wrapper"},[e.label?n("label",[e._v(e._s(e.label))]):e._e(),e._v(" "),n("widgets-layout",{attrs:{widgetControls:e.widgetControls,widgetItems:e.widgetItems,forParent:e.widget.id}})],1)},staticRenderFns:[]},(function(e){e&&e("data-v-c60a62be_0",{source:".section-wrapper[data-v-c60a62be]{position:relative;border:1px solid #a9a9a9;min-height:30px;padding:10px;margin:10px;border-radius:8px}.section-wrapper>label[data-v-c60a62be]{position:absolute;top:0;left:10px;transform:translateY(-50%);background-color:#fff;padding:10px}",map:void 0,media:void 0})}),{components:{WidgetsLayout:Ge},props:{widget:Object,widgetItems:Object,widgetControls:Object},inject:["t"],setup:function(){},computed:{label:function(){return this.t("__label",this.$props.widget.id)}},methods:{isShowLabel:function(e){return this.$props.widget.properties.hasLabel&&this.$props.widget.properties.labelPosition===e}}},"data-v-c60a62be",false,undefined,!1,ze,void 0,void 0),readOnly:Ue({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"section-wrapper"},[e.label?n("label",[e._v(e._s(e.label))]):e._e(),e._v(" "),n("widgets-layout",{attrs:{widgetControls:e.widgetControls,widgetItems:e.widgetItems,forParent:e.widget.id}})],1)},staticRenderFns:[]},(function(e){e&&e("data-v-2ff96dbf_0",{source:".section-wrapper[data-v-2ff96dbf]{position:relative;border:1px solid #a9a9a9;min-height:30px;padding:10px;margin:10px;border-radius:8px}.section-wrapper>label[data-v-2ff96dbf]{position:absolute;top:0;left:10px;transform:translateY(-50%);background-color:#fff;padding:10px}",map:void 0,media:void 0})}),{components:{WidgetsLayout:Ge},props:{widget:Object,widgetItems:Object,widgetControls:Object},inject:["t"],setup:function(){},computed:{label:function(){return this.t("__label",this.$props.widget.id)}},methods:{isShowLabel:function(e){return this.$props.widget.properties.hasLabel&&this.$props.widget.properties.labelPosition===e}}},"data-v-2ff96dbf",false,undefined,!1,ze,void 0,void 0),widgetItem:dn},pn={display:Ue({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)(e.widget.properties.tagType,{tag:"component",staticClass:"header"},[e._v(e._s(e.t("__label",e.widget.id)))])},staticRenderFns:[]},undefined,{props:{widget:Object},inject:["t"]},"data-v-4e34eb30",false,undefined,!1,void 0,void 0,void 0),form:Ue({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)(e.widget.properties.tagType,{tag:"component",staticClass:"header"},[e._v(e._s(e.t("__label",e.widget.id)))])},staticRenderFns:[]},(function(e){e&&e("data-v-cda582fa_0",{source:".header[data-v-cda582fa]{padding:0 10px}",map:void 0,media:void 0})}),{props:{widget:Object},inject:["t"]},"data-v-cda582fa",false,undefined,!1,ze,void 0,void 0),readOnly:Ue({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)(e.widget.properties.tagType,{tag:"component",staticClass:"header"},[e._v(e._s(e.t("__label",e.widget.id)))])},staticRenderFns:[]},(function(e){e&&e("data-v-19fb5abe_0",{source:".header[data-v-19fb5abe]{padding:0 10px}",map:void 0,media:void 0})}),{props:{widget:Object},inject:["t"]},"data-v-19fb5abe",false,undefined,!1,ze,void 0,void 0)},hn={alert:{display:Ue({render:function(){var e,t=this,n=t.$createElement,r=t._self._c||n;return t.isOpen?r("div",{staticClass:"alert",class:(e={},e[t.widget.properties.type]=!0,e),style:t.alertStyles},[r("h3",{staticClass:"title"},[t._v(t._s(t.t("__title",t.widget.id)))]),t._v(" "),r("p",[t._v(t._s(t.t("__text",t.widget.id)))]),t._v(" "),t.widget.properties.showCloseBtn?r("a",{staticClass:"close-button",on:{click:t.onCloseAlert}},[t._v("x")]):t._e()]):t._e()},staticRenderFns:[]},(function(e){e&&e("data-v-5519b41c_0",{source:".alert[data-v-5519b41c]{padding:18px 18px;margin:10px 0;border-radius:10px;background-color:#f4f6f8;border:1px solid #e5e9ed;position:relative}.alert.success[data-v-5519b41c]{background-color:#ebf7ee;border-color:#e2f1e7}.alert.info[data-v-5519b41c]{background-color:#e6f0f8;border-color:#cad9e7}.alert.danger[data-v-5519b41c]{background-color:#fdede9;border-color:#f2e1dd}.alert.warning[data-v-5519b41c]{background-color:#fef8ea;border-color:#f4eada}.alert .title[data-v-5519b41c]{margin:0 0 10px 0;font-weight:700}.alert>.close-button[data-v-5519b41c]{position:absolute;top:0;right:0;padding:18px 18px;cursor:pointer;transform:scaleX(1.2)}",map:void 0,media:void 0})}),{props:{widget:Object},inject:["t"],data:function(){return{isOpen:!0}},methods:{onCloseAlert:function(){this.$data.isOpen=!1}},computed:{alertStyles:function(){return"custom"!==this.widget.properties.type||this.widget.properties.customColor?{}:i({backgroundColor:this.widget.properties.customBackgroundColor,borderColor:this.widget.properties.customBorderColor||"transparent"},this.widget.properties.customTextColor?{color:this.widget.properties.customTextColor}:{})}}},"data-v-5519b41c",false,undefined,!1,ze,void 0,void 0),form:Ue({render:function(){var e,t=this,n=t.$createElement,r=t._self._c||n;return t.isOpen?r("div",{staticClass:"alert",class:(e={},e[t.widget.properties.type]=!0,e),style:t.alertStyles},[r("h3",[t._v(t._s(t.t("__title",t.widget.id)))]),t._v(" "),r("p",[t._v(t._s(t.t("__text",t.widget.id)))]),t._v(" "),t.widget.properties.showCloseBtn?r("a",{staticClass:"close-button",on:{click:t.onCloseAlert}},[t._v("x")]):t._e()]):t._e()},staticRenderFns:[]},(function(e){e&&e("data-v-2e2e1336_0",{source:".alert[data-v-2e2e1336]{padding:10px;margin:10px;border-radius:10px;background-color:#f4f6f8;border:1px solid #e5e9ed;position:relative}.alert.success[data-v-2e2e1336]{background-color:#ebf7ee;border-color:#e2f1e7}.alert.info[data-v-2e2e1336]{background-color:#e6f0f8;border-color:#cad9e7}.alert.danger[data-v-2e2e1336]{background-color:#fdede9;border-color:#f2e1dd}.alert.warning[data-v-2e2e1336]{background-color:#fef8ea;border-color:#f4eada}.alert>.close-button[data-v-2e2e1336]{position:absolute;top:0;right:0;padding:10px 15px;cursor:pointer;transform:scaleX(1.2)}",map:void 0,media:void 0})}),{props:{widget:Object},inject:["t"],data:function(){return{isOpen:!0}},methods:{onCloseAlert:function(){this.$data.isOpen=!1}},computed:{alertStyles:function(){return"custom"!==this.widget.properties.type||this.widget.properties.customColor?{}:i({backgroundColor:this.widget.properties.customBackgroundColor,borderColor:this.widget.properties.customBorderColor||"transparent"},this.widget.properties.customTextColor?{color:this.widget.properties.customTextColor}:{})}}},"data-v-2e2e1336",false,undefined,!1,ze,void 0,void 0),readOnly:Ue({render:function(){var e,t=this,n=t.$createElement,r=t._self._c||n;return t.isOpen?r("div",{staticClass:"alert",class:(e={},e[t.widget.properties.type]=!0,e),style:t.alertStyles},[r("h3",[t._v(t._s(t.t("__title",t.widget.id)))]),t._v(" "),r("p",[t._v(t._s(t.t("__text",t.widget.id)))]),t._v(" "),t.widget.properties.showCloseBtn?r("a",{staticClass:"close-button",on:{click:t.onCloseAlert}},[t._v("x")]):t._e()]):t._e()},staticRenderFns:[]},(function(e){e&&e("data-v-5ede53fa_0",{source:".alert[data-v-5ede53fa]{padding:10px;margin:10px;border-radius:10px;background-color:#f4f6f8;border:1px solid #e5e9ed;position:relative}.alert.success[data-v-5ede53fa]{background-color:#ebf7ee;border-color:#e2f1e7}.alert.info[data-v-5ede53fa]{background-color:#e6f0f8;border-color:#cad9e7}.alert.danger[data-v-5ede53fa]{background-color:#fdede9;border-color:#f2e1dd}.alert.warning[data-v-5ede53fa]{background-color:#fef8ea;border-color:#f4eada}.alert>.close-button[data-v-5ede53fa]{position:absolute;top:0;right:0;padding:10px 15px;cursor:pointer;transform:scaleX(1.2)}",map:void 0,media:void 0})}),{props:{widget:Object},inject:["t"],data:function(){return{isOpen:!0}},methods:{onCloseAlert:function(){this.$data.isOpen=!1}},computed:{alertStyles:function(){return"custom"!==this.widget.properties.type||this.widget.properties.customColor?{}:i({backgroundColor:this.widget.properties.customBackgroundColor,borderColor:this.widget.properties.customBorderColor||"transparent"},this.widget.properties.customTextColor?{color:this.widget.properties.customTextColor}:{})}}},"data-v-5ede53fa",false,undefined,!1,ze,void 0,void 0)},header:pn,html:{display:Ue({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"html-wrapper",domProps:{innerHTML:e._s(e.t("__html",e.widget.id))}})},staticRenderFns:[]},undefined,{props:{widget:Object,widgets:Object,widgetItems:Object,formState:Object,setWidgetState:Function},inject:["t"]},"data-v-489a40b8",false,undefined,!1,void 0,void 0,void 0),form:Ue({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{domProps:{innerHTML:e._s(e.widget.properties.html)}})},staticRenderFns:[]},undefined,{props:{widget:Object,widgets:Object,widgetItems:Object,formState:Object,setWidgetState:Function}},undefined,false,undefined,!1,void 0,void 0,void 0),readOnly:Ue({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{domProps:{innerHTML:e._s(e.widget.properties.html)}})},staticRenderFns:[]},undefined,{props:{widget:Object,widgets:Object,widgetItems:Object,formState:Object,setWidgetState:Function}},undefined,false,undefined,!1,void 0,void 0,void 0)},pages:nn,question:ln,section:fn,separator:cn},vn=function(){function e(t){var n=t.display;s(this,e),this._display=n}return l(e,[{key:"display",get:function(){return this._display}}]),e}(),gn=new vn({display:Ue({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("a",{staticClass:"anchor",style:{top:(e.properties.top||0)+"px"},attrs:{id:this.$props.properties.id}})},staticRenderFns:[]},(function(e){e&&e("data-v-4044acf0_0",{source:"a.anchor[data-v-4044acf0]{position:absolute;top:0;left:0}",map:void 0,media:void 0})}),{props:{wrapperRef:HTMLDivElement,properties:Object}},"data-v-4044acf0",false,undefined,!1,ze,void 0,void 0)});
/*! @license is-dom-node v1.0.4

	Copyright 2018 Fisssion LLC.

	Permission is hereby granted, free of charge, to any person obtaining a copy
	of this software and associated documentation files (the "Software"), to deal
	in the Software without restriction, including without limitation the rights
	to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	copies of the Software, and to permit persons to whom the Software is
	furnished to do so, subject to the following conditions:

	The above copyright notice and this permission notice shall be included in all
	copies or substantial portions of the Software.

	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
	SOFTWARE.

*/
function yn(e){return"object"==typeof window.Node?e instanceof window.Node:null!==e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName}
/*! @license is-dom-node-list v1.2.1

	Copyright 2018 Fisssion LLC.

	Permission is hereby granted, free of charge, to any person obtaining a copy
	of this software and associated documentation files (the "Software"), to deal
	in the Software without restriction, including without limitation the rights
	to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	copies of the Software, and to permit persons to whom the Software is
	furnished to do so, subject to the following conditions:

	The above copyright notice and this permission notice shall be included in all
	copies or substantial portions of the Software.

	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
	SOFTWARE.

*/
/*! @license Tealight v0.3.6

	Copyright 2018 Fisssion LLC.

	Permission is hereby granted, free of charge, to any person obtaining a copy
	of this software and associated documentation files (the "Software"), to deal
	in the Software without restriction, including without limitation the rights
	to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	copies of the Software, and to permit persons to whom the Software is
	furnished to do so, subject to the following conditions:

	The above copyright notice and this permission notice shall be included in all
	copies or substantial portions of the Software.

	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
	SOFTWARE.

*/
function mn(e,t){if(void 0===t&&(t=document),e instanceof Array)return e.filter(yn);if(yn(e))return[e];if(function(e){var t=Object.prototype.toString.call(e);return"object"==typeof window.NodeList?e instanceof window.NodeList:null!==e&&"object"==typeof e&&"number"==typeof e.length&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(t)&&(0===e.length||yn(e[0]))}(e))return Array.prototype.slice.call(e);if("string"==typeof e)try{var n=t.querySelectorAll(e);return Array.prototype.slice.call(n)}catch(e){return[]}return[]}
/*! @license Rematrix v0.3.0

	Copyright 2018 Julian Lloyd.

	Permission is hereby granted, free of charge, to any person obtaining a copy
	of this software and associated documentation files (the "Software"), to deal
	in the Software without restriction, including without limitation the rights
	to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	copies of the Software, and to permit persons to whom the Software is
	furnished to do so, subject to the following conditions:

	The above copyright notice and this permission notice shall be included in
	all copies or substantial portions of the Software.

	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
	THE SOFTWARE.
*/function bn(e){if(e.constructor!==Array)throw new TypeError("Expected array.");if(16===e.length)return e;if(6===e.length){var t=wn();return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}throw new RangeError("Expected array with either 6 or 16 values.")}function wn(){for(var e=[],t=0;t<16;t++)t%5==0?e.push(1):e.push(0);return e}function _n(e,t){for(var n=bn(e),r=bn(t),i=[],o=0;o<4;o++)for(var a=[n[o],n[o+4],n[o+8],n[o+12]],s=0;s<4;s++){var u=4*s,l=[r[u],r[u+1],r[u+2],r[u+3]],c=a[0]*l[0]+a[1]*l[1]+a[2]*l[2]+a[3]*l[3];i[o+u]=c}return i}function xn(e){if("string"==typeof e){var t=e.match(/matrix(3d)?\(([^)]+)\)/);if(t)return bn(t[2].split(", ").map(parseFloat))}return wn()}function On(e,t){var n=wn();return n[0]=e,n[5]="number"==typeof t?t:e,n}
/*! @license miniraf v1.0.0

	Copyright 2018 Fisssion LLC.

	Permission is hereby granted, free of charge, to any person obtaining a copy
	of this software and associated documentation files (the "Software"), to deal
	in the Software without restriction, including without limitation the rights
	to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	copies of the Software, and to permit persons to whom the Software is
	furnished to do so, subject to the following conditions:

	The above copyright notice and this permission notice shall be included in all
	copies or substantial portions of the Software.

	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
	SOFTWARE.

*/
var jn,Sn=(jn=Date.now(),function(e){var t=Date.now();t-jn>16?(jn=t,e(t)):setTimeout((function(){return Sn(e)}),0)}),kn=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Sn,Cn={delay:0,distance:"0",duration:600,easing:"cubic-bezier(0.5, 0, 0, 1)",interval:0,opacity:0,origin:"bottom",rotate:{x:0,y:0,z:0},scale:1,cleanup:!1,container:document.documentElement,desktop:!0,mobile:!0,reset:!1,useDelay:"always",viewFactor:0,viewOffset:{top:0,right:0,bottom:0,left:0},afterReset:function(){},afterReveal:function(){},beforeReset:function(){},beforeReveal:function(){}};var Pn={success:function(){document.documentElement.classList.add("sr"),document.body?document.body.style.height="100%":document.addEventListener("DOMContentLoaded",(function(){document.body.style.height="100%"}))},failure:function(){return document.documentElement.classList.remove("sr"),{clean:function(){},destroy:function(){},reveal:function(){},sync:function(){},get noop(){return!0}}}};function En(e){return null!==e&&e instanceof Object&&(e.constructor===Object||"[object Object]"===Object.prototype.toString.call(e))}function $n(e,t){if(En(e))return Object.keys(e).forEach((function(n){return t(e[n],n,e)}));if(e instanceof Array)return e.forEach((function(n,r){return t(n,r,e)}));throw new TypeError("Expected either an array or object literal.")}function In(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(this.constructor.debug&&console){var r="%cScrollReveal: "+e;t.forEach((function(e){return r+="\n — "+e})),console.log(r,"color: #ea654b;")}}function Rn(){var e=this,t={active:[],stale:[]},n={active:[],stale:[]},r={active:[],stale:[]};try{$n(mn("[data-sr-id]"),(function(e){var n=parseInt(e.getAttribute("data-sr-id"));t.active.push(n)}))}catch(e){throw e}$n(this.store.elements,(function(e){-1===t.active.indexOf(e.id)&&t.stale.push(e.id)})),$n(t.stale,(function(t){return delete e.store.elements[t]})),$n(this.store.elements,(function(e){-1===r.active.indexOf(e.containerId)&&r.active.push(e.containerId),e.hasOwnProperty("sequence")&&-1===n.active.indexOf(e.sequence.id)&&n.active.push(e.sequence.id)})),$n(this.store.containers,(function(e){-1===r.active.indexOf(e.id)&&r.stale.push(e.id)})),$n(r.stale,(function(t){var n=e.store.containers[t].node;n.removeEventListener("scroll",e.delegate),n.removeEventListener("resize",e.delegate),delete e.store.containers[t]})),$n(this.store.sequences,(function(e){-1===n.active.indexOf(e.id)&&n.stale.push(e.id)})),$n(n.stale,(function(t){return delete e.store.sequences[t]}))}var Tn=function(){var e={},t=document.documentElement.style;function n(n,r){if(void 0===r&&(r=t),n&&"string"==typeof n){if(e[n])return e[n];if("string"==typeof r[n])return e[n]=n;if("string"==typeof r["-webkit-"+n])return e[n]="-webkit-"+n;throw new RangeError('Unable to find "'+n+'" style property.')}throw new TypeError("Expected a string.")}return n.clearCache=function(){return e={}},n}();function Fn(e){var t=window.getComputedStyle(e.node),n=t.position,r=e.config,i={},o=(e.node.getAttribute("style")||"").match(/[\w-]+\s*:\s*[^;]+\s*/gi)||[];i.computed=o?o.map((function(e){return e.trim()})).join("; ")+";":"",i.generated=o.some((function(e){return e.match(/visibility\s?:\s?visible/i)}))?i.computed:o.concat(["visibility: visible"]).map((function(e){return e.trim()})).join("; ")+";";var a,s,u,l=parseFloat(t.opacity),c=isNaN(parseFloat(r.opacity))?parseFloat(t.opacity):parseFloat(r.opacity),d={computed:l!==c?"opacity: "+l+";":"",generated:l!==c?"opacity: "+c+";":""},f=[];if(parseFloat(r.distance)){var p="top"===r.origin||"bottom"===r.origin?"Y":"X",h=r.distance;"top"!==r.origin&&"left"!==r.origin||(h=/^-/.test(h)?h.substr(1):"-"+h);var v=h.match(/(^-?\d+\.?\d?)|(em$|px$|%$)/g),g=v[0];switch(v[1]){case"em":h=parseInt(t.fontSize)*g;break;case"px":h=g;break;case"%":h="Y"===p?e.node.getBoundingClientRect().height*g/100:e.node.getBoundingClientRect().width*g/100;break;default:throw new RangeError("Unrecognized or missing distance unit.")}"Y"===p?f.push(function(e){var t=wn();return t[13]=e,t}(h)):f.push(function(e){var t=wn();return t[12]=e,t}(h))}r.rotate.x&&f.push((a=r.rotate.x,s=Math.PI/180*a,(u=wn())[5]=u[10]=Math.cos(s),u[6]=u[9]=Math.sin(s),u[9]*=-1,u)),r.rotate.y&&f.push(function(e){var t=Math.PI/180*e,n=wn();return n[0]=n[10]=Math.cos(t),n[2]=n[8]=Math.sin(t),n[2]*=-1,n}(r.rotate.y)),r.rotate.z&&f.push(function(e){var t=Math.PI/180*e,n=wn();return n[0]=n[5]=Math.cos(t),n[1]=n[4]=Math.sin(t),n[4]*=-1,n}(r.rotate.z)),1!==r.scale&&(0===r.scale?f.push(On(2e-4)):f.push(On(r.scale)));var y={};if(f.length){y.property=Tn("transform"),y.computed={raw:t[y.property],matrix:xn(t[y.property])},f.unshift(y.computed.matrix);var m=f.reduce(_n);y.generated={initial:y.property+": matrix3d("+m.join(", ")+");",final:y.property+": matrix3d("+y.computed.matrix.join(", ")+");"}}else y.generated={initial:"",final:""};var b={};if(d.generated||y.generated.initial){b.property=Tn("transition"),b.computed=t[b.property],b.fragments=[];var w=r.delay,_=r.duration,x=r.easing;d.generated&&b.fragments.push({delayed:"opacity "+_/1e3+"s "+x+" "+w/1e3+"s",instant:"opacity "+_/1e3+"s "+x+" 0s"}),y.generated.initial&&b.fragments.push({delayed:y.property+" "+_/1e3+"s "+x+" "+w/1e3+"s",instant:y.property+" "+_/1e3+"s "+x+" 0s"}),b.computed&&!b.computed.match(/all 0s|none 0s/)&&b.fragments.unshift({delayed:b.computed,instant:b.computed});var O=b.fragments.reduce((function(e,t,n){return e.delayed+=0===n?t.delayed:", "+t.delayed,e.instant+=0===n?t.instant:", "+t.instant,e}),{delayed:"",instant:""});b.generated={delayed:b.property+": "+O.delayed+";",instant:b.property+": "+O.instant+";"}}else b.generated={delayed:"",instant:""};return{inline:i,opacity:d,position:n,transform:y,transition:b}}function Ln(e,t){t.split(";").forEach((function(t){var n=t.split(":"),r=n[0],i=n.slice(1);r&&i&&(e.style[r.trim()]=i.join(":"))}))}function An(e){var t,n=this;try{$n(mn(e),(function(e){var r=e.getAttribute("data-sr-id");if(null!==r){t=!0;var i=n.store.elements[r];i.callbackTimer&&window.clearTimeout(i.callbackTimer.clock),Ln(i.node,i.styles.inline.generated),e.removeAttribute("data-sr-id"),delete n.store.elements[r]}}))}catch(e){return In.call(this,"Clean failed.",e.message)}if(t)try{Rn.call(this)}catch(e){return In.call(this,"Clean failed.",e.message)}}function Mn(){var e=this;$n(this.store.elements,(function(e){Ln(e.node,e.styles.inline.generated),e.node.removeAttribute("data-sr-id")})),$n(this.store.containers,(function(t){var n=t.node===document.documentElement?window:t.node;n.removeEventListener("scroll",e.delegate),n.removeEventListener("resize",e.delegate)})),this.store={containers:{},elements:{},history:[],sequences:{}}}function Wn(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(En(e))return $n(t,(function(t){$n(t,(function(t,n){En(t)?(e[n]&&En(e[n])||(e[n]={}),Wn(e[n],t)):e[n]=t}))})),e;throw new TypeError("Target must be an object literal.")}function Nn(e){return void 0===e&&(e=navigator.userAgent),/Android|iPhone|iPad|iPod/i.test(e)}var Dn,Vn=(Dn=0,function(){return Dn++});function Bn(){var e=this;Rn.call(this),$n(this.store.elements,(function(e){var t=[e.styles.inline.generated];e.visible?(t.push(e.styles.opacity.computed),t.push(e.styles.transform.generated.final),e.revealed=!0):(t.push(e.styles.opacity.generated),t.push(e.styles.transform.generated.initial),e.revealed=!1),Ln(e.node,t.filter((function(e){return""!==e})).join(" "))})),$n(this.store.containers,(function(t){var n=t.node===document.documentElement?window:t.node;n.addEventListener("scroll",e.delegate),n.addEventListener("resize",e.delegate)})),this.delegate(),this.initTimeout=null}function qn(e,t){void 0===t&&(t={});var n=t.pristine||this.pristine,r="always"===e.config.useDelay||"onload"===e.config.useDelay&&n||"once"===e.config.useDelay&&!e.seen,i=e.visible&&!e.revealed,o=!e.visible&&e.revealed&&e.config.reset;return t.reveal||i?Un.call(this,e,r):t.reset||o?Hn.call(this,e):void 0}function Un(e,t){var n=[e.styles.inline.generated,e.styles.opacity.computed,e.styles.transform.generated.final];t?n.push(e.styles.transition.generated.delayed):n.push(e.styles.transition.generated.instant),e.revealed=e.seen=!0,Ln(e.node,n.filter((function(e){return""!==e})).join(" ")),zn.call(this,e,t)}function Hn(e){var t=[e.styles.inline.generated,e.styles.opacity.generated,e.styles.transform.generated.initial,e.styles.transition.generated.instant];e.revealed=!1,Ln(e.node,t.filter((function(e){return""!==e})).join(" ")),zn.call(this,e)}function zn(e,t){var n=this,r=t?e.config.duration+e.config.delay:e.config.duration,i=e.revealed?e.config.beforeReveal:e.config.beforeReset,o=e.revealed?e.config.afterReveal:e.config.afterReset,a=0;e.callbackTimer&&(a=Date.now()-e.callbackTimer.start,window.clearTimeout(e.callbackTimer.clock)),i(e.node),e.callbackTimer={start:Date.now(),clock:window.setTimeout((function(){o(e.node),e.callbackTimer=null,e.revealed&&!e.config.reset&&e.config.cleanup&&An.call(n,e.node)}),r-a)}}function Yn(e,t){if(void 0===t&&(t=this.pristine),!e.visible&&e.revealed&&e.config.reset)return qn.call(this,e,{reset:!0});var n=this.store.sequences[e.sequence.id],r=e.sequence.index;if(n){var i=new Kn(n,"visible",this.store),o=new Kn(n,"revealed",this.store);if(n.models={visible:i,revealed:o},!o.body.length){var a=n.members[i.body[0]],s=this.store.elements[a];if(s)return Gn.call(this,n,i.body[0],-1,t),Gn.call(this,n,i.body[0],1,t),qn.call(this,s,{reveal:!0,pristine:t})}if(!n.blocked.head&&r===[].concat(o.head).pop()&&r>=[].concat(i.body).shift())return Gn.call(this,n,r,-1,t),qn.call(this,e,{reveal:!0,pristine:t});if(!n.blocked.foot&&r===[].concat(o.foot).shift()&&r<=[].concat(i.body).pop())return Gn.call(this,n,r,1,t),qn.call(this,e,{reveal:!0,pristine:t})}}function Jn(e){var t=Math.abs(e);if(isNaN(t))throw new RangeError("Invalid sequence interval.");this.id=Vn(),this.interval=Math.max(t,16),this.members=[],this.models={},this.blocked={head:!1,foot:!1}}function Kn(e,t,n){var r=this;this.head=[],this.body=[],this.foot=[],$n(e.members,(function(e,i){var o=n.elements[e];o&&o[t]&&r.body.push(i)})),this.body.length&&$n(e.members,(function(e,i){var o=n.elements[e];o&&!o[t]&&(i<r.body[0]?r.head.push(i):r.foot.push(i))}))}function Gn(e,t,n,r){var i=this,o=["head",null,"foot"][1+n],a=e.members[t+n],s=this.store.elements[a];e.blocked[o]=!0,setTimeout((function(){e.blocked[o]=!1,s&&Yn.call(i,s,r)}),e.interval)}function Xn(e,t,n){var r=this;void 0===t&&(t={}),void 0===n&&(n=!1);var i,o=[],a=t.interval||Cn.interval;try{a&&(i=new Jn(a));var s=mn(e);if(!s.length)throw new Error("Invalid reveal target.");var u=s.reduce((function(e,n){var a={},s=n.getAttribute("data-sr-id");s?(Wn(a,r.store.elements[s]),Ln(a.node,a.styles.inline.computed)):(a.id=Vn(),a.node=n,a.seen=!1,a.revealed=!1,a.visible=!1);var u=Wn({},a.config||r.defaults,t);if(!u.mobile&&Nn()||!u.desktop&&!Nn())return s&&An.call(r,a),e;var l,c=mn(u.container)[0];if(!c)throw new Error("Invalid container.");return c.contains(n)?(l=function(e){var t=[],n=arguments.length-1;for(;n-- >0;)t[n]=arguments[n+1];var r=null;return $n(t,(function(t){$n(t,(function(t){null===r&&t.node===e&&(r=t.id)}))})),r}(c,o,r.store.containers),null===l&&(l=Vn(),o.push({id:l,node:c})),a.config=u,a.containerId=l,a.styles=Fn(a),i&&(a.sequence={id:i.id,index:i.members.length},i.members.push(a.id)),e.push(a),e):e}),[]);$n(u,(function(e){r.store.elements[e.id]=e,e.node.setAttribute("data-sr-id",e.id)}))}catch(e){return In.call(this,"Reveal failed.",e.message)}$n(o,(function(e){r.store.containers[e.id]={id:e.id,node:e.node}})),i&&(this.store.sequences[i.id]=i),!0!==n&&(this.store.history.push({target:e,options:t}),this.initTimeout&&window.clearTimeout(this.initTimeout),this.initTimeout=window.setTimeout(Bn.bind(this),0))}function Qn(){var e=this;$n(this.store.history,(function(t){Xn.call(e,t.target,t.options,!0)})),Bn.call(this)}var Zn=Math.sign||function(e){return(e>0)-(e<0)||+e};function er(e,t){var n=t?e.node.clientHeight:e.node.offsetHeight,r=t?e.node.clientWidth:e.node.offsetWidth,i=0,o=0,a=e.node;do{isNaN(a.offsetTop)||(i+=a.offsetTop),isNaN(a.offsetLeft)||(o+=a.offsetLeft),a=a.offsetParent}while(a);return{bounds:{top:i,right:o+r,bottom:i+n,left:o},height:n,width:r}}function tr(e){var t,n;return e.node===document.documentElement?(t=window.pageYOffset,n=window.pageXOffset):(t=e.node.scrollTop,n=e.node.scrollLeft),{top:t,left:n}}function nr(e){void 0===e&&(e={});var t=this.store.containers[e.containerId];if(t){var n=Math.max(0,Math.min(1,e.config.viewFactor)),r=e.config.viewOffset,i=e.geometry.bounds.top+e.geometry.height*n,o=e.geometry.bounds.right-e.geometry.width*n,a=e.geometry.bounds.bottom-e.geometry.height*n,s=e.geometry.bounds.left+e.geometry.width*n,u=t.geometry.bounds.top+t.scroll.top+r.top,l=t.geometry.bounds.right+t.scroll.left-r.right,c=t.geometry.bounds.bottom+t.scroll.top-r.bottom,d=t.geometry.bounds.left+t.scroll.left+r.left;return i<c&&o>d&&a>u&&s<l||"fixed"===e.styles.position}}function rr(e,t){var n=this;void 0===e&&(e={type:"init"}),void 0===t&&(t=this.store.elements),kn((function(){var r="init"===e.type||"resize"===e.type;$n(n.store.containers,(function(e){r&&(e.geometry=er.call(n,e,!0));var t=tr.call(n,e);e.scroll&&(e.direction={x:Zn(t.left-e.scroll.left),y:Zn(t.top-e.scroll.top)}),e.scroll=t})),$n(t,(function(e){(r||void 0===e.geometry)&&(e.geometry=er.call(n,e)),e.visible=nr.call(n,e)})),$n(t,(function(e){e.sequence?Yn.call(n,e):qn.call(n,e)})),n.pristine=!1}))}var ir,or,ar,sr,ur,lr,cr,dr;function fr(e){var t;if(void 0===e&&(e={}),void 0===this||Object.getPrototypeOf(this)!==fr.prototype)return new fr(e);if(!fr.isSupported())return In.call(this,"Instantiation failed.","This browser is not supported."),Pn.failure();try{t=Wn({},lr||Cn,e)}catch(e){return In.call(this,"Invalid configuration.",e.message),Pn.failure()}try{if(!mn(t.container)[0])throw new Error("Invalid container.")}catch(e){return In.call(this,e.message),Pn.failure()}return!(lr=t).mobile&&Nn()||!lr.desktop&&!Nn()?(In.call(this,"This device is disabled.","desktop: "+lr.desktop,"mobile: "+lr.mobile),Pn.failure()):(Pn.success(),this.store={containers:{},elements:{},history:[],sequences:{}},this.pristine=!0,ir=ir||rr.bind(this),or=or||Mn.bind(this),ar=ar||Xn.bind(this),sr=sr||An.bind(this),ur=ur||Qn.bind(this),Object.defineProperty(this,"delegate",{get:function(){return ir}}),Object.defineProperty(this,"destroy",{get:function(){return or}}),Object.defineProperty(this,"reveal",{get:function(){return ar}}),Object.defineProperty(this,"clean",{get:function(){return sr}}),Object.defineProperty(this,"sync",{get:function(){return ur}}),Object.defineProperty(this,"defaults",{get:function(){return lr}}),Object.defineProperty(this,"version",{get:function(){return"4.0.9"}}),Object.defineProperty(this,"noop",{get:function(){return!1}}),dr||(dr=this))}fr.isSupported=function(){return function(){var e=document.documentElement.style;return"transform"in e||"WebkitTransform"in e}()&&function(){var e=document.documentElement.style;return"transition"in e||"WebkitTransition"in e}()},Object.defineProperty(fr,"debug",{get:function(){return cr||!1},set:function(e){return cr="boolean"==typeof e?e:cr}}),fr();var pr,hr={props:{wrapperRef:HTMLDivElement,properties:Object},data:function(){return{initialized:!1}},unmounted:function(){this.$props.wrapperRef&&fr().clean(this.$props.wrapperRef)},watch:{wrapperRef:{handler:function(){!this.$data.initialized&&this.$props.wrapperRef&&(this.$data.initialized=!0,fr(this.$props.properties).reveal(this.$props.wrapperRef))},immediate:!0}}},vr=hr,gr=Ue({render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]},undefined,vr,undefined,false,undefined,!1,void 0,void 0,void 0),yr=gr,mr=new vn({display:yr}),br={anchor:gn,reveal:mr},wr=l((function e(t){var n=t.form,r=t.display,i=t.readOnly;s(this,e),this.form=n,this.display=r,this.readOnly=i,this.tags=[]})),_r=Ue({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"button-group-wrapper"},e._l(e.options,(function(t,r){return n("button",{key:t.value,class:{isLast:r===e.options.length-1,selected:e.value===t.value},on:{click:function(){return e.onSelectChange(t.value)}}},[e._v("\n    "+e._s(t.label)+"\n  ")])})),0)},staticRenderFns:[]},(function(e){e&&e("data-v-531591b8_0",{source:".button-group-wrapper[data-v-531591b8]{display:inline-flex;flex-direction:row;border:1px solid #000;border-radius:8px;overflow:hidden}button[data-v-531591b8]{border:1px solid transparent;cursor:pointer;background-color:#fff}button[data-v-531591b8]:not(.isLast){border-right-color:#000}button.selected[data-v-531591b8]{background-color:#03a9f4;color:#fff}",map:void 0,media:void 0})}),{props:{properties:Object,widget:Object,onChange:Function,value:String},inject:["t"],data:function(){return{options:[]}},watch:c({},"properties.options",{handler:function(){var e=this;this.$data.options=this.$props.properties.options.map((function(t){return{value:t.value,label:e.t(t.labelKey,e.$props.widget.id)}}))},immediate:!0}),computed:{selectedValue:function(){var e=this;return this.$data.options.find((function(t){return t.value===e.$props.value}))}},methods:{onSelectChange:function(e){this.$props.onChange(e)}}},"data-v-531591b8",false,undefined,!1,ze,void 0,void 0),xr=new wr({display:_r,readOnly:Ue({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v("\n  "+e._s(e.translatedLabel)+"\n")])},staticRenderFns:[]},undefined,{props:{properties:Object,widget:Object,onChange:Function,value:String},inject:["t"],data:function(){return{translatedLabel:""}},methods:{getLabelByValue:function(e){var t;return this.t((null===(t=this.$props.properties.options.find((function(t){return t.value===e})))||void 0===t?void 0:t.labelKey)||"",this.$props.widget.id)}},watch:{value:{handler:function(e){this.$data.translatedLabel=this.getLabelByValue(e)},immediate:!0}}},undefined,false,undefined,!1,void 0,void 0,void 0)}),Or=new wr({form:Ue({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("label",[n("input",{attrs:{type:"checkbox",name:e.widget.id},domProps:{checked:e.value},on:{click:e.onToggle}}),e._v("\n    "+e._s(e.t("__checkboxLabel",e.widget.id))+"\n  ")])])},staticRenderFns:[]},undefined,{props:{properties:Object,widget:Object,onChange:Function,value:Boolean},inject:["t"],methods:{onToggle:function(e){var t,n;null===(t=(n=this.$props).onChange)||void 0===t||t.call(n,e.target.checked)}}},undefined,false,undefined,!1,void 0,void 0,void 0),display:Ue({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("label",[n("input",{attrs:{type:"checkbox",name:e.widget.id},domProps:{checked:e.value},on:{click:e.onToggle}}),e._v("\n    "+e._s(e.t("__checkboxLabel",e.widget.id))+"\n  ")])])},staticRenderFns:[]},undefined,{props:{properties:Object,widget:Object,onChange:Function,value:Boolean},inject:["t"],methods:{onToggle:function(e){var t,n;null===(t=(n=this.$props).onChange)||void 0===t||t.call(n,e.target.checked)}}},undefined,false,undefined,!1,void 0,void 0,void 0),readOnly:Ue({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v("\n  "+e._s(!!e.value)+"\n")])},staticRenderFns:[]},undefined,{props:{properties:Object,widget:Object,onChange:Function,value:Boolean},inject:["t"]},undefined,false,undefined,!1,void 0,void 0,void 0)}),jr=et((function(e,t){e.exports=function(){var e=1e3,t=6e4,n=36e5,r="millisecond",i="second",o="minute",a="hour",s="day",u="week",l="month",c="quarter",d="year",f="date",p="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},y=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},m={s:y,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+y(r,2,"0")+":"+y(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,l),o=n-i<0,a=t.clone().add(r+(o?-1:1),l);return+(-(r+(n-i)/(o?i-a:a-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:l,y:d,w:u,d:s,D:f,h:a,m:o,s:i,ms:r,Q:c}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",w={};w[b]=g;var _=function(e){return e instanceof S},x=function e(t,n,r){var i;if(!t)return b;if("string"==typeof t){var o=t.toLowerCase();w[o]&&(i=o),n&&(w[o]=n,i=o);var a=t.split("-");if(!i&&a.length>1)return e(a[0])}else{var s=t.name;w[s]=t,i=s}return!r&&i&&(b=i),i||!r&&b},O=function(e,t){if(_(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new S(n)},j=m;j.l=x,j.i=_,j.w=function(e,t){return O(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var S=function(){function g(e){this.$L=x(e.locale,null,!0),this.parse(e)}var y=g.prototype;return y.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(j.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(h);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},y.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},y.$utils=function(){return j},y.isValid=function(){return!(this.$d.toString()===p)},y.isSame=function(e,t){var n=O(e);return this.startOf(t)<=n&&n<=this.endOf(t)},y.isAfter=function(e,t){return O(e)<this.startOf(t)},y.isBefore=function(e,t){return this.endOf(t)<O(e)},y.$g=function(e,t,n){return j.u(e)?this[t]:this.set(n,e)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(e,t){var n=this,r=!!j.u(t)||t,c=j.p(e),p=function(e,t){var i=j.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?i:i.endOf(s)},h=function(e,t){return j.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},v=this.$W,g=this.$M,y=this.$D,m="set"+(this.$u?"UTC":"");switch(c){case d:return r?p(1,0):p(31,11);case l:return r?p(1,g):p(0,g+1);case u:var b=this.$locale().weekStart||0,w=(v<b?v+7:v)-b;return p(r?y-w:y+(6-w),g);case s:case f:return h(m+"Hours",0);case a:return h(m+"Minutes",1);case o:return h(m+"Seconds",2);case i:return h(m+"Milliseconds",3);default:return this.clone()}},y.endOf=function(e){return this.startOf(e,!1)},y.$set=function(e,t){var n,u=j.p(e),c="set"+(this.$u?"UTC":""),p=(n={},n[s]=c+"Date",n[f]=c+"Date",n[l]=c+"Month",n[d]=c+"FullYear",n[a]=c+"Hours",n[o]=c+"Minutes",n[i]=c+"Seconds",n[r]=c+"Milliseconds",n)[u],h=u===s?this.$D+(t-this.$W):t;if(u===l||u===d){var v=this.clone().set(f,1);v.$d[p](h),v.init(),this.$d=v.set(f,Math.min(this.$D,v.daysInMonth())).$d}else p&&this.$d[p](h);return this.init(),this},y.set=function(e,t){return this.clone().$set(e,t)},y.get=function(e){return this[j.p(e)]()},y.add=function(r,c){var f,p=this;r=Number(r);var h=j.p(c),v=function(e){var t=O(p);return j.w(t.date(t.date()+Math.round(e*r)),p)};if(h===l)return this.set(l,this.$M+r);if(h===d)return this.set(d,this.$y+r);if(h===s)return v(1);if(h===u)return v(7);var g=(f={},f[o]=t,f[a]=n,f[i]=e,f)[h]||1,y=this.$d.getTime()+r*g;return j.w(y,this)},y.subtract=function(e,t){return this.add(-1*e,t)},y.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||p;var r=e||"YYYY-MM-DDTHH:mm:ssZ",i=j.z(this),o=this.$H,a=this.$m,s=this.$M,u=n.weekdays,l=n.months,c=function(e,n,i,o){return e&&(e[n]||e(t,r))||i[n].substr(0,o)},d=function(e){return j.s(o%12||12,e,"0")},f=n.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},h={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:j.s(s+1,2,"0"),MMM:c(n.monthsShort,s,l,3),MMMM:c(l,s),D:this.$D,DD:j.s(this.$D,2,"0"),d:String(this.$W),dd:c(n.weekdaysMin,this.$W,u,2),ddd:c(n.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(o),HH:j.s(o,2,"0"),h:d(1),hh:d(2),a:f(o,a,!0),A:f(o,a,!1),m:String(a),mm:j.s(a,2,"0"),s:String(this.$s),ss:j.s(this.$s,2,"0"),SSS:j.s(this.$ms,3,"0"),Z:i};return r.replace(v,(function(e,t){return t||h[e]||i.replace(":","")}))},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(r,f,p){var h,v=j.p(f),g=O(r),y=(g.utcOffset()-this.utcOffset())*t,m=this-g,b=j.m(this,g);return b=(h={},h[d]=b/12,h[l]=b,h[c]=b/3,h[u]=(m-y)/6048e5,h[s]=(m-y)/864e5,h[a]=m/n,h[o]=m/t,h[i]=m/e,h)[v]||m,p?b:j.a(b)},y.daysInMonth=function(){return this.endOf(l).$D},y.$locale=function(){return w[this.$L]},y.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=x(e,t,!0);return r&&(n.$L=r),n},y.clone=function(){return j.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},g}(),k=S.prototype;return O.prototype=k,[["$ms",r],["$s",i],["$m",o],["$H",a],["$W",s],["$M",l],["$y",d],["$D",f]].forEach((function(e){k[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),O.extend=function(e,t){return e.$i||(e(t,S,O),e.$i=!0),O},O.locale=x,O.isDayjs=_,O.unix=function(e){return O(1e3*e)},O.en=w[b],O.Ls=w,O.p={},O}()})),Sr=function(e){if(e)return e.toISOString().split("T")[0]},kr=function(e){if(e){if(e instanceof Date)return e;var t=Date.parse(e);return isNaN(t)?/^Date.now(\(\))*$/.test(e)||/^new Date(\(\))*$/.test(e)?new Date:/(^dayjs|^[\w]+\([^\)]*\))/.test(e)?e.split(".").reduce((function(e,t){var n,r=t.match(/([\w]+)\(([^\)]*)\)/);return r?"dayjs"===r[1]?r[2]?jr(r[2]):e:(n=e)[r[1]].apply(n,b(r[2].split(/\s*,\s*/).map((function(e){var t=parseFloat(e);return isNaN(t)?e.replaceAll(/[\'\"]+/g,""):t})))):e}),jr()).toDate():void 0:new Date(t)}},Cr={buttonGroup:xr,checkbox:Or,datePicker:new wr({display:Ue({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("input",{attrs:{type:"date",min:e.minDate,max:e.maxDate},domProps:{value:e.value||e.defaultDate},on:{change:e.onDateChange}})])},staticRenderFns:[]},(function(e){e&&e("data-v-5a5d677c_0",{source:".radio-item[data-v-5a5d677c]{margin-right:10px}",map:void 0,media:void 0})}),{props:{properties:Object,widget:Object,onChange:Function,value:String},inject:["t"],created:function(){this.$props.value||this.$props.onChange(this.$data.defaultDate)},data:function(){return{defaultDate:Sr(kr(this.$props.properties.defaultDate)),minDate:Sr(kr(this.$props.properties.minDate)),maxDate:Sr(kr(this.$props.properties.maxDate))}},methods:{onDateChange:function(e){this.$props.onChange(e.target.value)}}},"data-v-5a5d677c",false,undefined,!1,ze,void 0,void 0),readOnly:Ue({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v("\n  "+e._s(e.value)+"\n")])},staticRenderFns:[]},undefined,{props:{properties:Object,widget:Object,onChange:Function,value:String},inject:["t"],computed:{label:function(){var e=this,t=this.$props.widget.properties.controlProperties.options.find((function(t){return t.value===e.$props.value}));return null!=t&&t.labelKey?this.t(t.labelKey,this.$props.widget.id):""}}},undefined,false,undefined,!1,void 0,void 0,void 0)}),dropdown:new wr({display:Ue({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("select",{domProps:{value:e.value||""},on:{change:e.onSelectChange}},[n("option",{attrs:{value:"",disabled:""}},[e._v(e._s(e.t("__placeholder",e.widget.id)))]),e._v(" "),e._l(e.options,(function(t){return n("option",{key:t.value,domProps:{value:t.value,selected:e.value===t.value}},[e._v("\n      "+e._s(t.label)+"\n    ")])}))],2)])},staticRenderFns:[]},(function(e){e&&e("data-v-2bf2f5b8_0",{source:".radio-item[data-v-2bf2f5b8]{margin-right:10px}",map:void 0,media:void 0})}),{props:{properties:Object,widget:Object,onChange:Function,value:String},inject:["t"],data:function(){return{options:[]}},watch:c({},"properties.options",{handler:function(){var e=this;this.$data.options=this.$props.properties.options.map((function(t){return{value:t.value,label:e.t(t.labelKey,e.$props.widget.id)}}))},immediate:!0}),computed:{selectedValue:function(){var e=this;return this.$data.options.find((function(t){return t.value===e.$props.value}))}},methods:{onSelectChange:function(e){this.$props.onChange(e.target.value)}}},"data-v-2bf2f5b8",false,undefined,!1,ze,void 0,void 0),readOnly:Ue({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v("\n  "+e._s(e.translatedLabel)+"\n")])},staticRenderFns:[]},undefined,{props:{properties:Object,widget:Object,onChange:Function,value:String},inject:["t"],data:function(){return{translatedLabel:""}},methods:{getLabelByValue:function(e){var t;return this.t((null===(t=this.$props.properties.options.find((function(t){return t.value===e})))||void 0===t?void 0:t.labelKey)||"",this.$props.widget.id)}},watch:{value:{handler:function(e){this.$data.translatedLabel=this.getLabelByValue(e)},immediate:!0}}},undefined,false,undefined,!1,void 0,void 0,void 0)}),numberPicker:new wr({form:Ue({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("button",{on:{click:function(){return e.changeValue(-e.step)}}},[e._v("-")]),e._v(" "),n("input",{attrs:{type:"number",step:e.step},domProps:{value:e.numValue},on:{change:function(t){return e.changeValue(parseInt(t.target.value,10))}}}),e._v(" "),n("button",{on:{click:function(){return e.changeValue(e.step)}}},[e._v("+")])])},staticRenderFns:[]},(function(e){e&&e("data-v-5fc8cc90_0",{source:"input[data-v-5fc8cc90]::-webkit-inner-spin-button,input[data-v-5fc8cc90]::-webkit-outer-spin-button{-webkit-appearance:none;-moz-appearance:textfield;margin:0}",map:void 0,media:void 0})}),{props:{properties:Object,value:Number,onChange:Function},computed:{step:function(){return this.$props.properties.step||1},numValue:function(){var e;return(null===(e=this.$props.value)||void 0===e?void 0:e.num)||this.$props.properties.default||this.$props.properties.min||0}},methods:{changeValue:function(e){var t,n,r,i,o,a,s=this.numValue+e;void 0!==(null===(t=this.$props.properties)||void 0===t?void 0:t.min)&&s<(null===(n=this.$props.properties)||void 0===n?void 0:n.min)&&(s=this.$props.properties.min),void 0!==(null===(r=this.$props.properties)||void 0===r?void 0:r.max)&&s>(null===(i=this.$props.properties)||void 0===i?void 0:i.max)&&(s=this.$props.properties.max),null===(o=(a=this.$props).onChange)||void 0===o||o.call(a,{num:s})}}},"data-v-5fc8cc90",false,undefined,!1,ze,void 0,void 0),display:Ue({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("button",{on:{click:function(){return e.changeValue(e.numValue-e.step)}}},[e._v("-")]),e._v(" "),n("input",{attrs:{type:"number",step:e.step},domProps:{value:e.numValue},on:{keyup:function(t){return e.changeValue(t.target.value)}}}),e._v(" "),n("button",{on:{click:function(){return e.changeValue(e.numValue+e.step)}}},[e._v("+")])])},staticRenderFns:[]},(function(e){e&&e("data-v-5d4490d4_0",{source:"input[data-v-5d4490d4]::-webkit-inner-spin-button,input[data-v-5d4490d4]::-webkit-outer-spin-button{-webkit-appearance:none;-moz-appearance:textfield;margin:0}",map:void 0,media:void 0})}),{props:{properties:Object,value:Number,onChange:Function},created:function(){var e;void 0===this.$props.value&&void 0!==(null===(e=this.$props.properties)||void 0===e?void 0:e.default)&&this.changeValue(this.$props.properties.default,!0)},computed:{step:function(){return this.$props.properties.step||1},numValue:function(){var e,t;return void 0!==this.$props.value?this.$props.value:void 0!==(null===(e=this.$props.properties)||void 0===e?void 0:e.default)?this.$props.properties.default:void 0!==(null===(t=this.$props.properties)||void 0===t?void 0:t.min)?this.$props.properties.min:0}},methods:{changeValue:function(e,t){var n,r,i,o,a,s;if(!/^[^0-9]+$/.test(e.toString())){var u=parseInt(e.toString(),10);void 0!==(null===(n=this.$props.properties)||void 0===n?void 0:n.min)&&u<(null===(r=this.$props.properties)||void 0===r?void 0:r.min)&&(u=this.$props.properties.min),void 0!==(null===(i=this.$props.properties)||void 0===i?void 0:i.max)&&u>(null===(o=this.$props.properties)||void 0===o?void 0:o.max)&&(u=this.$props.properties.max),null===(a=(s=this.$props).onChange)||void 0===a||a.call(s,u,t)}}}},"data-v-5d4490d4",false,undefined,!1,ze,void 0,void 0),readOnly:Ue({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v("\n  "+e._s(e.value||e.widget.properties.controlProperties.default)+"\n")])},staticRenderFns:[]},undefined,{props:{properties:Object,widget:Object,onChange:Function,value:Number},inject:["t"]},undefined,false,undefined,!1,void 0,void 0,void 0)}),radio:new wr({form:Ue({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.properties.options,(function(t){return n("label",{key:t.value,staticClass:"radio-item"},[n("input",{attrs:{type:"radio",name:e.widget.id},domProps:{checked:e.value&&e.value.value===t.value,value:t.value},on:{change:e.onSelect}}),e._v("\n    "+e._s(e.t(t.labelKey,e.widget.id))+"\n  ")])})),0)},staticRenderFns:[]},(function(e){e&&e("data-v-31ad933e_0",{source:".radio-item[data-v-31ad933e]{margin-right:10px}",map:void 0,media:void 0})}),{props:{properties:Object,widget:Object,onChange:Function,value:Object},inject:["t"],methods:{onSelect:function(e){this.$props.onChange({value:e.target.value})}}},"data-v-31ad933e",false,undefined,!1,ze,void 0,void 0),display:Ue({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.properties.options,(function(t){return n("label",{key:t.value,staticClass:"radio-item"},[n("input",{attrs:{type:"radio",name:e.widget.id},domProps:{checked:e.value===t.value,value:t.value},on:{change:e.onSelect}}),e._v("\n    "+e._s(e.t(t.labelKey,e.widget.id))+"\n  ")])})),0)},staticRenderFns:[]},(function(e){e&&e("data-v-4b1138df_0",{source:".radio-item[data-v-4b1138df]{margin-right:10px}",map:void 0,media:void 0})}),{props:{properties:Object,widget:Object,onChange:Function,value:String},inject:["t"],methods:{onSelect:function(e){this.$props.onChange(e.target.value)}}},"data-v-4b1138df",false,undefined,!1,ze,void 0,void 0),readOnly:Ue({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v("\n  "+e._s(e.label)+"\n")])},staticRenderFns:[]},undefined,{props:{properties:Object,widget:Object,onChange:Function,value:String},inject:["t"],computed:{label:function(){var e=this,t=this.$props.widget.properties.controlProperties.options.find((function(t){return t.value===e.$props.value}));return null!=t&&t.labelKey?this.t(t.labelKey,this.$props.widget.id):""}}},undefined,false,undefined,!1,void 0,void 0,void 0)}),text:new wr({display:Ue({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.properties.multiline?e._e():n("input",{attrs:{type:"text"},domProps:{value:e.value},on:{input:e.onTextChange}}),e._v(" "),e.properties.multiline?n("textarea",{domProps:{value:e.value},on:{input:e.onTextChange}}):e._e()])},staticRenderFns:[]},(function(e){e&&e("data-v-abfcf24a_0",{source:"input[data-v-abfcf24a]::-webkit-inner-spin-button,input[data-v-abfcf24a]::-webkit-outer-spin-button{-webkit-appearance:none;-moz-appearance:textfield;margin:0}",map:void 0,media:void 0})}),{props:{properties:Object,value:String,onChange:Function},methods:{onTextChange:function(e){this.$props.onChange(e.target.value)}}},"data-v-abfcf24a",false,undefined,!1,ze,void 0,void 0),readOnly:Ue({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v("\n  "+e._s(e.value||e.widget.properties.controlProperties.default)+"\n")])},staticRenderFns:[]},undefined,{props:{properties:Object,widget:Object,onChange:Function,value:Number},inject:["t"]},undefined,false,undefined,!1,void 0,void 0,void 0)})},Pr=function(){function e(t){var n=t.widgetState,r=t.widgetCodeToIdMap,i=t.reflexCodeToIdsMap;s(this,e),this._widgetState=n||{},this._widgetCodeToIdMap=r||{},this._reflexCodeToIdsMap=i||{}}return l(e,[{key:"widgetState",get:function(){return this._widgetState}},{key:"widgetCodeToIdMap",get:function(){return this._widgetCodeToIdMap}},{key:"reflexCodeToIdsMap",get:function(){return this._reflexCodeToIdsMap}},{key:"onUpdate",value:function(){}},{key:"getWidgetState",value:function(e,t){var n;return t?null===(n=this._widgetState[e])||void 0===n?void 0:n[t]:this._widgetState[e]}},{key:"setWidgetState",value:function(e,t,n){var r;(this._widgetState[e]||(this._widgetState[e]={}),void 0===n)?null===(r=this._widgetState[e])||void 0===r||delete r[t]:this._widgetState[e][t]=n}},{key:"clearWidgetState",value:function(e,t){this.setWidgetState(e,t)}},{key:"registerWidgetCode",value:function(e,t){this._widgetCodeToIdMap[e]=t,this.setWidgetState(t,"code",e)}},{key:"unregisterWidgetCode",value:function(e){delete this._widgetCodeToIdMap[e]}},{key:"getReflexWidgetIdsByCode",value:function(e){return this._reflexCodeToIdsMap[e]||[]}},{key:"registerReflexWatch",value:function(e,t){var n=this;t.forEach((function(t){n._reflexCodeToIdsMap[t]=b(new Set([].concat(b(n._reflexCodeToIdsMap[t]||[]),[e])))}))}},{key:"unregisterReflexWatch",value:function(e,t){var n=this;t.forEach((function(t){n._reflexCodeToIdsMap[t]=n._reflexCodeToIdsMap[t].filter((function(t){return t!==e}))}))}}],[{key:"from",value:function(t){return new e(t instanceof e?{widgetState:t.widgetState,widgetCodeToIdMap:t.widgetCodeToIdMap,reflexCodeToIdsMap:t.reflexCodeToIdsMap}:{widgetState:t._widgetState,widgetCodeToIdMap:t._widgetCodeToIdMap,reflexCodeToIdsMap:t._reflexCodeToIdsMap})}}]),e}(),Er={},$r=function(e){Er[e]||(Er[e]={cached:[],result:null});for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.length?((n.length!==Er[e].cached.length||n.some((function(t,n){return t!==Er[e].cached[n]})))&&(Er[e].cached=n,Array.isArray(n[0])?Er[e].result=n.reduce((function(e,t){return[].concat(b(e),b(t))}),[]):Er[e].result=n.reduce((function(e,t){return i(i({},e),t)}),{})),Er[e].result):null},Ir={components:{WidgetsLayout:Ge},props:{languages:Object,form:Object,onFormChange:Function,state:(pr=Pr,Ae("instanceOf",{type:pr})).isRequired,onStateChange:Function,widgets:Object,questionControls:Object,plugins:Ve(Be({widgetControls:Object,widgetEffectControls:Object,questionControls:Object})),view:String,configs:Be({widgets:Be({disableInternalControls:Ne(),blacklist:Ve(De()),whitelist:Ve(De()),filters:Object}),questionControls:Be({disableInternalControls:Ne(),blacklist:Ve(De()),whitelist:Ve(De()),filters:Object})})},data:function(){return{widgetItems:{}}},computed:{widgetItemsArr:function(){return this.$props.form.widgets},combWidgetControls:function(){var e,t;return $r.apply(void 0,["widgetControls",null!==(e=this.$props.configs)&&void 0!==e&&e.widgets.disableInternalControls?{}:hn].concat(b(null===(t=this.$props.plugins||[])||void 0===t?void 0:t.map((function(e){return e.widgetControls}))),[this.$props.widgets]))},combWidgetEffectControls:function(){var e,t;return $r.apply(void 0,["widgetEffectControls",null!==(e=this.$props.configs)&&void 0!==e&&e.widgetEffectControls.disableInternalControls?{}:br].concat(b(null===(t=this.$props.plugins||[])||void 0===t?void 0:t.map((function(e){return e.widgetEffectControls}))),[this.$props.widgetEffectControls]))},combQuestionControls:function(){var e,t;return $r.apply(void 0,["questionControls",null!==(e=this.$props.configs)&&void 0!==e&&e.questionControls.disableInternalControls?{}:Cr].concat(b(null===(t=this.$props.plugins||[])||void 0===t?void 0:t.map((function(e){return e.questionControls}))),[this.$props.questionControls]))},formState:function(){return this.$props.state}},watch:{"form.widgets":{handler:function(e){var t=this;this.$data.widgetItems=e.reduce((function(e,n){var r,o=(null===(r=t.combWidgetControls[n.type])||void 0===r?void 0:r.widgetItem)||en;return e[n.id]=new o({widget:n,getState:function(){return t.$props.state},setState:function(e){t.$emit("onStateChange",e)},onUpdate:function(e){var n,r;null===(n=(r=t.$props).onFormChange)||void 0===n||n.call(r,i(i({},t.$props.form),{},{widgets:Object.values(i(i({},t.$data.widgetItems),{},c({},e.id,e)))}))}}),e}),{}),Object.values(this.$data.widgetItems).forEach((function(e){e.setWidgetItems(t.$data.widgetItems)}))},immediate:!0,deep:!0}},methods:{t:function(e,t){var n,r=this.languages;return t&&(r=t.split(".").reduce((function(e,t){return null==e?void 0:e[t]}),r)),null===(n=r)||void 0===n?void 0:n[e]}},provide:function(){var e=this;return{getView:function(){return e.$props.view},t:this.t,languages:this.$props.languages,getFormState:function(){return e.$props.state},setFormState:function(t){e.$emit("onStateChange",t)},widgetEffectControls:this.combWidgetEffectControls,widgetControls:this.combWidgetControls,questionControls:this.combQuestionControls}}},Rr=Ue({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main-wrapper"},[n("widgets-layout",{attrs:{widgetControls:e.combWidgetControls,widgetItems:e.widgetItems}})],1)},staticRenderFns:[]},(function(e){e&&e("data-v-1cf04919_0",{source:".main-wrapper[data-v-1cf04919]{font-family:Arial,Helvetica,sans-serif}",map:void 0,media:void 0})}),Ir,"data-v-1cf04919",false,undefined,!1,ze,void 0,void 0),Tr=Object.freeze({__proto__:null,VuePage:Rr,WidgetsLayout:Ge,WidgetView:Ke,FormState:Pr,widgets:hn,QuestionControl:wr,formatDateString:Sr,getDateByPropertyValue:kr,questionControls:Cr}),Fr=function(e){Object.entries(Tr).forEach((function(t){var n=m(t,2),r=n[0],i=n[1];e.component(r,i)}))},Lr=Object.freeze({__proto__:null,default:Fr,VuePage:Rr,WidgetsLayout:Ge,WidgetView:Ke,FormState:Pr,widgets:hn,QuestionControl:wr,formatDateString:Sr,getDateByPropertyValue:kr,questionControls:Cr});return Object.entries(Lr).forEach((function(e){var t=m(e,2),n=t[0],r=t[1];"default"!==n&&(Fr[n]=r)})),Fr}(vm);