var VuePage=function(e,t){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=n(e),i=n(t);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n,r,i,o,a){try{var s=e[o](a),d=s.value}catch(e){return void n(e)}s.done?t(d):Promise.resolve(d).then(r,i)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){s(o,r,i,a,d,"next",e)}function d(e){s(o,r,i,a,d,"throw",e)}a(void 0)}))}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}function y(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}function b(){return b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=y(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},b.apply(this,arguments)}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||C(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */()}function x(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||C(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var k,I=function(e,t){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},I(e,t)};function P(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var O=[],$=function(){function e(e){this.active=!0,this.effects=[],this.cleanups=[],this.vm=e}return e.prototype.run=function(e){if(this.active)try{return this.on(),e()}finally{this.off()}},e.prototype.on=function(){this.active&&(O.push(this),k=this)},e.prototype.off=function(){this.active&&(O.pop(),k=O[O.length-1])},e.prototype.stop=function(){this.active&&(this.vm.$destroy(),this.effects.forEach((function(e){return e.stop()})),this.cleanups.forEach((function(e){return e()})),this.active=!1)},e}();!function(e){function t(t){void 0===t&&(t=!1);var n,r=void 0;return function(e){var t=R;R=!1;try{e()}finally{R=t}}((function(){r=X(F())})),n=e.call(this,r)||this,t||function(e,t){var n;if((t=t||k)&&t.active)return void t.effects.push(e);var r=null===(n=D())||void 0===n?void 0:n.proxy;r&&r.$on("hook:destroyed",(function(){return e.stop()}))}(n),n}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}I(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(t,e)}($);var j=void 0;try{var E=require("vue");E&&A(E)?j=E:E&&"default"in E&&A(E.default)&&(j=E.default)}catch(e){}var T=null,W=null,R=!0,L="__composition_api_installed__";function A(e){return e&&Q(e)&&"Vue"===e.name}function F(){return T}function M(e){if(R){var t=W;null==t||t.scope.off(),null==(W=e)||W.scope.on()}}function D(){return W}var N=new WeakMap;function q(e){if(N.has(e))return N.get(e);var t={proxy:e,update:e.$forceUpdate,type:e.$options,uid:e._uid,emit:e.$emit.bind(e),parent:null,root:null};!function(e){if(!e.scope){var t=new $(e.proxy);e.scope=t,e.proxy.$on("hook:destroyed",(function(){return t.stop()}))}e.scope}(t);return["data","props","attrs","refs","vnode","slots"].forEach((function(n){H(t,n,{get:function(){return e["$".concat(n)]}})})),H(t,"isMounted",{get:function(){return e._isMounted}}),H(t,"isUnmounted",{get:function(){return e._isDestroyed}}),H(t,"isDeactivated",{get:function(){return e._inactive}}),H(t,"emitted",{get:function(){return e._events}}),N.set(e,t),e.$parent&&(t.parent=q(e.$parent)),e.$root&&(t.root=q(e.$root)),t}function V(e){return"function"==typeof e&&/native code/.test(e.toString())}var B="undefined"!=typeof Symbol&&V(Symbol)&&"undefined"!=typeof Reflect&&V(Reflect.ownKeys),z=function(e){return e};function H(e,t,n){var r=n.get,i=n.set;Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:r||z,set:i||z})}function U(e,t,n,r){Object.defineProperty(e,t,{value:n,enumerable:!!r,writable:!0,configurable:!0})}function Y(e,t){return Object.hasOwnProperty.call(e,t)}function K(e){return Array.isArray(e)}function J(e){return null!==e&&"object"==typeof e}function G(e){return"[object Object]"===function(e){return Object.prototype.toString.call(e)}(e)}function Q(e){return"function"==typeof e}function X(e,t){void 0===t&&(t={});var n=e.config.silent;e.config.silent=!0;var r=new e(t);return e.config.silent=n,r}function Z(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(e.$scopedSlots[t])return e.$scopedSlots[t].apply(e,n)}}var ee="composition-api.refKey",te=new WeakMap,ne=new WeakMap;function re(e,t,n){var r=F().util;r.warn;var i=r.defineReactive,o=e.__ob__;function a(){o&&J(n)&&!Y(n,"__ob__")&&ge(n)}if(K(e)){if(function(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)&&t<=4294967295}(t))return e.length=Math.max(e.length,t),e.splice(t,1,n),a(),n;if("length"===t&&n!==e.length)return e.length=n,null==o||o.dep.notify(),n}return t in e&&!(t in Object.prototype)?(e[t]=n,a(),n):e._isVue||o&&o.vmCount?n:o?(i(o.value,t,n),pe(e,t,n),a(),o.dep.notify(),n):(e[t]=n,n)}var ie=function(e){H(this,"value",{get:e.get,set:e.set})};function oe(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=new ie(e);n&&(r.effect=!0);var i=Object.seal(r);return t&&ne.set(i,!0),i}function ae(e){var t;if(se(e))return e;var n=ve(((t={})[ee]=e,t));return oe({get:function(){return n[ee]},set:function(e){return n[ee]=e}})}function se(e){return e instanceof ie}function de(e,t){t in e||re(e,t,void 0);var n=e[t];return se(n)?n:oe({get:function(){return e[t]},set:function(n){return e[t]=n}})}function le(e){var t;return Boolean(e&&Y(e,"__ob__")&&"object"==typeof e.__ob__&&(null===(t=e.__ob__)||void 0===t?void 0:t.__raw__))}function ce(e){var t;return Boolean(e&&Y(e,"__ob__")&&"object"==typeof e.__ob__&&!(null===(t=e.__ob__)||void 0===t?void 0:t.__raw__))}function ue(e){if(!(!G(e)||le(e)||K(e)||se(e)||(t=e,n=F(),n&&t instanceof n)||te.has(e))){var t,n;te.set(e,!0);for(var r=Object.keys(e),i=0;i<r.length;i++)pe(e,r[i])}}function pe(e,t,n){if("__ob__"!==t&&!le(e[t])){var r,i,o=Object.getOwnPropertyDescriptor(e,t);if(o){if(!1===o.configurable)return;r=o.get,i=o.set,r&&!i||2!==arguments.length||(n=e[t])}ue(n),H(e,t,{get:function(){var i=r?r.call(e):n;return t!==ee&&se(i)?i.value:i},set:function(o){r&&!i||(t!==ee&&se(n)&&!se(o)?n.value=o:i?(i.call(e,o),n=o):n=o,ue(o))}})}}function fe(e){var t,n=T||j;n.observable?t=n.observable(e):t=X(n,{data:{$$state:e}})._data.$$state;return Y(t,"__ob__")||ge(t),t}function ge(e,t){var n,r;if(void 0===t&&(t=new Set),!t.has(e)&&!Y(e,"__ob__")&&Object.isExtensible(e)){U(e,"__ob__",function(e){void 0===e&&(e={});return{value:e,dep:{notify:z,depend:z,addSub:z,removeSub:z}}}(e)),t.add(e);try{for(var i=P(Object.keys(e)),o=i.next();!o.done;o=i.next()){var a=e[o.value];(G(a)||K(a))&&!le(a)&&Object.isExtensible(a)&&ge(a,t)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}}function ve(e){if(!J(e))return e;if(!G(e)&&!K(e)||le(e)||!Object.isExtensible(e))return e;var t=fe(e);return ue(t),t}var he={set:function(e,t,n){(e.__composition_api_state__=e.__composition_api_state__||{})[t]=n},get:function(e,t){return(e.__composition_api_state__||{})[t]}};function me(e){var t=he.get(e,"rawBindings")||{};if(t&&Object.keys(t).length){for(var n=e.$refs,r=he.get(e,"refs")||[],i=0;i<r.length;i++){var o=t[d=r[i]];!n[d]&&o&&se(o)&&(o.value=null)}var a=Object.keys(n),s=[];for(i=0;i<a.length;i++){var d;o=t[d=a[i]];n[d]&&o&&se(o)&&(o.value=n[d],s.push(d))}he.set(e,"refs",s)}}function we(e){for(var t=[e._vnode];t.length;){var n=t.pop();if(n.context&&me(n.context),n.children)for(var r=0;r<n.children.length;++r)t.push(n.children[r])}}function ye(e,t){var n,r;if(e){var i=he.get(e,"attrBindings");if(i||t){if(!i){var o=ve({});i={ctx:t,data:o},he.set(e,"attrBindings",i),H(t,"attrs",{get:function(){return null==i?void 0:i.data},set:function(){}})}var a=e.$attrs,s=function(t){Y(i.data,t)||H(i.data,t,{get:function(){return e.$attrs[t]}})};try{for(var d=P(Object.keys(a)),l=d.next();!l.done;l=d.next()){s(l.value)}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}}}}function be(e,t){var n=e.$options._parentVnode;if(n){for(var r=he.get(e,"slots")||[],i=function(e,t){var n;if(e){if(e._normalized)return e._normalized;for(var r in n={},e)e[r]&&"$"!==r[0]&&(n[r]=!0)}else n={};for(var r in t)r in n||(n[r]=!0);return n}(n.data.scopedSlots,e.$slots),o=0;o<r.length;o++){i[s=r[o]]||delete t[s]}var a=Object.keys(i);for(o=0;o<a.length;o++){var s;t[s=a[o]]||(t[s]=Z(e,s))}he.set(e,"slots",a)}}function _e(e,t,n){var r=D();M(e);try{return t(e)}catch(e){if(!n)throw e;n(e)}finally{M(r)}}function xe(e){function t(e,n){if(void 0===n&&(n=new Set),!n.has(e)&&G(e)&&!se(e)&&!ce(e)&&!le(e)){var r=F().util.defineReactive;Object.keys(e).forEach((function(i){var o=e[i];r(e,i,o),o&&(n.add(o),t(o,n))}))}}function n(e,t){return void 0===t&&(t=new Map),t.has(e)?t.get(e):(t.set(e,!1),K(e)&&ce(e)?(t.set(e,!0),!0):!(!G(e)||le(e)||se(e))&&Object.keys(e).some((function(r){return n(e[r],t)})))}e.mixin({beforeCreate:function(){var e=this,r=e.$options,i=r.setup,o=r.render;o&&(r.render=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return _e(q(e),(function(){return o.apply(t,n)}))});if(!i)return;if(!Q(i))return;var a=r.data;r.data=function(){return function(e,r){void 0===r&&(r={});var i,o=e.$options.setup,a=function(e){var t={slots:{}},n=["emit"];return["root","parent","refs","listeners","isServer","ssrContext"].forEach((function(n){var r="$".concat(n);H(t,n,{get:function(){return e[r]},set:function(){}})})),ye(e,t),n.forEach((function(n){var r="$".concat(n);H(t,n,{get:function(){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e[r].apply(e,t)}}})})),t}(e),s=q(e);if(s.setupContext=a,U(r,"__ob__",function(){return fe({}).__ob__}()),be(e,a.slots),_e(s,(function(){i=o(r,a)})),!i)return;if(Q(i)){var d=i;return void(e.$options.render=function(){return be(e,a.slots),_e(s,(function(){return d()}))})}if(J(i)){ce(i)&&(i=function(e){if(!G(e))return e;var t={};for(var n in e)t[n]=de(e,n);return t}(i)),he.set(e,"rawBindings",i);var l=i;Object.keys(l).forEach((function(r){var i=l[r];if(!se(i))if(ce(i))K(i)&&(i=ae(i));else if(Q(i)){var o=i;i=i.bind(e),Object.keys(o).forEach((function(e){i[e]=o[e]}))}else J(i)?n(i)&&t(i):i=ae(i);!function(e,t,n){var r=e.$options.props;t in e||r&&Y(r,t)||(se(n)?H(e,t,{get:function(){return n.value},set:function(e){n.value=e}}):H(e,t,{get:function(){return ce(n)&&n.__ob__.dep.depend(),n},set:function(e){n=e}}))}(e,r,i)}))}}(e,e.$props),Q(a)?a.call(e,e):a||{}}},mounted:function(){we(this)},beforeUpdate:function(){ye(this)},updated:function(){we(this)}})}function Ce(e,t){if(!e)return t;if(!t)return e;for(var n,r,i,o=B?Reflect.ownKeys(e):Object.keys(e),a=0;a<o.length;a++)"__ob__"!==(n=o[a])&&(r=t[n],i=e[n],Y(t,n)?r!==i&&G(r)&&!se(r)&&G(i)&&!se(i)&&Ce(i,r):t[n]=i);return t}function Se(e){(function(e){return T&&Y(e,L)})(e)||(e.config.optionMergeStrategies.setup=function(e,t){return function(n,r){return Ce(Q(e)?e(n,r)||{}:void 0,Q(t)?t(n,r)||{}:void 0)}},function(e){T=e,Object.defineProperty(e,L,{configurable:!0,writable:!0,value:!0})}(e),xe(e))}var ke={install:function(e){return Se(e)}};"undefined"!=typeof window&&window.Vue&&window.Vue.use(ke);var Ie={props:_r,inject:["getLocale","setMessage"],mounted:function(){var e=this;this.$nextTick((function(){e.$refs.titleInput.style.height="",e.$refs.titleInput.style.height=e.$refs.titleInput.scrollHeight+"px",e.$refs.textInput.style.height="",e.$refs.textInput.style.height=e.$refs.textInput.scrollHeight+"px"}))},data:function(){return{isOpen:!0}},methods:{onCloseAlert:function(){var e=this;this.$data.isOpen=!1,setTimeout((function(){return e.$data.isOpen=!0}),1e3)},updateText:function(e,t){this.setMessage({id:this.$props.widget.id,locale:this.getLocale(),key:"__".concat(e),value:t.replaceAll(/\n|\r/g,"")})}},computed:{alertStyles:function(){var e,t;return"custom"!==(null===(e=this.widget)||void 0===e?void 0:e.properties.type)||null!==(t=this.widget)&&void 0!==t&&t.properties.customColor?{}:a({backgroundColor:this.widget.properties.customBackgroundColor,borderColor:this.widget.properties.customBorderColor||"transparent"},this.widget.properties.customTextColor?{color:this.widget.properties.customTextColor}:{})}}};function Pe(e,t,n,r,i,o,a,s,d,l){"boolean"!=typeof a&&(d=s,s=a,a=!1);const c="function"==typeof n?n.options:n;let u;if(e&&e.render&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0,i&&(c.functional=!0)),r&&(c._scopeId=r),o?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,d(e)),e&&e._registeredComponents&&e._registeredComponents.add(o)},c._ssrRegister=u):t&&(u=a?function(e){t.call(this,l(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,s(e))}),u)if(c.functional){const e=c.render;c.render=function(t,n){return u.call(n),e(t,n)}}else{const e=c.beforeCreate;c.beforeCreate=e?[].concat(e,u):[u]}return n}const Oe="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function $e(e){return(e,t)=>function(e,t){const n=Oe?t.media||"default":e,r=Ee[n]||(Ee[n]={ids:new Set,styles:[]});if(!r.ids.has(e)){r.ids.add(e);let n=t.source;if(t.map&&(n+="\n/*# sourceURL="+t.map.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),r.element||(r.element=document.createElement("style"),r.element.type="text/css",t.media&&r.element.setAttribute("media",t.media),void 0===je&&(je=document.head||document.getElementsByTagName("head")[0]),je.appendChild(r.element)),"styleSheet"in r.element)r.styles.push(n),r.element.styleSheet.cssText=r.styles.filter(Boolean).join("\n");else{const e=r.ids.size-1,t=document.createTextNode(n),i=r.element.childNodes;i[e]&&r.element.removeChild(i[e]),i.length?r.element.insertBefore(t,i[e]):r.element.appendChild(t)}}}(e,t)}let je;const Ee={};var Te=Pe({render:function(){var e,t=this,n=this,r=n.$createElement,i=n._self._c||r;return n.isOpen?i("div",{staticClass:"alert",class:(e={},e[n.widget.properties.type]=!0,e),style:n.alertStyles},[i("h3",{staticClass:"title"},[i("textarea",{ref:"titleInput",staticClass:"text-input",attrs:{oninput:'this.style.height = "";this.style.height = this.scrollHeight + "px"'},domProps:{value:n.t("__title",n.widget.id)},on:{input:function(e){return n.updateText("title",e.target.value)},load:function(){t.style.height="",t.style.height=t.scrollHeight+"px"}}})]),n._v(" "),i("p",[i("textarea",{ref:"textInput",staticClass:"text-input",attrs:{oninput:'this.style.height = "";this.style.height = this.scrollHeight + "px"'},domProps:{value:n.t("__text",n.widget.id)},on:{input:function(e){return n.updateText("text",e.target.value)},load:function(){t.style.height="",t.style.height=t.scrollHeight+"px"}}})]),n._v(" "),n.widget.properties.showCloseBtn?i("a",{staticClass:"close-button",on:{click:n.onCloseAlert}},[n._v("x")]):n._e()]):n._e()},staticRenderFns:[]},(function(e){e&&e("data-v-8cf1e24e_0",{source:".alert[data-v-8cf1e24e]{padding:18px 18px;margin:10px 0;border-radius:10px;background-color:#f4f6f8;border:1px solid #e5e9ed;position:relative}.alert.success[data-v-8cf1e24e]{background-color:#ebf7ee;border-color:#e2f1e7}.alert.info[data-v-8cf1e24e]{background-color:#e6f0f8;border-color:#cad9e7}.alert.danger[data-v-8cf1e24e]{background-color:#fdede9;border-color:#f2e1dd}.alert.warning[data-v-8cf1e24e]{background-color:#fef8ea;border-color:#f4eada}.alert .title[data-v-8cf1e24e]{margin:0 0 10px 0;font-weight:700}.alert>.close-button[data-v-8cf1e24e]{position:absolute;top:0;right:0;padding:18px 18px;cursor:pointer;transform:scaleX(1.2)}.text-input[data-v-8cf1e24e]{font-size:inherit;font-weight:inherit;font-family:inherit;border:none;outline:0;width:100%;background-color:transparent;resize:none;min-height:10px;margin-bottom:-15px}",map:void 0,media:void 0})}),Ie,"data-v-8cf1e24e",false,undefined,!1,$e,void 0,void 0),We=Pe({render:function(){var e,t=this,n=t.$createElement,r=t._self._c||n;return t.isOpen?r("div",{staticClass:"alert",class:(e={},e[t.widget.properties.type]=!0,e),style:t.alertStyles},[r("h3",{staticClass:"title"},[t._v(t._s(t.t("__title",t.widget.id)))]),t._v(" "),r("div",{domProps:{innerHTML:t._s(t.t("__text",t.widget.id))}}),t._v(" "),t.widget.properties.showCloseBtn?r("a",{staticClass:"close-button",on:{click:t.onCloseAlert}},[t._v("x")]):t._e()]):t._e()},staticRenderFns:[]},(function(e){e&&e("data-v-32a4ed93_0",{source:".alert[data-v-32a4ed93]{padding:18px 18px;margin:10px 0;border-radius:10px;background-color:#f4f6f8;border:1px solid #e5e9ed;position:relative}.alert.success[data-v-32a4ed93]{background-color:#ebf7ee;border-color:#e2f1e7}.alert.info[data-v-32a4ed93]{background-color:#e6f0f8;border-color:#cad9e7}.alert.danger[data-v-32a4ed93]{background-color:#fdede9;border-color:#f2e1dd}.alert.warning[data-v-32a4ed93]{background-color:#fef8ea;border-color:#f4eada}.alert .title[data-v-32a4ed93]{margin:0 0 10px 0;font-weight:700}.alert>.close-button[data-v-32a4ed93]{position:absolute;top:0;right:0;padding:18px 18px;cursor:pointer;transform:scaleX(1.2)}",map:void 0,media:void 0})}),{props:_r,data:function(){return{isOpen:!0}},methods:{onCloseAlert:function(){this.$data.isOpen=!1}},computed:{alertStyles:function(){return"custom"!==this.widget.properties.type||this.widget.properties.customColor?{}:a({backgroundColor:this.widget.properties.customBackgroundColor,borderColor:this.widget.properties.customBorderColor||"transparent"},this.widget.properties.customTextColor?{color:this.widget.properties.customTextColor}:{})}}},"data-v-32a4ed93",false,undefined,!1,$e,void 0,void 0),Re=Pe({render:function(){var e,t=this,n=t.$createElement,r=t._self._c||n;return t.isOpen?r("div",{staticClass:"alert",class:(e={},e[t.widget.properties.type]=!0,e),style:t.alertStyles},[r("h3",[t._v(t._s(t.t("__title",t.widget.id)))]),t._v(" "),r("p",[t._v(t._s(t.t("__text",t.widget.id)))]),t._v(" "),t.widget.properties.showCloseBtn?r("a",{staticClass:"close-button",on:{click:t.onCloseAlert}},[t._v("x")]):t._e()]):t._e()},staticRenderFns:[]},(function(e){e&&e("data-v-49302af9_0",{source:".alert[data-v-49302af9]{padding:10px;margin:10px;border-radius:10px;background-color:#f4f6f8;border:1px solid #e5e9ed;position:relative}.alert.success[data-v-49302af9]{background-color:#ebf7ee;border-color:#e2f1e7}.alert.info[data-v-49302af9]{background-color:#e6f0f8;border-color:#cad9e7}.alert.danger[data-v-49302af9]{background-color:#fdede9;border-color:#f2e1dd}.alert.warning[data-v-49302af9]{background-color:#fef8ea;border-color:#f4eada}.alert>.close-button[data-v-49302af9]{position:absolute;top:0;right:0;padding:10px 15px;cursor:pointer;transform:scaleX(1.2)}",map:void 0,media:void 0})}),{props:_r,data:function(){return{isOpen:!0}},methods:{onCloseAlert:function(){this.$data.isOpen=!1}},computed:{alertStyles:function(){return"custom"!==this.widget.properties.type||this.widget.properties.customColor?{}:a({backgroundColor:this.widget.properties.customBackgroundColor,borderColor:this.widget.properties.customBorderColor||"transparent"},this.widget.properties.customTextColor?{color:this.widget.properties.customTextColor}:{})}}},"data-v-49302af9",false,undefined,!1,$e,void 0,void 0);const Le=new Uint8Array(256);let Ae=Le.length;function Fe(){return Ae>Le.length-16&&(r.default.randomFillSync(Le),Ae=0),Le.slice(Ae,Ae+=16)}var Me=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const De=[];for(let e=0;e<256;++e)De.push((e+256).toString(16).substr(1));function Ne(e,t=0){const n=(De[e[t+0]]+De[e[t+1]]+De[e[t+2]]+De[e[t+3]]+"-"+De[e[t+4]]+De[e[t+5]]+"-"+De[e[t+6]]+De[e[t+7]]+"-"+De[e[t+8]]+De[e[t+9]]+"-"+De[e[t+10]]+De[e[t+11]]+De[e[t+12]]+De[e[t+13]]+De[e[t+14]]+De[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&Me.test(e)}(n))throw TypeError("Stringified UUID is invalid");return n}function qe(e,t,n){const r=(e=e||{}).random||(e.rng||Fe)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return Ne(r)}var Ve={create:function(e){return{id:qe(),type:"alert",properties:a({type:"default"},e)}},display:We,builder:Te,readOnly:Re},Be=Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(e.widget.properties.tagType,{tag:"component",staticClass:"header"},[n("input",{staticClass:"header-input",attrs:{type:"text"},domProps:{value:e.t("__label",e.widget.id)},on:{input:e.onTextChange}})])},staticRenderFns:[]},(function(e){e&&e("data-v-0c87dc05_0",{source:".header-input[data-v-0c87dc05]{font-size:inherit;font-family:inherit;font-weight:inherit;outline:0;border:none;width:100%;background-color:transparent}",map:void 0,media:void 0})}),{props:_r,inject:["getLocale","setMessage"],methods:{onTextChange:function(e){this.setMessage({id:this.$props.widget.id,locale:this.getLocale(),key:"__label",value:e.target.value})}}},"data-v-0c87dc05",false,undefined,!1,$e,void 0,void 0),ze=Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"control-wrapper"},[n("a",{staticClass:"tag-selection",class:{selected:"h1"===e.widget.properties.tagType},on:{click:function(t){return e.setTagType("h1")}}},[e._v("H1")]),e._v(" "),n("a",{staticClass:"tag-selection",class:{selected:"h2"===e.widget.properties.tagType},on:{click:function(t){return e.setTagType("h2")}}},[e._v("H2")]),e._v(" "),n("a",{staticClass:"tag-selection",class:{selected:"h3"===e.widget.properties.tagType},on:{click:function(t){return e.setTagType("h3")}}},[e._v("H3")]),e._v(" "),n("a",{staticClass:"tag-selection",class:{selected:"h4"===e.widget.properties.tagType},on:{click:function(t){return e.setTagType("h4")}}},[e._v("H4")]),e._v(" "),n("a",{staticClass:"tag-selection",class:{selected:"h5"===e.widget.properties.tagType},on:{click:function(t){return e.setTagType("h5")}}},[e._v("H5")]),e._v(" "),n("a",{staticClass:"tag-selection",class:{selected:"h6"===e.widget.properties.tagType},on:{click:function(t){return e.setTagType("h6")}}},[e._v("H6")])])},staticRenderFns:[]},(function(e){e&&e("data-v-6615e780_0",{source:".control-wrapper[data-v-6615e780]{display:flex;flex-direction:row;border-radius:8px;border:1px solid #e8e8e8;background-color:#fff;overflow:hidden}.tag-selection[data-v-6615e780]{height:30px;width:40px;display:flex;align-items:center;justify-content:center;cursor:pointer}.tag-selection[data-v-6615e780]:hover{background-color:#e8e8e8}.tag-selection.selected[data-v-6615e780]{background-color:#03a9f4;color:#fff}",map:void 0,media:void 0})}),{props:{widget:Object,widgets:Object,widgetItems:Object,pageState:Object,setWidgetState:Function},inject:["updateWidget"],methods:{setTagType:function(e){this.widget.properties.tagType=e,this.updateWidget(this.widget)}}},"data-v-6615e780",false,undefined,!1,$e,void 0,void 0),He={create:function(e){return{id:qe(),type:"header",properties:a({tagType:"h1"},e)}},display:Pe({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)(e.widget.properties.tagType,{tag:"component",staticClass:"header"},[e._v(e._s(e.t("__label",e.widget.id)))])},staticRenderFns:[]},undefined,{props:_r},"data-v-fe1cb61c",false,undefined,!1,void 0,void 0,void 0),builder:Be,builderControl:ze,readOnly:Pe({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)(e.widget.properties.tagType,{tag:"component",staticClass:"header"},[e._v(e._s(e.t("__label",e.widget.id)))])},staticRenderFns:[]},(function(e){e&&e("data-v-44241e52_0",{source:".header[data-v-44241e52]{padding:0 10px}",map:void 0,media:void 0})}),{props:_r},"data-v-44241e52",false,undefined,!1,$e,void 0,void 0)},Ue=Pe({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"html-wrapper",domProps:{innerHTML:e._s(e.t("__html",e.widget.id))}})},staticRenderFns:[]},undefined,{props:_r},"data-v-442506ca",false,undefined,!1,void 0,void 0,void 0),Ye={create:function(e){return{id:qe(),type:"html",properties:a({from:"default"},e)}},display:Pe({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"html-wrapper",domProps:{innerHTML:e._s(e.t("__html",e.widget.id))}})},staticRenderFns:[]},undefined,{props:_r},"data-v-8d77cfd8",false,undefined,!1,void 0,void 0,void 0),builder:Ue,readOnly:Pe({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{domProps:{innerHTML:e._s(e.widget.properties.html)}})},staticRenderFns:[]},undefined,{props:_r},undefined,false,undefined,!1,void 0,void 0,void 0)};
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
function Ke(e){return"[object Object]"===Object.prototype.toString.call(e)}var Je=Object.prototype,Ge=Je.toString,Qe=Je.hasOwnProperty,Xe=/^\s*function (\w+)/;function Ze(e){var t,n=null!==(t=null==e?void 0:e.type)&&void 0!==t?t:e;if(n){var r=n.toString().match(Xe);return r?r[1]:""}return""}var et=function(e){var t,n;return!1!==Ke(e)&&(void 0===(t=e.constructor)||!1!==Ke(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf"))},tt=function(e){return e},nt=function(e,t){return Qe.call(e,t)},rt=Array.isArray||function(e){return"[object Array]"===Ge.call(e)},it=function(e){return"[object Function]"===Ge.call(e)};function ot(e,t){return Object.defineProperty(e.bind(t),"__original",{value:e})}function at(e,t,n){var r;void 0===n&&(n=!1);var i=!0,o="",a=function(e){return et(e)&&nt(e,"_vueTypes_name")}(r=et(e)?e:{type:e})?r._vueTypes_name+" - ":"";if(function(e){return et(e)&&(nt(e,"type")||["_vueTypes_name","validator","default","required"].some((function(t){return nt(e,t)})))}(r)&&null!==r.type){if(void 0===r.type||!0===r.type)return i;if(!r.required&&void 0===t)return i;rt(r.type)?(i=r.type.some((function(e){return!0===at(e,t,!0)})),o=r.type.map((function(e){return Ze(e)})).join(" or ")):i="Array"===(o=Ze(r))?rt(t):"Object"===o?et(t):"String"===o||"Number"===o||"Boolean"===o||"Function"===o?function(e){if(null==e)return"";var t=e.constructor.toString().match(Xe);return t?t[1]:""}(t)===o:t instanceof r.type}if(!i){var s=a+'value "'+t+'" should be of type "'+o+'"';return!1===n?(tt(s),!1):s}if(nt(r,"validator")&&it(r.validator)){var d=tt,l=[];if(tt=function(e){l.push(e)},i=r.validator(t),tt=d,!i){var c=(l.length>1?"* ":"")+l.join("\n* ");return l.length=0,!1===n?(tt(c),i):c}}return i}function st(e,t){var n=Object.defineProperties(t,{_vueTypes_name:{value:e,writable:!0},isRequired:{get:function(){return this.required=!0,this}},def:{value:function(e){return void 0===e?(nt(this,"default")&&delete this.default,this):it(e)||!0===at(this,e,!0)?(this.default=rt(e)?function(){return[].concat(e)}:et(e)?function(){return Object.assign({},e)}:e,this):(tt(this._vueTypes_name+' - invalid default value: "'+e+'"'),this)}}}),r=n.validator;return it(r)&&(n.validator=ot(r,n)),n}function dt(e,t){var n=st(e,t);return Object.defineProperty(n,"validate",{value:function(e){return it(this.validator)&&tt(this._vueTypes_name+" - calling .validate() will overwrite the current custom validator function. Validator info:\n"+JSON.stringify(this)),this.validator=ot(e,this),this}})}function lt(e){return e.replace(/^(?!\s*$)/gm,"  ")}var ct=function(){return dt("boolean",{type:Boolean})},ut=function(){return dt("string",{type:String})};function pt(e){return st("arrayOf",{type:Array,validator:function(t){var n="",r=t.every((function(t){return!0===(n=at(e,t,!0))}));return r||tt("arrayOf - value validation error:\n"+lt(n)),r}})}function ft(e){return st("instanceOf",{type:e})}function gt(e){var t=Object.keys(e),n=t.filter((function(t){var n;return!(null===(n=e[t])||void 0===n||!n.required)})),r=st("shape",{type:Object,validator:function(r){var i=this;if(!et(r))return!1;var o=Object.keys(r);if(n.length>0&&n.some((function(e){return-1===o.indexOf(e)}))){var a=n.filter((function(e){return-1===o.indexOf(e)}));return tt(1===a.length?'shape - required property "'+a[0]+'" is not defined.':'shape - required properties "'+a.join('", "')+'" are not defined.'),!1}return o.every((function(n){if(-1===t.indexOf(n))return!0===i._vueTypes_isLoose||(tt('shape - shape definition does not include a "'+n+'" property. Allowed keys: "'+t.join('", "')+'".'),!1);var o=at(e[n],r[n],!0);return"string"==typeof o&&tt('shape - "'+n+'" property validation error:\n '+lt(o)),!0===o}))}});return Object.defineProperty(r,"_vueTypes_isLoose",{writable:!0,value:!1}),Object.defineProperty(r,"loose",{get:function(){return this._vueTypes_isLoose=!0,this}}),r}var vt=Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"widget-wrapper"},[e.widget.style?n("style",{tag:"component",attrs:{scoped:""}},[e._v("\n    "+e._s(e.widget.style)+"\n  ")]):e._e(),e._v(" "),"builder"===e.view?n("div",{staticClass:"widget-form-control"},[n(e.widgetControls[e.widget.type].builderControl,{tag:"component",attrs:{widget:e.widget,widgetControls:e.widgetControls,widgetItems:e.widgetItems,pageState:e.pageState,setWidgetState:function(t,n){return e.setWidgetState(t,n,e.widget)},getWidgetState:function(t){return e.getWidgetState(t,e.widget)},view:e.view}})],1):e._e(),e._v(" "),n("div",{ref:"widgetComponentWrapper",staticClass:"widget-component-wrapper"},[e._l(e.widget.effects,(function(t){return n(e.widgetEffectControls[t.type].display,{key:t.type,tag:"component",attrs:{properties:t.properties,wrapperRef:e.$refs.widgetComponentWrapper}})})),e._v(" "),n(e.widgetControls[e.widget.type][e.view||"display"],{tag:"component",attrs:{widget:e.widget,widgetControls:e.widgetControls,widgetItems:e.widgetItems,pageState:e.pageState,setWidgetState:function(t,n){return e.setWidgetState(t,n,e.widget)},getWidgetState:function(t){return e.getWidgetState(t,e.widget)},view:e.view,wrapperRef:e.$refs.widgetComponentWrapper,t:e.widget.t}})],2)],1)},staticRenderFns:[]},(function(e){e&&e("data-v-76487044_0",{source:".widget-component-wrapper[data-v-76487044]{position:relative}.widget-wrapper[data-v-76487044]{padding:0 10px}",map:void 0,media:void 0})}),{props:{widget:Object,widgetControls:Object,widgetItems:Object,pageState:Object,setWidgetState:Function,getWidgetState:Function,view:String},inject:["widgetEffectControls"]},"data-v-76487044",false,undefined,!1,$e,void 0,void 0),ht={components:{WidgetView:vt},props:{widgetControls:Object,widgetItems:Object,excludeWidgetIds:pt(String),onlyIncludeWidgetIds:pt(String),widgetsOrder:pt(String),forParent:String},inject:["widgetControls","getPageState","getView","setPageState"],computed:{view:function(){return this.getView()},pageState:function(){return this.getPageState()},widgetItemsArr:function(){return Object.values(this.$props.widgetItems)},filteredWidgetItemsArr:function(){var e=this;return this.widgetItemsArr.filter((function(t){return(!e.forParent&&!t.parentId||t.parentId===e.forParent)&&(!e.$props.onlyIncludeWidgetIds||e.$props.onlyIncludeWidgetIds.includes(t.id))&&(!(e.excludeWidgetIds||[]).length||!e.excludeWidgetIds.includes(t.id))})).sort((function(t,n){return((e.$props.widgetsOrder||[]).includes(t.id)?e.$props.widgetsOrder.indexOf(t.id):t.order||0)-((e.$props.widgetsOrder||[]).includes(n.id)?e.$props.widgetsOrder.indexOf(n.id):n.order||0)}))}},methods:{setWidgetState:function(e,t,n){var r=this.pageState;if(void 0===t){if(!r.widgetState[n.id])return;delete r.widgetState[n.id][e]}else r.widgetState[n.id]||(r.widgetState[n.id]={}),r.widgetState[n.id][e]=t;this.setPageState(r)},getWidgetState:function(e,t){var n;return null===(n=this.pageState.widgetState[t.id])||void 0===n?void 0:n[e]}}},mt=Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.filteredWidgetItemsArr,(function(t){return n("div",{key:t.id,staticClass:"widget-container"},[n("widget-view",{attrs:{widget:t,widgetControls:e.widgetControls,widgetItems:e.widgetItems,pageState:e.pageState,setWidgetState:e.setWidgetState,getWidgetState:e.getWidgetState,view:e.view}})],1)})),0)},staticRenderFns:[]},(function(e){e&&e("data-v-301b8b22_0",{source:".widget-container[data-v-301b8b22]{position:relative}",map:void 0,media:void 0})}),ht,"data-v-301b8b22",false,undefined,!1,$e,void 0,void 0),wt=mt;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function yt(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}var bt=function(e,t){return e.reduce((function(e,n){var r="[object "+n+"]";return t?e[r]=n:e[n]=r,e}),{})},_t=function(e){return e.reduce((function(e,t){return e[t]=!0,e}),{})},xt=["Array","Arguments","Object","RegExp","Symbol","Map","Set","Date","Error","Event","Generator","Promise","WeakMap","WeakSet","DocumentFragment","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","ArrayBuffer","DataView","DocumentFragment","Window","String","Number","Boolean","Function","Undefined","GeneratorFunction","BigInt","Null"],Ct=bt(xt,!1),St=bt(xt,!0),kt=_t([Ct.Generator,Ct.Promise,Ct.WeakMap,Ct.WeakSet]),It=_t([Ct.Map,Ct.Set]),Pt=_t([Ct.Date,Ct.RegExp]),Ot=_t(["bigint","boolean","function","number","string","undefined"]),$t=_t([Ct.Arguments,Ct.Array]),jt=_t([Ct.RegExp,Ct.Symbol]),Et=_t([Ct.Float32Array,Ct.Float64Array,Ct.Int8Array,Ct.Int16Array,Ct.Int32Array,Ct.Uint8Array,Ct.Uint8ClampedArray,Ct.Uint16Array,Ct.Uint32Array]),Tt="undefined"!=typeof Buffer&&"function"==typeof Buffer.from,Wt="function"==typeof Uint16Array;function Rt(e){return String.fromCharCode.apply(null,new Uint16Array(e))}function Lt(e){return Buffer.from(e).toString("utf8")}function At(e){return""}var Ft=Tt?Lt:Wt?Rt:At,Mt=/\[object ([HTML|SVG](.*)Element)\]/,Dt=Object.prototype.toString,Nt=Object.keys;function qt(e,t){return e>t}function Vt(e,t){return e[0]>t[0]}function Bt(e,t){for(var n,r,i=0;i<e.length;++i){for(r=e[i],n=i-1;~n&&t(e[n],r);--n)e[n+1]=e[n];e[n+1]=r}return e}function zt(e){for(var t,n=Bt(Nt(e),qt),r={},i=0;i<n.length;++i)r[t=n[i]]=e[t];return r}function Ht(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n+1;return 0}function Ut(e,t,n,r){if(!r){var i=typeof e;if(Ot[i])return i+"|"+e;if(null===e)return e+"|"+e}var o,a=r||Dt.call(e);return $t[a]?e:a===Ct.Object?zt(e):jt[a]?St[a]+"|"+e.toString():It[a]?e instanceof Map?function(e,t,n){var r=[];e.forEach((function(e,i){r.push([Yt(i,t,n),Yt(e,t,n)])})),Bt(r,Vt);for(var i,o=0;o<r.length;++o)i=r[o],r[o]="["+i[0]+","+i[1]+"]";return"Map|["+r.join(",")+"]"}(e,t,n):function(e,t,n){var r=[];return e.forEach((function(e){r.push(Yt(e,t,n))})),Bt(r,qt),"Set|["+r.join(",")+"]"}(e,t,n):a===Ct.Date?St[a]+"|"+e.getTime():a===Ct.Error?St[a]+"|"+e.stack:a===Ct.Event?{bubbles:(o=e).bubbles,cancelBubble:o.cancelBubble,cancelable:o.cancelable,composed:o.composed,currentTarget:o.currentTarget,defaultPrevented:o.defaultPrevented,eventPhase:o.eventPhase,isTrusted:o.isTrusted,returnValue:o.returnValue,target:o.target,type:o.type}:kt[a]?St[a]+"|NOT_ENUMERABLE":Mt.test(a)?a.slice(8,-1)+"|"+e.outerHTML:a===Ct.DocumentFragment?St[a]+"|"+function(e){for(var t=e.children,n=[],r=0;r<t.length;++r)n.push(t[r].outerHTML);return n.join(",")}(e):Et[a]?St[a]+"|"+e.join(","):a===Ct.ArrayBuffer?St[a]+"|"+Ft(e):a===Ct.DataView?St[a]+"|"+Ft(e.buffer):e}function Yt(e,t,n){if(!e||"object"!=typeof e)return Ut(e,t,n);var r=Dt.call(e);return Pt[r]?Ut(e,t,n,r):JSON.stringify(e,function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=[]),function(n,r){if("object"==typeof r)if(e.length){var i=Ht(e,this);0===i?e.push(this):(e.splice(i),t.splice(i)),t.push(n);var o=Ht(e,r);if(0!==o)return"[~"+(t.slice(0,o).join(".")||".")+"]";e.push(r)}else e[0]=r,t[0]=n;return n&&this[n]instanceof Date?Ut(this[n],e,t,Ct.Date):Ut(r,e,t)}}(t,n))}function Kt(e){return function(e){for(var t,n=e.length,r=5381,i=52711;n--;)r=33*r^(t=e.charCodeAt(n)),i=33*i^t;return 4096*(r>>>0)+(i>>>0)}(Yt(e))}function Jt(e,t){return Kt(e)===Kt(t)}Jt.all=function(e){for(var t=0;t<(arguments.length<=1?0:arguments.length-1);++t)if(!Jt(e,t+1<1||arguments.length<=t+1?void 0:arguments[t+1]))return!1;return!0},Jt.any=function(e){for(var t=0;t<(arguments.length<=1?0:arguments.length-1);++t)if(Jt(e,t+1<1||arguments.length<=t+1?void 0:arguments[t+1]))return!0;return!1},Jt.not=function(e,t){return Kt(e)!==Kt(t)},Kt.is=Jt;var Gt=yt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(n=Kt)&&n.__esModule?n:{default:n};var o=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t;var i={cache:!0};if(void 0===r&&(r=i),"function"!=typeof n?(this.value=n,this.type=this.constructor.CONSTANT):(this.calculationMethod=n,this.type=this.constructor.DYNAMIC),!this.id)throw new Error("factId required");return this.priority=parseInt(r.priority||1,10),this.options=Object.assign({},i,r),this.cacheKeyMethod=this.defaultCacheKeys,this}return r(e,[{key:"isConstant",value:function(){return this.type===this.constructor.CONSTANT}},{key:"isDynamic",value:function(){return this.type===this.constructor.DYNAMIC}},{key:"calculate",value:function(e,t){return Object.prototype.hasOwnProperty.call(this,"value")?this.value:this.calculationMethod(e,t)}},{key:"defaultCacheKeys",value:function(e,t){return{params:t,id:e}}},{key:"getCacheKey",value:function(t){if(!0===this.options.cache){var n=this.cacheKeyMethod(this.id,t);return e.hashFromObject(n)}}}],[{key:"hashFromObject",value:function(e){return(0,i.default)(e)}}]),e}();o.CONSTANT="CONSTANT",o.DYNAMIC="DYNAMIC",t.default=o})),Qt=yt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){try{("undefined"!=typeof process&&process.env&&process.env.DEBUG&&process.env.DEBUG.match(/json-rules-engine/)||"undefined"!=typeof window&&window.localStorage&&window.localStorage.debug&&window.localStorage.debug.match(/json-rules-engine/))&&console.log(e)}catch(e){}}}));var Xt=function(e){return!!e&&"object"==typeof e},Zt=yt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r=o(Qt),i=o(Xt);function o(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw new Error("Condition: constructor options required");var n=e.booleanOperator(t);if(Object.assign(this,t),n){var r=t[n];if(!Array.isArray(r))throw new Error('"'+n+'" must be an array');this.operator=n,this.priority=parseInt(t.priority,10)||1,this[n]=r.map((function(t){return new e(t)}))}else{if(!Object.prototype.hasOwnProperty.call(t,"fact"))throw new Error('Condition: constructor "fact" property required');if(!Object.prototype.hasOwnProperty.call(t,"operator"))throw new Error('Condition: constructor "operator" property required');if(!Object.prototype.hasOwnProperty.call(t,"value"))throw new Error('Condition: constructor "value" property required');Object.prototype.hasOwnProperty.call(t,"priority")&&(t.priority=parseInt(t.priority,10))}}return n(e,[{key:"toJSON",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n={};this.priority&&(n.priority=this.priority);var r=e.booleanOperator(this);return r?n[r]=this[r].map((function(e){return e.toJSON(t)})):(n.operator=this.operator,n.value=this.value,n.fact=this.fact,void 0!==this.factResult&&(n.factResult=this.factResult),void 0!==this.result&&(n.result=this.result),this.params&&(n.params=this.params),this.path&&(n.path=this.path)),t?JSON.stringify(n):n}},{key:"_getValue",value:function(e){var t=this.value;return(0,i.default)(t)&&Object.prototype.hasOwnProperty.call(t,"fact")?e.factValue(t.fact,t.params,t.path):Promise.resolve(t)}},{key:"evaluate",value:function(e,t){var n=this;if(!e)return Promise.reject(new Error("almanac required"));if(!t)return Promise.reject(new Error("operatorMap required"));if(this.isBooleanOperator())return Promise.reject(new Error("Cannot evaluate() a boolean condition"));var i=t.get(this.operator);return i?this._getValue(e).then((function(t){return e.factValue(n.fact,n.params,n.path).then((function(e){var o=i.evaluate(e,t);return(0,r.default)("condition::evaluate <"+JSON.stringify(e)+" "+n.operator+" "+JSON.stringify(t)+"?> ("+o+")"),{result:o,leftHandSideValue:e,rightHandSideValue:t,operator:n.operator}}))})):Promise.reject(new Error("Unknown operator: "+this.operator))}},{key:"booleanOperator",value:function(){return e.booleanOperator(this)}},{key:"isBooleanOperator",value:function(){return void 0!==e.booleanOperator(this)}}],[{key:"booleanOperator",value:function(e){return Object.prototype.hasOwnProperty.call(e,"any")?"any":Object.prototype.hasOwnProperty.call(e,"all")?"all":void 0}}]),e}();t.default=a})),en=yt((function(e){var t=function(){function e(e,t){return null!=t&&e instanceof t}var t,n,r;try{t=Map}catch(e){t=function(){}}try{n=Set}catch(e){n=function(){}}try{r=Promise}catch(e){r=function(){}}function i(o,s,d,l,c){"object"==typeof s&&(d=s.depth,l=s.prototype,c=s.includeNonEnumerable,s=s.circular);var u=[],p=[],f="undefined"!=typeof Buffer;return void 0===s&&(s=!0),void 0===d&&(d=1/0),function o(d,g){if(null===d)return null;if(0===g)return d;var v,h;if("object"!=typeof d)return d;if(e(d,t))v=new t;else if(e(d,n))v=new n;else if(e(d,r))v=new r((function(e,t){d.then((function(t){e(o(t,g-1))}),(function(e){t(o(e,g-1))}))}));else if(i.__isArray(d))v=[];else if(i.__isRegExp(d))v=new RegExp(d.source,a(d)),d.lastIndex&&(v.lastIndex=d.lastIndex);else if(i.__isDate(d))v=new Date(d.getTime());else{if(f&&Buffer.isBuffer(d))return v=Buffer.allocUnsafe?Buffer.allocUnsafe(d.length):new Buffer(d.length),d.copy(v),v;e(d,Error)?v=Object.create(d):void 0===l?(h=Object.getPrototypeOf(d),v=Object.create(h)):(v=Object.create(l),h=l)}if(s){var m=u.indexOf(d);if(-1!=m)return p[m];u.push(d),p.push(v)}for(var w in e(d,t)&&d.forEach((function(e,t){var n=o(t,g-1),r=o(e,g-1);v.set(n,r)})),e(d,n)&&d.forEach((function(e){var t=o(e,g-1);v.add(t)})),d){var y;h&&(y=Object.getOwnPropertyDescriptor(h,w)),y&&null==y.set||(v[w]=o(d[w],g-1))}if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(d);for(w=0;w<b.length;w++){var _=b[w];(!(C=Object.getOwnPropertyDescriptor(d,_))||C.enumerable||c)&&(v[_]=o(d[_],g-1),C.enumerable||Object.defineProperty(v,_,{enumerable:!1}))}}if(c){var x=Object.getOwnPropertyNames(d);for(w=0;w<x.length;w++){var C,S=x[w];(C=Object.getOwnPropertyDescriptor(d,S))&&C.enumerable||(v[S]=o(d[S],g-1),Object.defineProperty(v,S,{enumerable:!1}))}}return v}(o,d)}function o(e){return Object.prototype.toString.call(e)}function a(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return i.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},i.__objToStr=o,i.__isDate=function(e){return"object"==typeof e&&"[object Date]"===o(e)},i.__isArray=function(e){return"object"==typeof e&&"[object Array]"===o(e)},i.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===o(e)},i.__getRegExpFlags=a,i}();e.exports&&(e.exports=t)})),tn=yt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(n=en)&&n.__esModule?n:{default:n};var o=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.conditions=(0,i.default)(t),this.event=(0,i.default)(n),this.priority=(0,i.default)(r),this.name=(0,i.default)(o),this.result=null}return r(e,[{key:"setResult",value:function(e){this.result=e}},{key:"toJSON",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={conditions:this.conditions.toJSON(!1),event:this.event,priority:this.priority,name:this.name,result:this.result};return e?JSON.stringify(t):t}}]),e}();t.default=o})),nn=yt((function(e,t){!function(t){var n=Object.hasOwnProperty,r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},i="object"==typeof process&&"function"==typeof process.nextTick,o="function"==typeof Symbol,a="object"==typeof Reflect,s="function"==typeof setImmediate?setImmediate:setTimeout,d=o?a&&"function"==typeof Reflect.ownKeys?Reflect.ownKeys:function(e){var t=Object.getOwnPropertyNames(e);return t.push.apply(t,Object.getOwnPropertySymbols(e)),t}:Object.keys;function l(){this._events={},this._conf&&c.call(this,this._conf)}function c(e){e&&(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),e.maxListeners!==t&&(this._maxListeners=e.maxListeners),e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),e.ignoreErrors&&(this.ignoreErrors=e.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function u(e,t){var n="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(n+=" Event name: "+t+"."),"undefined"!=typeof process&&process.emitWarning){var r=new Error(n);r.name="MaxListenersExceededWarning",r.emitter=this,r.count=e,process.emitWarning(r)}else console.error(n),console.trace&&console.trace()}var p=function(e,t,n){var r=arguments.length;switch(r){case 0:return[];case 1:return[e];case 2:return[e,t];case 3:return[e,t,n];default:for(var i=new Array(r);r--;)i[r]=arguments[r];return i}};function f(e,n){for(var r={},i=e.length,o=n?value.length:0,a=0;a<i;a++)r[e[a]]=a<o?n[a]:t;return r}function g(e,t,n){var r,i;if(this._emitter=e,this._target=t,this._listeners={},this._listenersCount=0,(n.on||n.off)&&(r=n.on,i=n.off),t.addEventListener?(r=t.addEventListener,i=t.removeEventListener):t.addListener?(r=t.addListener,i=t.removeListener):t.on&&(r=t.on,i=t.off),!r&&!i)throw Error("target does not implement any known event API");if("function"!=typeof r)throw TypeError("on method must be a function");if("function"!=typeof i)throw TypeError("off method must be a function");this._on=r,this._off=i;var o=e._observers;o?o.push(this):e._observers=[this]}function v(e,r,i,o){var a=Object.assign({},r);if(!e)return a;if("object"!=typeof e)throw TypeError("options must be an object");var s,d,l,c=Object.keys(e),u=c.length;function p(e){throw Error('Invalid "'+s+'" option value'+(e?". Reason: "+e:""))}for(var f=0;f<u;f++){if(s=c[f],!o&&!n.call(r,s))throw Error('Unknown "'+s+'" option');(d=e[s])!==t&&(l=i[s],a[s]=l?l(d,p):d)}return a}function h(e,t){return"function"==typeof e&&e.hasOwnProperty("prototype")||t("value must be a constructor"),e}function m(e){var t="value must be type of "+e.join("|"),n=e.length,r=e[0],i=e[1];return 1===n?function(e,n){if(typeof e===r)return e;n(t)}:2===n?function(e,n){var o=typeof e;if(o===r||o===i)return e;n(t)}:function(r,i){for(var o=typeof r,a=n;a-- >0;)if(o===e[a])return r;i(t)}}Object.assign(g.prototype,{subscribe:function(e,t,n){var r=this,i=this._target,o=this._emitter,a=this._listeners,s=function(){var r=p.apply(null,arguments),a={data:r,name:t,original:e};if(n){var s=n.call(i,a);!1!==s&&o.emit.apply(o,[a.name].concat(r))}else o.emit.apply(o,[t].concat(r))};if(a[e])throw Error("Event '"+e+"' is already listening");this._listenersCount++,o._newListener&&o._removeListener&&!r._onNewListener?(this._onNewListener=function(n){n===t&&null===a[e]&&(a[e]=s,r._on.call(i,e,s))},o.on("newListener",this._onNewListener),this._onRemoveListener=function(n){n===t&&!o.hasListeners(n)&&a[e]&&(a[e]=null,r._off.call(i,e,s))},a[e]=null,o.on("removeListener",this._onRemoveListener)):(a[e]=s,r._on.call(i,e,s))},unsubscribe:function(e){var t,n,r,i=this,o=this._listeners,a=this._emitter,s=this._off,l=this._target;if(e&&"string"!=typeof e)throw TypeError("event must be a string");function c(){i._onNewListener&&(a.off("newListener",i._onNewListener),a.off("removeListener",i._onRemoveListener),i._onNewListener=null,i._onRemoveListener=null);var e=_.call(a,i);a._observers.splice(e,1)}if(e){if(!(t=o[e]))return;s.call(l,e,t),delete o[e],--this._listenersCount||c()}else{for(r=(n=d(o)).length;r-- >0;)e=n[r],s.call(l,e,o[e]);this._listeners={},this._listenersCount=0,c()}}});var w=m(["function"]),y=m(["object","function"]);function b(e,t,n){var r,i,o,a=0,s=new e((function(d,l,c){function u(){i&&(i=null),a&&(clearTimeout(a),a=0)}n=v(n,{timeout:0,overload:!1},{timeout:function(e,t){return("number"!=typeof(e*=1)||e<0||!Number.isFinite(e))&&t("timeout must be a positive number"),e}}),r=!n.overload&&"function"==typeof e.prototype.cancel&&"function"==typeof c;var p=function(e){u(),d(e)},f=function(e){u(),l(e)};r?t(p,f,c):(i=[function(e){f(e||Error("canceled"))}],t(p,f,(function(e){if(o)throw Error("Unable to subscribe on cancel event asynchronously");if("function"!=typeof e)throw TypeError("onCancel callback must be a function");i.push(e)})),o=!0),n.timeout>0&&(a=setTimeout((function(){var e=Error("timeout");e.code="ETIMEDOUT",a=0,s.cancel(e),l(e)}),n.timeout))}));return r||(s.cancel=function(e){if(i){for(var t=i.length,n=1;n<t;n++)i[n](e);i[0](e),i=null}}),s}function _(e){var t=this._observers;if(!t)return-1;for(var n=t.length,r=0;r<n;r++)if(t[r]._target===e)return r;return-1}function x(e,t,n,r,i){if(!n)return null;if(0===r){var o=typeof t;if("string"===o){var a,s,l=0,c=0,u=this.delimiter,p=u.length;if(-1!==(s=t.indexOf(u))){a=new Array(5);do{a[l++]=t.slice(c,s),c=s+p}while(-1!==(s=t.indexOf(u,c)));a[l++]=t.slice(c),t=a,i=l}else t=[t],i=1}else"object"===o?i=t.length:(t=[t],i=1)}var f,g,v,h,m,w,y,b=null,_=t[r],C=t[r+1];if(r===i)n._listeners&&("function"==typeof n._listeners?(e&&e.push(n._listeners),b=[n]):(e&&e.push.apply(e,n._listeners),b=[n]));else{if("*"===_){for(s=(w=d(n)).length;s-- >0;)"_listeners"!==(f=w[s])&&(y=x(e,t,n[f],r+1,i))&&(b?b.push.apply(b,y):b=y);return b}if("**"===_){for((m=r+1===i||r+2===i&&"*"===C)&&n._listeners&&(b=x(e,t,n,i,i)),s=(w=d(n)).length;s-- >0;)"_listeners"!==(f=w[s])&&("*"===f||"**"===f?(n[f]._listeners&&!m&&(y=x(e,t,n[f],i,i))&&(b?b.push.apply(b,y):b=y),y=x(e,t,n[f],r,i)):y=x(e,t,n[f],f===C?r+2:r,i),y&&(b?b.push.apply(b,y):b=y));return b}n[_]&&(b=x(e,t,n[_],r+1,i))}if((g=n["*"])&&x(e,t,g,r+1,i),v=n["**"])if(r<i)for(v._listeners&&x(e,t,v,i,i),s=(w=d(v)).length;s-- >0;)"_listeners"!==(f=w[s])&&(f===C?x(e,t,v[f],r+2,i):f===_?x(e,t,v[f],r+1,i):((h={})[f]=v[f],x(e,t,{"**":h},r+1,i)));else v._listeners?x(e,t,v,i,i):v["*"]&&v["*"]._listeners&&x(e,t,v["*"],i,i);return b}function C(e,t,n){var r,i,o=0,a=0,s=this.delimiter,d=s.length;if("string"==typeof e)if(-1!==(r=e.indexOf(s))){i=new Array(5);do{i[o++]=e.slice(a,r),a=r+d}while(-1!==(r=e.indexOf(s,a)));i[o++]=e.slice(a)}else i=[e],o=1;else i=e,o=e.length;if(o>1)for(r=0;r+1<o;r++)if("**"===i[r]&&"**"===i[r+1])return;var l,c=this.listenerTree;for(r=0;r<o;r++)if(c=c[l=i[r]]||(c[l]={}),r===o-1)return c._listeners?("function"==typeof c._listeners&&(c._listeners=[c._listeners]),n?c._listeners.unshift(t):c._listeners.push(t),!c._listeners.warned&&this._maxListeners>0&&c._listeners.length>this._maxListeners&&(c._listeners.warned=!0,u.call(this,c._listeners.length,l))):c._listeners=t,!0;return!0}function S(e,t,n,r){for(var i,o,a,s,l=d(e),c=l.length,u=e._listeners;c-- >0;)i=e[o=l[c]],a="_listeners"===o?n:n?n.concat(o):[o],s=r||"symbol"==typeof o,u&&t.push(s?a:a.join(this.delimiter)),"object"==typeof i&&S.call(this,i,t,a,s);return t}function k(e){for(var t,n,r,i=d(e),o=i.length;o-- >0;)(t=e[n=i[o]])&&(r=!0,"_listeners"===n||k(t)||delete e[n]);return r}function I(e,t,n){this.emitter=e,this.event=t,this.listener=n}function P(e,n,r){if(!0===r)a=!0;else if(!1===r)o=!0;else{if(!r||"object"!=typeof r)throw TypeError("options should be an object or true");var o=r.async,a=r.promisify,d=r.nextTick,l=r.objectify}if(o||d||a){var c=n,u=n._origin||n;if(d&&!i)throw Error("process.nextTick is not supported");a===t&&(a="AsyncFunction"===n.constructor.name),n=function(){var e=arguments,t=this,n=this.event;return a?d?Promise.resolve():new Promise((function(e){s(e)})).then((function(){return t.event=n,c.apply(t,e)})):(d?process.nextTick:s)((function(){t.event=n,c.apply(t,e)}))},n._async=!0,n._origin=u}return[n,l?new I(this,e,n):this]}function O(e){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,c.call(this,e)}I.prototype.off=function(){return this.emitter.off(this.event,this.listener),this},O.EventEmitter2=O,O.prototype.listenTo=function(e,n,i){if("object"!=typeof e)throw TypeError("target musts be an object");var o=this;function a(t){if("object"!=typeof t)throw TypeError("events must be an object");var n,r=i.reducers,a=_.call(o,e);n=-1===a?new g(o,e,i):o._observers[a];for(var s,l=d(t),c=l.length,u="function"==typeof r,p=0;p<c;p++)s=l[p],n.subscribe(s,t[s]||s,u?r:r&&r[s])}return i=v(i,{on:t,off:t,reducers:t},{on:w,off:w,reducers:y}),r(n)?a(f(n)):a("string"==typeof n?f(n.split(/\s+/)):n),this},O.prototype.stopListeningTo=function(e,t){var n=this._observers;if(!n)return!1;var r,i=n.length,o=!1;if(e&&"object"!=typeof e)throw TypeError("target should be an object");for(;i-- >0;)r=n[i],e&&r._target!==e||(r.unsubscribe(t),o=!0);return o},O.prototype.delimiter=".",O.prototype.setMaxListeners=function(e){e!==t&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},O.prototype.getMaxListeners=function(){return this._maxListeners},O.prototype.event="",O.prototype.once=function(e,t,n){return this._once(e,t,!1,n)},O.prototype.prependOnceListener=function(e,t,n){return this._once(e,t,!0,n)},O.prototype._once=function(e,t,n,r){return this._many(e,1,t,n,r)},O.prototype.many=function(e,t,n,r){return this._many(e,t,n,!1,r)},O.prototype.prependMany=function(e,t,n,r){return this._many(e,t,n,!0,r)},O.prototype._many=function(e,t,n,r,i){var o=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");function a(){return 0==--t&&o.off(e,a),n.apply(this,arguments)}return a._origin=n,this._on(e,a,r,i)},O.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||l.call(this);var e,t,n,r,i,a,s=arguments[0],d=this.wildcard;if("newListener"===s&&!this._newListener&&!this._events.newListener)return!1;if(d&&(e=s,"newListener"!==s&&"removeListener"!==s&&"object"==typeof s)){if(n=s.length,o)for(r=0;r<n;r++)if("symbol"==typeof s[r]){a=!0;break}a||(s=s.join(this.delimiter))}var c,u=arguments.length;if(this._all&&this._all.length)for(r=0,n=(c=this._all.slice()).length;r<n;r++)switch(this.event=s,u){case 1:c[r].call(this,s);break;case 2:c[r].call(this,s,arguments[1]);break;case 3:c[r].call(this,s,arguments[1],arguments[2]);break;default:c[r].apply(this,arguments)}if(d)c=[],x.call(this,c,e,this.listenerTree,0,n);else{if("function"==typeof(c=this._events[s])){switch(this.event=s,u){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(u-1),i=1;i<u;i++)t[i-1]=arguments[i];c.apply(this,t)}return!0}c&&(c=c.slice())}if(c&&c.length){if(u>3)for(t=new Array(u-1),i=1;i<u;i++)t[i-1]=arguments[i];for(r=0,n=c.length;r<n;r++)switch(this.event=s,u){case 1:c[r].call(this);break;case 2:c[r].call(this,arguments[1]);break;case 3:c[r].call(this,arguments[1],arguments[2]);break;default:c[r].apply(this,t)}return!0}if(!this.ignoreErrors&&!this._all&&"error"===s)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},O.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||l.call(this);var e,t,n,r,i,a,s=arguments[0],d=this.wildcard;if("newListener"===s&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(d&&(e=s,"newListener"!==s&&"removeListener"!==s&&"object"==typeof s)){if(r=s.length,o)for(i=0;i<r;i++)if("symbol"==typeof s[i]){t=!0;break}t||(s=s.join(this.delimiter))}var c,u=[],p=arguments.length;if(this._all)for(i=0,r=this._all.length;i<r;i++)switch(this.event=s,p){case 1:u.push(this._all[i].call(this,s));break;case 2:u.push(this._all[i].call(this,s,arguments[1]));break;case 3:u.push(this._all[i].call(this,s,arguments[1],arguments[2]));break;default:u.push(this._all[i].apply(this,arguments))}if(d?(c=[],x.call(this,c,e,this.listenerTree,0)):c=this._events[s],"function"==typeof c)switch(this.event=s,p){case 1:u.push(c.call(this));break;case 2:u.push(c.call(this,arguments[1]));break;case 3:u.push(c.call(this,arguments[1],arguments[2]));break;default:for(n=new Array(p-1),a=1;a<p;a++)n[a-1]=arguments[a];u.push(c.apply(this,n))}else if(c&&c.length){if(c=c.slice(),p>3)for(n=new Array(p-1),a=1;a<p;a++)n[a-1]=arguments[a];for(i=0,r=c.length;i<r;i++)switch(this.event=s,p){case 1:u.push(c[i].call(this));break;case 2:u.push(c[i].call(this,arguments[1]));break;case 3:u.push(c[i].call(this,arguments[1],arguments[2]));break;default:u.push(c[i].apply(this,n))}}else if(!this.ignoreErrors&&!this._all&&"error"===s)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(u)},O.prototype.on=function(e,t,n){return this._on(e,t,!1,n)},O.prototype.prependListener=function(e,t,n){return this._on(e,t,!0,n)},O.prototype.onAny=function(e){return this._onAny(e,!1)},O.prototype.prependAny=function(e){return this._onAny(e,!0)},O.prototype.addListener=O.prototype.on,O.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},O.prototype._on=function(e,n,r,i){if("function"==typeof e)return this._onAny(e,n),this;if("function"!=typeof n)throw new Error("on only accepts instances of Function");this._events||l.call(this);var o,a=this;return i!==t&&(n=(o=P.call(this,e,n,i))[0],a=o[1]),this._newListener&&this.emit("newListener",e,n),this.wildcard?(C.call(this,e,n,r),a):(this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),r?this._events[e].unshift(n):this._events[e].push(n),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,u.call(this,this._events[e].length,e))):this._events[e]=n,a)},O.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var n,i=[];if(this.wildcard){var o="string"==typeof e?e.split(this.delimiter):e.slice();if(!(i=x.call(this,null,o,this.listenerTree,0)))return this}else{if(!this._events[e])return this;n=this._events[e],i.push({_listeners:n})}for(var a=0;a<i.length;a++){var s=i[a];if(n=s._listeners,r(n)){for(var d=-1,l=0,c=n.length;l<c;l++)if(n[l]===t||n[l].listener&&n[l].listener===t||n[l]._origin&&n[l]._origin===t){d=l;break}if(d<0)continue;return this.wildcard?s._listeners.splice(d,1):this._events[e].splice(d,1),0===n.length&&(this.wildcard?delete s._listeners:delete this._events[e]),this._removeListener&&this.emit("removeListener",e,t),this}(n===t||n.listener&&n.listener===t||n._origin&&n._origin===t)&&(this.wildcard?delete s._listeners:delete this._events[e],this._removeListener&&this.emit("removeListener",e,t))}return this.listenerTree&&k(this.listenerTree),this},O.prototype.offAny=function(e){var t,n=0,r=0;if(e&&this._all&&this._all.length>0){for(n=0,r=(t=this._all).length;n<r;n++)if(e===t[n])return t.splice(n,1),this._removeListener&&this.emit("removeListenerAny",e),this}else{if(t=this._all,this._removeListener)for(n=0,r=t.length;n<r;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},O.prototype.removeListener=O.prototype.off,O.prototype.removeAllListeners=function(e){if(e===t)return!this._events||l.call(this),this;if(this.wildcard){var n,r=x.call(this,null,e,this.listenerTree,0);if(!r)return this;for(n=0;n<r.length;n++)r[n]._listeners=null;this.listenerTree&&k(this.listenerTree)}else this._events&&(this._events[e]=null);return this},O.prototype.listeners=function(e){var n,r,i,o,a,s=this._events;if(e===t){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!s)return[];for(o=(n=d(s)).length,i=[];o-- >0;)"function"==typeof(r=s[n[o]])?i.push(r):i.push.apply(i,r);return i}if(this.wildcard){if(!(a=this.listenerTree))return[];var l=[],c="string"==typeof e?e.split(this.delimiter):e.slice();return x.call(this,l,c,a,0),l}return s&&(r=s[e])?"function"==typeof r?[r]:r:[]},O.prototype.eventNames=function(e){var t=this._events;return this.wildcard?S.call(this,this.listenerTree,[],null,e):t?d(t):[]},O.prototype.listenerCount=function(e){return this.listeners(e).length},O.prototype.hasListeners=function(e){if(this.wildcard){var n=[],r="string"==typeof e?e.split(this.delimiter):e.slice();return x.call(this,n,r,this.listenerTree,0),n.length>0}var i=this._events,o=this._all;return!!(o&&o.length||i&&(e===t?d(i).length:i[e]))},O.prototype.listenersAny=function(){return this._all?this._all:[]},O.prototype.waitFor=function(e,n){var r=this,i=typeof n;return"number"===i?n={timeout:n}:"function"===i&&(n={filter:n}),b((n=v(n,{timeout:0,filter:t,handleError:!1,Promise:Promise,overload:!1},{filter:w,Promise:h})).Promise,(function(t,i,o){function a(){var o=n.filter;if(!o||o.apply(r,arguments))if(r.off(e,a),n.handleError){var s=arguments[0];s?i(s):t(p.apply(null,arguments).slice(1))}else t(p.apply(null,arguments))}o((function(){r.off(e,a)})),r._on(e,a,!1)}),{timeout:n.timeout,overload:n.overload})};var $=O.prototype;Object.defineProperties(O,{defaultMaxListeners:{get:function(){return $._maxListeners},set:function(e){if("number"!=typeof e||e<0||Number.isNaN(e))throw TypeError("n must be a non-negative number");$._maxListeners=e},enumerable:!0},once:{value:function(e,t,n){return b((n=v(n,{Promise:Promise,timeout:0,overload:!1},{Promise:h})).Promise,(function(n,r,i){var o;if("function"==typeof e.addEventListener)return o=function(){n(p.apply(null,arguments))},i((function(){e.removeEventListener(t,o)})),void e.addEventListener(t,o,{once:!0});var a,s=function(){a&&e.removeListener("error",a),n(p.apply(null,arguments))};"error"!==t&&(a=function(n){e.removeListener(t,s),r(n)},e.once("error",a)),i((function(){a&&e.removeListener("error",a),e.removeListener(t,s)})),e.once(t,s)}),{timeout:n.timeout,overload:n.overload})},writable:!0,configurable:!0}}),Object.defineProperties($,{_maxListeners:{value:10,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),e.exports=O}()})),rn=yt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r=a(Zt),i=a(tn),o=a(Qt);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));"string"==typeof e&&(e=JSON.parse(e)),e&&e.conditions&&n.setConditions(e.conditions),e&&e.onSuccess&&n.on("success",e.onSuccess),e&&e.onFailure&&n.on("failure",e.onFailure),e&&(e.name||0===e.name)&&n.setName(e.name);var r=e&&e.priority||1;n.setPriority(r);var i=e&&e.event||{type:"unknown"};return n.setEvent(i),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"setPriority",value:function(e){if((e=parseInt(e,10))<=0)throw new Error("Priority must be greater than zero");return this.priority=e,this}},{key:"setName",value:function(e){if(!e&&0!==e)throw new Error('Rule "name" must be defined');return this.name=e,this}},{key:"setConditions",value:function(e){if(!Object.prototype.hasOwnProperty.call(e,"all")&&!Object.prototype.hasOwnProperty.call(e,"any"))throw new Error('"conditions" root must contain a single instance of "all" or "any"');return this.conditions=new r.default(e),this}},{key:"setEvent",value:function(e){if(!e)throw new Error("Rule: setEvent() requires event object");if(!Object.prototype.hasOwnProperty.call(e,"type"))throw new Error('Rule: setEvent() requires event object with "type" property');return this.ruleEvent={type:e.type},e.params&&(this.ruleEvent.params=e.params),this}},{key:"getEvent",value:function(){return this.ruleEvent}},{key:"getPriority",value:function(){return this.priority}},{key:"getConditions",value:function(){return this.conditions}},{key:"getEngine",value:function(){return this.engine}},{key:"setEngine",value:function(e){return this.engine=e,this}},{key:"toJSON",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={conditions:this.conditions.toJSON(!1),priority:this.priority,event:this.ruleEvent,name:this.name};return e?JSON.stringify(t):t}},{key:"prioritizeConditions",value:function(e){var t=this,n=e.reduce((function(e,n){var r=n.priority;if(!r){var i=t.engine.getFact(n.fact);r=i&&i.priority||1}return e[r]||(e[r]=[]),e[r].push(n),e}),{});return Object.keys(n).sort((function(e,t){return Number(e)>Number(t)?-1:1})).map((function(e){return n[e]}))}},{key:"evaluate",value:function(e){var t=this,n=new i.default(this.conditions,this.ruleEvent,this.priority,this.name),r=function(n,r){return Array.isArray(n)||(n=[n]),Promise.all(n.map((function(n){return function(n){if(n.isBooleanOperator()){var r=n[n.operator];return("all"===n.operator?d(r):s(r)).then((function(e){var t=!0===e;return n.result=t,t}))}return n.evaluate(e,t.engine.operators).then((function(e){var t=e.result;return n.factResult=e.leftHandSideValue,n.result=t,t}))}(n)}))).then((function(e){return(0,o.default)("rule::evaluateConditions results",e),r.call(e,(function(e){return!0===e}))}))},a=function(e,n){if(0===e.length)return Promise.resolve(!0);var i=Array.prototype.some;"all"===n&&(i=Array.prototype.every);for(var a=t.prioritizeConditions(e),s=Promise.resolve(),d=function(e){var t=a[e],d=!1;s=s.then((function(e){return"any"===n&&!0===e||d?((0,o.default)("prioritizeAndRun::detected truthy result; skipping remaining conditions"),d=!0,!0):"all"===n&&!1===e||d?((0,o.default)("prioritizeAndRun::detected falsey result; skipping remaining conditions"),d=!0,!1):r(t,i)}))},l=0;l<a.length;l++)d(l);return s},s=function(e){return a(e,"any")},d=function(e){return a(e,"all")},l=function(r){n.setResult(r);var i=r?"success":"failure";return t.emitAsync(i,n.event,e,n).then((function(){return n}))};return n.conditions.any?s(n.conditions.any).then((function(e){return l(e)})):d(n.conditions.all).then((function(e){return l(e)}))}}]),t}(a(nn).default);t.default=s})),on=yt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var r=function(){function e(t,n,r){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=String(t),!t)throw new Error("Missing operator name");if("function"!=typeof n)throw new Error("Missing operator callback");this.cb=n,this.factValueValidator=r,this.factValueValidator||(this.factValueValidator=function(){return!0})}return n(e,[{key:"evaluate",value:function(e,t){return this.factValueValidator(e)&&this.cb(e,t)}}]),e}();t.default=r})),an=yt((function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0}),t.UndefinedFactError=function(e){function t(){var e;n(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];var s=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o)));return s.code="UNDEFINED_FACT",s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Error),t}()}));const{hasOwnProperty:sn}=Object.prototype;function dn(e,t){return(e=e.slice()).push(t),e}function ln(e,t){return(t=t.slice()).unshift(e),t}class cn extends Error{constructor(e){super('JSONPath should not be called with "new" (it prevents return of (unwrapped) scalar values)'),this.avoidNew=!0,this.value=e,this.name="NewError"}}function un(e,t,n,r,i){if(!(this instanceof un))try{return new un(e,t,n,r,i)}catch(e){if(!e.avoidNew)throw e;return e.value}"string"==typeof e&&(i=r,r=n,n=t,t=e,e=null);const o=e&&"object"==typeof e;if(e=e||{},this.json=e.json||n,this.path=e.path||t,this.resultType=e.resultType||"value",this.flatten=e.flatten||!1,this.wrap=!sn.call(e,"wrap")||e.wrap,this.sandbox=e.sandbox||{},this.preventEval=e.preventEval||!1,this.parent=e.parent||null,this.parentProperty=e.parentProperty||null,this.callback=e.callback||r||null,this.otherTypeCallback=e.otherTypeCallback||i||function(){throw new TypeError("You must supply an otherTypeCallback callback option with the @other() operator.")},!1!==e.autostart){const r={path:o?e.path:t};o?"json"in e&&(r.json=e.json):r.json=n;const i=this.evaluate(r);if(!i||"object"!=typeof i)throw new cn(i);return i}}un.prototype.evaluate=function(e,t,n,r){let i=this.parent,o=this.parentProperty,{flatten:a,wrap:s}=this;if(this.currResultType=this.resultType,this.currPreventEval=this.preventEval,this.currSandbox=this.sandbox,n=n||this.callback,this.currOtherTypeCallback=r||this.otherTypeCallback,t=t||this.json,(e=e||this.path)&&"object"==typeof e&&!Array.isArray(e)){if(!e.path&&""!==e.path)throw new TypeError('You must supply a "path" property when providing an object argument to JSONPath.evaluate().');if(!sn.call(e,"json"))throw new TypeError('You must supply a "json" property when providing an object argument to JSONPath.evaluate().');({json:t}=e),a=sn.call(e,"flatten")?e.flatten:a,this.currResultType=sn.call(e,"resultType")?e.resultType:this.currResultType,this.currSandbox=sn.call(e,"sandbox")?e.sandbox:this.currSandbox,s=sn.call(e,"wrap")?e.wrap:s,this.currPreventEval=sn.call(e,"preventEval")?e.preventEval:this.currPreventEval,n=sn.call(e,"callback")?e.callback:n,this.currOtherTypeCallback=sn.call(e,"otherTypeCallback")?e.otherTypeCallback:this.currOtherTypeCallback,i=sn.call(e,"parent")?e.parent:i,o=sn.call(e,"parentProperty")?e.parentProperty:o,e=e.path}if(i=i||null,o=o||null,Array.isArray(e)&&(e=un.toPathString(e)),!e&&""!==e||!t)return;const d=un.toPathArray(e);"$"===d[0]&&d.length>1&&d.shift(),this._hasParentSelector=null;const l=this._trace(d,t,["$"],i,o,n).filter((function(e){return e&&!e.isParentSelector}));return l.length?s||1!==l.length||l[0].hasArrExpr?l.reduce(((e,t)=>{const n=this._getPreferredOutput(t);return a&&Array.isArray(n)?e=e.concat(n):e.push(n),e}),[]):this._getPreferredOutput(l[0]):s?[]:void 0},un.prototype._getPreferredOutput=function(e){const t=this.currResultType;switch(t){case"all":{const t=Array.isArray(e.path)?e.path:un.toPathArray(e.path);return e.pointer=un.toPointer(t),e.path="string"==typeof e.path?e.path:un.toPathString(e.path),e}case"value":case"parent":case"parentProperty":return e[t];case"path":return un.toPathString(e[t]);case"pointer":return un.toPointer(e.path);default:throw new TypeError("Unknown result type")}},un.prototype._handleCallback=function(e,t,n){if(t){const r=this._getPreferredOutput(e);e.path="string"==typeof e.path?e.path:un.toPathString(e.path),t(r,n,e)}},un.prototype._trace=function(e,t,n,r,i,o,a,s){let d;if(!e.length)return d={path:n,value:t,parent:r,parentProperty:i,hasArrExpr:a},this._handleCallback(d,o,"value"),d;const l=e[0],c=e.slice(1),u=[];function p(e){Array.isArray(e)?e.forEach((e=>{u.push(e)})):u.push(e)}if(("string"!=typeof l||s)&&t&&sn.call(t,l))p(this._trace(c,t[l],dn(n,l),t,l,o,a));else if("*"===l)this._walk(l,c,t,n,r,i,o,((e,t,n,r,i,o,a,s)=>{p(this._trace(ln(e,n),r,i,o,a,s,!0,!0))}));else if(".."===l)p(this._trace(c,t,n,r,i,o,a)),this._walk(l,c,t,n,r,i,o,((e,t,n,r,i,o,a,s)=>{"object"==typeof r[e]&&p(this._trace(ln(t,n),r[e],dn(i,e),r,e,s,!0))}));else{if("^"===l)return this._hasParentSelector=!0,{path:n.slice(0,-1),expr:c,isParentSelector:!0};if("~"===l)return d={path:dn(n,l),value:i,parent:r,parentProperty:null},this._handleCallback(d,o,"property"),d;if("$"===l)p(this._trace(c,t,n,null,null,o,a));else if(/^(-?\d*):(-?\d*):?(\d*)$/u.test(l))p(this._slice(l,c,t,n,r,i,o));else if(0===l.indexOf("?(")){if(this.currPreventEval)throw new Error("Eval [?(expr)] prevented in JSONPath expression.");this._walk(l,c,t,n,r,i,o,((e,t,n,r,i,o,a,s)=>{this._eval(t.replace(/^\?\((.*?)\)$/u,"$1"),r[e],e,i,o,a)&&p(this._trace(ln(e,n),r,i,o,a,s,!0))}))}else if("("===l[0]){if(this.currPreventEval)throw new Error("Eval [(expr)] prevented in JSONPath expression.");p(this._trace(ln(this._eval(l,t,n[n.length-1],n.slice(0,-1),r,i),c),t,n,r,i,o,a))}else if("@"===l[0]){let e=!1;const a=l.slice(1,-2);switch(a){case"scalar":t&&["object","function"].includes(typeof t)||(e=!0);break;case"boolean":case"string":case"undefined":case"function":typeof t===a&&(e=!0);break;case"integer":!Number.isFinite(t)||t%1||(e=!0);break;case"number":Number.isFinite(t)&&(e=!0);break;case"nonFinite":"number"!=typeof t||Number.isFinite(t)||(e=!0);break;case"object":t&&typeof t===a&&(e=!0);break;case"array":Array.isArray(t)&&(e=!0);break;case"other":e=this.currOtherTypeCallback(t,n,r,i);break;case"null":null===t&&(e=!0);break;default:throw new TypeError("Unknown value type "+a)}if(e)return d={path:n,value:t,parent:r,parentProperty:i},this._handleCallback(d,o,"value"),d}else if("`"===l[0]&&t&&sn.call(t,l.slice(1))){const e=l.slice(1);p(this._trace(c,t[e],dn(n,e),t,e,o,a,!0))}else if(l.includes(",")){const e=l.split(",");for(const a of e)p(this._trace(ln(a,c),t,n,r,i,o,!0))}else!s&&t&&sn.call(t,l)&&p(this._trace(c,t[l],dn(n,l),t,l,o,a,!0))}if(this._hasParentSelector)for(let e=0;e<u.length;e++){const n=u[e];if(n&&n.isParentSelector){const s=this._trace(n.expr,t,n.path,r,i,o,a);if(Array.isArray(s)){u[e]=s[0];const t=s.length;for(let n=1;n<t;n++)e++,u.splice(e,0,s[n])}else u[e]=s}}return u},un.prototype._walk=function(e,t,n,r,i,o,a,s){if(Array.isArray(n)){const d=n.length;for(let l=0;l<d;l++)s(l,e,t,n,r,i,o,a)}else n&&"object"==typeof n&&Object.keys(n).forEach((d=>{s(d,e,t,n,r,i,o,a)}))},un.prototype._slice=function(e,t,n,r,i,o,a){if(!Array.isArray(n))return;const s=n.length,d=e.split(":"),l=d[2]&&Number.parseInt(d[2])||1;let c=d[0]&&Number.parseInt(d[0])||0,u=d[1]&&Number.parseInt(d[1])||s;c=c<0?Math.max(0,c+s):Math.min(s,c),u=u<0?Math.max(0,u+s):Math.min(s,u);const p=[];for(let e=c;e<u;e+=l){this._trace(ln(e,t),n,r,i,o,a,!0).forEach((e=>{p.push(e)}))}return p},un.prototype._eval=function(e,t,n,r,i,o){e.includes("@parentProperty")&&(this.currSandbox._$_parentProperty=o,e=e.replace(/@parentProperty/gu,"_$_parentProperty")),e.includes("@parent")&&(this.currSandbox._$_parent=i,e=e.replace(/@parent/gu,"_$_parent")),e.includes("@property")&&(this.currSandbox._$_property=n,e=e.replace(/@property/gu,"_$_property")),e.includes("@path")&&(this.currSandbox._$_path=un.toPathString(r.concat([n])),e=e.replace(/@path/gu,"_$_path")),e.includes("@root")&&(this.currSandbox._$_root=this.json,e=e.replace(/@root/gu,"_$_root")),/@([.\s)[])/u.test(e)&&(this.currSandbox._$_v=t,e=e.replace(/@([.\s)[])/gu,"_$_v$1"));try{return this.vm.runInNewContext(e,this.currSandbox)}catch(t){throw console.log(t),new Error("jsonPath: "+t.message+": "+e)}},un.cache={},un.toPathString=function(e){const t=e,n=t.length;let r="$";for(let e=1;e<n;e++)/^(~|\^|@.*?\(\))$/u.test(t[e])||(r+=/^[0-9*]+$/u.test(t[e])?"["+t[e]+"]":"['"+t[e]+"']");return r},un.toPointer=function(e){const t=e,n=t.length;let r="";for(let e=1;e<n;e++)/^(~|\^|@.*?\(\))$/u.test(t[e])||(r+="/"+t[e].toString().replace(/~/gu,"~0").replace(/\//gu,"~1"));return r},un.toPathArray=function(e){const{cache:t}=un;if(t[e])return t[e].concat();const n=[],r=e.replace(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\(\)/gu,";$&;").replace(/[['](\??\(.*?\))[\]']/gu,(function(e,t){return"[#"+(n.push(t)-1)+"]"})).replace(/\[['"]([^'\]]*)['"]\]/gu,(function(e,t){return"['"+t.replace(/\./gu,"%@%").replace(/~/gu,"%%@@%%")+"']"})).replace(/~/gu,";~;").replace(/['"]?\.['"]?(?![^[]*\])|\[['"]?/gu,";").replace(/%@%/gu,".").replace(/%%@@%%/gu,"~").replace(/(?:;)?(\^+)(?:;)?/gu,(function(e,t){return";"+t.split("").join(";")+";"})).replace(/;;;|;;/gu,";..;").replace(/;$|'?\]|'$/gu,"").split(";").map((function(e){const t=e.match(/#(\d+)/u);return t&&t[1]?n[t[1]]:e}));return t[e]=r,t[e].concat()},un.prototype.vm=i.default;var pn,fn=Object.freeze({__proto__:null,JSONPath:un}),gn=(pn=fn,pn&&pn.default||pn),vn=yt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(Gt),o=s(Qt),a=s(Xt);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){return(0,gn.JSONPath)({path:t,json:e,wrap:!1})}var c=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var s in d(this,e),this.factMap=new Map(t),this.factResultsCache=new Map,this.allowUndefinedFacts=Boolean(a.allowUndefinedFacts),this.pathResolver=a.pathResolver||l,this.events={success:[],failure:[]},this.ruleResults=[],r){var c=void 0;c=r[s]instanceof i.default?r[s]:new i.default(s,r[s]),this._addConstantFact(c),(0,o.default)("almanac::constructor initialized runtime fact:"+c.id+" with "+c.value+"<"+n(c.value)+">")}}return r(e,[{key:"addEvent",value:function(e,t){if(!t)throw new Error('outcome required: "success" | "failure"]');this.events[t].push(e)}},{key:"getEvents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?this.events[e]:this.events.success.concat(this.events.failure)}},{key:"addResult",value:function(e){this.ruleResults.push(e)}},{key:"getResults",value:function(){return this.ruleResults}},{key:"_getFact",value:function(e){return this.factMap.get(e)}},{key:"_addConstantFact",value:function(e){this.factMap.set(e.id,e),this._setFactValue(e,{},e.value)}},{key:"_setFactValue",value:function(e,t,n){var r=e.getCacheKey(t),i=Promise.resolve(n);return r&&this.factResultsCache.set(r,i),i}},{key:"addRuntimeFact",value:function(e,t){(0,o.default)("almanac::addRuntimeFact id:"+e);var n=new i.default(e,t);return this._addConstantFact(n)}},{key:"factValue",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=void 0,d=this._getFact(e);if(void 0===d)return this.allowUndefinedFacts?Promise.resolve(void 0):Promise.reject(new an.UndefinedFactError("Undefined fact: "+e));if(d.isConstant())s=Promise.resolve(d.calculate(r,this));else{var l=d.getCacheKey(r),c=l&&this.factResultsCache.get(l);c?(s=Promise.resolve(c),(0,o.default)("almanac::factValue cache hit for fact:"+e)):((0,o.default)("almanac::factValue cache miss for fact:"+e+"; calculating"),s=this._setFactValue(d,r,d.calculate(r,this)))}return i?((0,o.default)("condition::evaluate extracting object property "+i),s.then((function(e){if((0,a.default)(e)){var r=t.pathResolver(e,i);return(0,o.default)("condition::evaluate extracting object property "+i+", received: "+JSON.stringify(r)),r}return(0,o.default)("condition::evaluate could not compute object path("+i+") of non-object: "+e+" <"+(void 0===e?"undefined":n(e))+">; continuing with "+e),e}))):s}}]),e}();t.default=c})),hn=yt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n,r=(n=on)&&n.__esModule?n:{default:n};var i=[];function o(e){return"NaN"!==Number.parseFloat(e).toString()}i.push(new r.default("equal",(function(e,t){return e===t}))),i.push(new r.default("notEqual",(function(e,t){return e!==t}))),i.push(new r.default("in",(function(e,t){return t.indexOf(e)>-1}))),i.push(new r.default("notIn",(function(e,t){return-1===t.indexOf(e)}))),i.push(new r.default("contains",(function(e,t){return e.indexOf(t)>-1}),Array.isArray)),i.push(new r.default("doesNotContain",(function(e,t){return-1===e.indexOf(t)}),Array.isArray)),i.push(new r.default("lessThan",(function(e,t){return e<t}),o)),i.push(new r.default("lessThanInclusive",(function(e,t){return e<=t}),o)),i.push(new r.default("greaterThan",(function(e,t){return e>t}),o)),i.push(new r.default("greaterThanInclusive",(function(e,t){return e>=t}),o)),t.default=i})),mn=yt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.FINISHED=t.RUNNING=t.READY=void 0;var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r=c(Gt),i=c(rn),o=c(on),a=c(vn),s=c(nn),d=c(hn),l=c(Qt);function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=t.READY="READY",g=t.RUNNING="RUNNING",v=t.FINISHED="FINISHED",h=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u(this,t);var r=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.rules=[],r.allowUndefinedFacts=n.allowUndefinedFacts||!1,r.pathResolver=n.pathResolver,r.operators=new Map,r.facts=new Map,r.status=f,e.map((function(e){return r.addRule(e)})),d.default.map((function(e){return r.addOperator(e)})),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"addRule",value:function(e){if(!e)throw new Error("Engine: addRule() requires options");var t=void 0;if(e instanceof i.default)t=e;else{if(!Object.prototype.hasOwnProperty.call(e,"event"))throw new Error('Engine: addRule() argument requires "event" property');if(!Object.prototype.hasOwnProperty.call(e,"conditions"))throw new Error('Engine: addRule() argument requires "conditions" property');t=new i.default(e)}return t.setEngine(this),this.rules.push(t),this.prioritizedRules=null,this}},{key:"updateRule",value:function(e){var t=this.rules.findIndex((function(t){return t.name===e.name}));if(!(t>-1))throw new Error("Engine: updateRule() rule not found");this.rules.splice(t,1),this.addRule(e),this.prioritizedRules=null}},{key:"removeRule",value:function(e){var t=!1;if(e instanceof i.default){var n=this.rules.indexOf(e);n>-1&&(t=Boolean(this.rules.splice(n,1).length))}else{var r=this.rules.filter((function(t){return t.name!==e}));t=r.length!==this.rules.length,this.rules=r}return t&&(this.prioritizedRules=null),t}},{key:"addOperator",value:function(e,t){var n=void 0;n=e instanceof o.default?e:new o.default(e,t),(0,l.default)("engine::addOperator name:"+n.name),this.operators.set(n.name,n)}},{key:"removeOperator",value:function(e){var t=void 0;return t=e instanceof o.default?e.name:e,this.operators.delete(t)}},{key:"addFact",value:function(e,t,n){var i=e,o=void 0;return e instanceof r.default?(i=e.id,o=e):o=new r.default(e,t,n),(0,l.default)("engine::addFact id:"+i),this.facts.set(i,o),this}},{key:"removeFact",value:function(e){var t=void 0;return t=e instanceof r.default?e.id:e,this.facts.delete(t)}},{key:"prioritizeRules",value:function(){if(!this.prioritizedRules){var e=this.rules.reduce((function(e,t){var n=t.priority;return e[n]||(e[n]=[]),e[n].push(t),e}),{});this.prioritizedRules=Object.keys(e).sort((function(e,t){return Number(e)>Number(t)?-1:1})).map((function(t){return e[t]}))}return this.prioritizedRules}},{key:"stop",value:function(){return this.status=v,this}},{key:"getFact",value:function(e){return this.facts.get(e)}},{key:"evaluateRules",value:function(e,t){var n=this;return Promise.all(e.map((function(e){return n.status!==g?((0,l.default)("engine::run status:"+n.status+"; skipping remaining rules"),Promise.resolve()):e.evaluate(t).then((function(e){return(0,l.default)("engine::run ruleResult:"+e.result),t.addResult(e),e.result?(t.addEvent(e.event,"success"),n.emitAsync("success",e.event,t,e).then((function(){return n.emitAsync(e.event.type,e.event.params,t,e)}))):(t.addEvent(e.event,"failure"),n.emitAsync("failure",e.event,t,e))}))})))}},{key:"run",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,l.default)("engine::run started"),this.status=g;var n={allowUndefinedFacts:this.allowUndefinedFacts,pathResolver:this.pathResolver},r=new a.default(this.facts,t,n),i=this.prioritizeRules(),o=Promise.resolve();return new Promise((function(t,n){i.map((function(t){return o=o.then((function(){return e.evaluateRules(t,r)})).catch(n)})),o.then((function(){e.status=v,(0,l.default)("engine::run completed");var n=r.getResults().reduce((function(e,t){return e[t.result?"results":"failureResults"].push(t),e}),{results:[],failureResults:[]}),i=n.results,o=n.failureResults;t({almanac:r,results:i,failureResults:o,events:r.getEvents("success"),failureEvents:r.getEvents("failure")})})).catch(n)}))}}]),t}(s.default);t.default=h})),wn=yt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Engine=t.Operator=t.Rule=t.Fact=void 0,t.default=function(e,t){return new n.default(e,t)};var n=a(mn),r=a(Gt),i=a(rn),o=a(on);function a(e){return e&&e.__esModule?e:{default:e}}t.Fact=r.default,t.Rule=i.default,t.Operator=o.default,t.Engine=n.default})),yn=wn,bn=function(){function e(t){var n=this,r=t.widget,i=t.pageEventListener,o=t.removeWidget,a=t.emitEvent,s=t.getState,d=t.setState,c=t.onUpdate,u=t.t;l(this,e),p(this,"_widget",void 0),p(this,"_getPageState",void 0),p(this,"_setPageState",void 0),p(this,"_widgetItems",void 0),p(this,"_update",void 0),p(this,"_t",void 0),p(this,"_emitEvent",void 0),p(this,"_pageEventListener",void 0),p(this,"_removeWidget",void 0),p(this,"_attachedListenerSets",{}),p(this,"_properties",void 0),this._t=u,this._pageEventListener=i,this._removeWidget=o,this._emitEvent=a,this._widgetItems={},this._widget=r,this._getPageState=s,this._setPageState=d,this._update=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;return c(e)},this._properties=r.properties,this.code&&s().registerWidgetCode(this.code,this.id),this.syncReflexiveListeners(),this.syncFetchPropertiesListeners()}var t,n,r,i,o,s,c;return u(e,[{key:"pageState",get:function(){return this._getPageState()}},{key:"emitEvent",value:(c=d(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._emitEvent(t,n,this));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return c.apply(this,arguments)})},{key:"t",get:function(){return this._t}},{key:"id",get:function(){return this._widget.id}},{key:"order",get:function(){return this._widget.order}},{key:"widget",get:function(){return this._widget}},{key:"effects",get:function(){return this._widget.effects}},{key:"type",get:function(){return this._widget.type}},{key:"code",get:function(){return this._widget.code}},{key:"style",get:function(){return this._widget.style}},{key:"properties",get:function(){return this._properties}},{key:"parentId",get:function(){return this._widget.parent}},{key:"parent",get:function(){return this._widget.parent},set:function(e){this._widget.parent=e}},{key:"reflexiveRules",get:function(){return this._widget.reflexiveRules}},{key:"validationRules",get:function(){return this._widget.validationRules}},{key:"setListenerSet",value:function(e,t,n){var r=this;this._attachedListenerSets[e]?this._attachedListenerSets[e].events.forEach((function(t){r._pageEventListener.remove(t,r._attachedListenerSets[e].fn)})):this._attachedListenerSets[e]={events:[],fn:function(){return null}},null!=t&&t.length?(this._attachedListenerSets[e].events=t,this._attachedListenerSets[e].fn=n,this._attachedListenerSets[e].events.forEach((function(t){r._pageEventListener.add(t,r._attachedListenerSets[e].fn)}))):delete this._attachedListenerSets[e]}},{key:"syncFetchPropertiesListeners",value:function(){var e,t=this;this.setListenerSet("fetchProperties",(null===(e=this.widget.fetchPropertiesOnWidgetsChange)||void 0===e?void 0:e.map((function(e){return"".concat(e,"_change")})))||[],d(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.callFetchPropertiesApi();case 2:case"end":return e.stop()}}),e)}))))}},{key:"syncReflexiveListeners",value:function(){var e,t=this;this.setListenerSet("reflexives",(null===(e=this.reflexiveRules)||void 0===e?void 0:e.map((function(e){return"".concat(e.fact,"_change")})))||[],(function(){return t.runReflexives()})),this.runReflexives()}},{key:"callFetchPropertiesApi",value:(s=d(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.widget.fetchPropertiesApi){e.next=2;break}return e.abrupt("return");case 2:return t={currentProperties:this.properties,originalProperties:this.widget.properties},e.next=5,fetch(this.widget.fetchPropertiesApi,{method:"POST",body:JSON.stringify(t)});case 5:if((n=e.sent).ok){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,n.json();case 10:this._properties=e.sent;case 11:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"setProperty",value:function(e,t){this._widget.properties[e]=t,this._update(this)}},{key:"setEffectProperties",value:function(e,t){this._widget.effects=(this.effects||[]).map((function(n){return n.type===e?a(a({},n),{},{properties:t}):n})),this._update(this)}},{key:"addEffect",value:function(e){var t,n;this.effects||(this._widget.effects=[]),null!==(t=this.effects)&&void 0!==t&&t.some((function(t){return t.type===e.type}))||(null===(n=this.effects)||void 0===n||n.push(e),this._update())}},{key:"removeEffect",value:function(e){var t;this._widget.effects=null===(t=this._widget.effects)||void 0===t?void 0:t.filter((function(t){return t.type!==e})),this._update()}},{key:"emitListener",value:function(e,t){this._pageEventListener.emit("".concat(this.id,"_").concat(e),t,{widgetItem:this}),this.code&&this._pageEventListener.emit("".concat(this.code,"_").concat(e),t,{widgetItem:this})}},{key:"destroyed",value:function(){}},{key:"removeWidget",value:function(){this.parentId&&this._widgetItems[this.parentId].removeChild(this),this.destroyed(),this._removeWidget(this.id)}},{key:"setWidgetItems",value:function(e){this._widgetItems=e}},{key:"validate",value:(o=d(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new yn.Engine(void 0,{allowUndefinedFacts:!0})).addRule({conditions:{all:t},event:{type:"isTruthy"}}),e.next=4,r.run(n);case 4:return e.abrupt("return",e.sent.events.some((function(e){return"isTruthy"===e.type})));case 5:case"end":return e.stop()}}),e)}))),function(e,t){return o.apply(this,arguments)})},{key:"runValidations",value:(i=d(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getValidationErrors();case 2:return t=e.sent,this.setState("errors",t),this._setPageState(this.pageState),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"_getValidationErrors",value:(r=d(regeneratorRuntime.mark((function e(){var t,n,r,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=!(null!==(t=this.validationRules)&&void 0!==t&&t.length),e.t0){e.next=5;break}return e.next=4,this.isReflexive();case 4:e.t0=!e.sent;case 5:if(!e.t0){e.next=7;break}return e.abrupt("return",null);case 7:return n=this.getState("response"),e.next=10,Promise.all(this.validationRules.map(function(){var e=d(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.validate(t.conditions,{properties:i.properties,responses:Object.keys(i.pageState.widgetState).reduce((function(e,t){var n=i.pageState.widgetState[t];return"question"===n.type&&(e[i._widgetItems[t].code||i._widgetItems[t].id]=n.response),e}),{}),response:void 0===n||""===n?null:n});case 2:if(e.sent){e.next=5;break}return e.abrupt("return",t.error);case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 10:return r=e.sent.filter((function(e){return e})),e.abrupt("return",r.length?r:null);case 12:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"addValidation",value:function(e){var t;null===(t=this.validationRules)||void 0===t||t.push(e),this._update()}},{key:"setChildErrors",value:function(e,t){var n=this.getState("childErrors")||{};t?n[e]=t:delete n[e],Object.keys(n).length?this.setState("childErrors",n):this.setState("childErrors",void 0)}},{key:"childErrors",value:function(){return this.getState("childErrors")}},{key:"hasChildErrors",value:function(){return Object.keys(this.childErrors()||{}).length>0}},{key:"runReflexives",value:(n=d(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.isReflexive();case 2:if(t=!e.sent,n=!!this.getState("reflexiveHide"),t===n){e.next=7;break}return e.next=7,this.runValidations();case 7:this.setState("reflexiveHide",t);case 8:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"isReflexive",value:(t=d(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=this.reflexiveRules)&&void 0!==t&&t.length){e.next=2;break}return e.abrupt("return",!0);case 2:return e.abrupt("return",this.validate(this.reflexiveRules,this.reflexiveRules.reduce((function(e,t){var r,i=n.pageState.widgetCodeToIdMap[t.fact],o=null===(r=n.pageState.widgetState[i])||void 0===r?void 0:r.response;return e[t.fact]=o,e}),{})));case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"setState",value:function(e,t){this._getPageState().setWidgetState(this.id,e,t),this._setPageState(this.pageState)}},{key:"getState",value:function(e){return this._getPageState().getWidgetState(this.id,e)}},{key:"getParentIds",value:function(){return e.getParentIds(this.id,this._widgetItems)}},{key:"getParents",value:function(){var e=this;return this.getParentIds().map((function(t){return e._widgetItems[t]}))}},{key:"getParent",value:function(){return this._widgetItems[this.parentId||""]||null}},{key:"getChildrenIds",value:function(e,t){return[]}},{key:"getChildren",value:function(e,t){var n=this;return this.getChildrenIds(e,t).map((function(e){return n._widgetItems[e]}))}},{key:"addChild",value:function(e,t){e.parent=this.id}},{key:"removeChild",value:function(e){e.parent=void 0}}],[{key:"getParentIds",value:function(t,n){var r=n[t];return null!=r&&r.parentId?[r.parentId].concat(x(e.getParentIds(r.parentId,n)||[])):[]}}]),e}(),_n={props:{widget:Object,widgetControls:Object,widgetItems:Object,pageState:Object,setWidgetState:Function,getWidgetState:Function,view:String},inject:["widgetEffectControls","setPageState"],methods:{onWidgetSelect:function(){this.$props.pageState.interactiveState.selectedWidgetId=this.$props.widget.id,this.setPageState(this.$props.pageState)}}},xn=_n,Cn=function(e){e&&e("data-v-60f339f8_0",{source:".widget-component-wrapper[data-v-60f339f8]{position:relative}.widget-component-wrapper.selected[data-v-60f339f8]{background-color:#fff;border:1px solid #86d5fa;border-radius:8px;padding:0 10px;margin:-1px -11px -1px -11px}.widget-wrapper[data-v-60f339f8]{padding:0 10px}.widget-builder-control[data-v-60f339f8]{position:absolute;top:-10px;left:10px;opacity:0;transition:opacity .2s;z-index:10}.widget-builder-control.hovered[data-v-60f339f8]{opacity:1}",map:void 0,media:void 0})},Sn=Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"widget-wrapper",on:{click:function(t){return t.stopPropagation(),e.onWidgetSelect(t)}}},[e.widget.style?n("style",{tag:"component",attrs:{scoped:""}},[e._v("\n    "+e._s(e.widget.style)+"\n  ")]):e._e(),e._v(" "),"builder"===e.view&&e.widgetControls[e.widget.type].builderControl?n("div",{staticClass:"widget-builder-control",class:{hovered:e.pageState.interactiveState.hoveredWidgetId===e.widget.id}},[n(e.widgetControls[e.widget.type].builderControl,{tag:"component",attrs:{widget:e.widget,widgetControls:e.widgetControls,widgetItems:e.widgetItems,pageState:e.pageState,setWidgetState:function(t,n){return e.setWidgetState(t,n,e.widget)},getWidgetState:function(t){return e.getWidgetState(t,e.widget)},view:e.view}})],1):e._e(),e._v(" "),n("div",{ref:"widgetComponentWrapper",staticClass:"widget-component-wrapper",class:{selected:e.pageState.interactiveState.selectedWidgetId===e.widget.id,unselected:e.pageState.interactiveState.selectedWidgetId&&e.pageState.interactiveState.selectedWidgetId!==e.widget.id}},[e._l(e.widget.effects,(function(t){return n(e.widgetEffectControls[t.type].display,{key:t.type,tag:"component",attrs:{properties:t.properties,wrapperRef:e.$refs.widgetComponentWrapper}})})),e._v(" "),n(e.widgetControls[e.widget.type][e.view||"display"],{tag:"component",attrs:{widget:e.widget,widgetControls:e.widgetControls,widgetItems:e.widgetItems,pageState:e.pageState,setWidgetState:function(t,n){return e.setWidgetState(t,n,e.widget)},getWidgetState:function(t){return e.getWidgetState(t,e.widget)},view:e.view,wrapperRef:e.$refs.widgetComponentWrapper}})],2)],1)},staticRenderFns:[]},Cn,xn,"data-v-60f339f8",false,undefined,!1,$e,void 0,void 0),kn=Sn,In={components:{WidgetView:kn},props:{widgetControls:Object,widgetItems:Object,excludeWidgetIds:pt(String),onlyIncludeWidgetIds:pt(String),forParent:String},inject:["widgetControls","getPageState","getView","setPageState","removeWidget"],data:function(){return{hoveredWidgetId:-1,openedAddOptionsIndex:-1}},computed:{view:function(){return this.getView()},pageState:function(){return this.getPageState()},widgetItemsArr:function(){return Object.values(this.$props.widgetItems)},filteredWidgetItemsArr:function(){var e=this;return this.widgetItemsArr.filter((function(t){return(!e.forParent&&!t.parentId||t.parentId===e.forParent)&&(!e.$props.onlyIncludeWidgetIds||e.$props.onlyIncludeWidgetIds.includes(t.id))&&(!(e.excludeWidgetIds||[]).length||!e.excludeWidgetIds.includes(t.id))})).sort((function(e,t){return(e.order||0)-(t.order||0)}))}},methods:{toggleShowAddOptions:function(e,t,n){this.$data.openedAddOptionsIndex=this.$data.openedAddOptionsIndex===n?-1:n},addWidget:function(e,t,n,r){var i=this.widgetControls[t].create();console.log("create new here",i),this.$data.openedAddOptionsIndex=-1},onDnDPlaceholderMouseDown:function(e,t){this.pageState.interactiveState.draggingWidgetId=t,this.setPageState(this.pageState)},onDnDPlaceholderMouseUp:function(e,t){this.pageState.interactiveState.draggingWidgetId="",this.setPageState(this.pageState)},onMouseEnter:function(e,t){e.stopPropagation(),this.$data.hoveredWidgetId=t,this.pageState.interactiveState.hoveredWidgetId=t,this.setPageState(this.pageState)},onMouseLeave:function(e,t){this.$data.hoveredWidgetId===t&&(this.$data.hoveredWidgetId=-1,this.pageState.interactiveState.hoveredWidgetId="",this.setPageState(this.pageState))},setWidgetState:function(e,t,n){var r=this.pageState;if(void 0===t){if(!r.widgetState[n.id])return;delete r.widgetState[n.id][e]}else r.widgetState[n.id]||(r.widgetState[n.id]={}),r.widgetState[n.id][e]=t;this.setPageState(r)},getWidgetState:function(e,t){var n;return null===(n=this.pageState.widgetState[t.id])||void 0===n?void 0:n[e]}}},Pn=In,On=function(e){e&&e("data-v-4e23dd62_0",{source:".widget-container[data-v-4e23dd62]{position:relative}.widget-container.notDragging[data-v-4e23dd62]{opacity:.4}.widget-container.dragging[data-v-4e23dd62]{opacity:1}.widget-form-control[data-v-4e23dd62]{position:absolute;top:-40px;left:0}.add-line[data-v-4e23dd62]{position:relative;padding:10px 0;margin:-10.5px 0;opacity:0;transition:opacity .2s;z-index:10}.add-line[data-v-4e23dd62]:hover{opacity:1}.add-line .line[data-v-4e23dd62]{width:100%;height:1px;background-color:#b5b5b5;cursor:pointer}.add-line .add-button[data-v-4e23dd62]{position:absolute;top:-2px;left:-10px;width:20px;height:20px;background-color:#fff;border:1px solid #cdcdcd;border-radius:4px;display:flex;justify-content:center;align-items:center;padding-top:2px;box-shadow:0 0 10px 10px #fff;cursor:pointer;transition:background-color .3s}.add-line.opened .add-button[data-v-4e23dd62]{background-color:#f71414;border:1px solid #f71414;color:#fff}.add-line.opened .add-button[data-v-4e23dd62]:hover{background-color:#dc1212;border:1px solid #dc1212}.add-line .add-button span[data-v-4e23dd62]{transition:all .3s}.add-line.opened .add-button span[data-v-4e23dd62]{transform:rotate(45deg)}.add-line .add-button[data-v-4e23dd62]:hover{background-color:#eaeaea}.add-line .add-options-wrapper[data-v-4e23dd62]{margin-left:15px;position:absolute;top:-2px;left:0;width:100%;display:none}.add-line .add-options-wrapper.open[data-v-4e23dd62]{display:block}.add-line .add-options-inner-wrapper[data-v-4e23dd62]{width:100%;padding-bottom:10px;overflow-x:auto;display:flex;flex-direction:row}.add-line .add-options-wrapper a[data-v-4e23dd62]{padding:2px 4px;cursor:pointer;background-color:#fff;border:1px solid #e8e8e8;border-radius:4px}.widget-container .dnd-placeholder[data-v-4e23dd62]{width:20px;height:25px;padding-bottom:2px;background-color:#fafafa;border:1px dashed #dadada;cursor:grab;font-size:9pt;display:flex;justify-content:center;align-items:center;border-radius:4px}.widget-container .dnd-placeholder[data-v-4e23dd62]:hover{background-color:#eaeaea}.left-actions-wrapper[data-v-4e23dd62]{position:absolute;top:15px;left:-40px;padding:10px;opacity:0;transition:opacity .2s;width:25px;display:flex;flex-direction:column;align-items:center}.widget-container.hovering>.left-actions-wrapper[data-v-4e23dd62]{opacity:1}.delete-button[data-v-4e23dd62]{font-size:12px;margin:2px 0;padding:1px 0;cursor:pointer;color:red}",map:void 0,media:void 0})},$n=Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.filteredWidgetItemsArr,(function(t,r){return n("div",{key:t.id,staticClass:"widget-container",class:{hovering:e.hoveredWidgetId===t.id,dragging:e.pageState.interactiveState.draggingWidgetId===t.id,notDragging:e.pageState.interactiveState.draggingWidgetId&&e.pageState.interactiveState.draggingWidgetId!==t.id},on:{mouseenter:function(n){return n.stopPropagation(),r=n,e.onMouseEnter(r,t.id);var r},mouseleave:function(n){return n.stopPropagation(),r=n,e.onMouseLeave(r,t.id);var r}}},[n("div",{staticClass:"left-actions-wrapper"},[n("a",{staticClass:"dnd-placeholder",on:{mousedown:function(n){return e.onDnDPlaceholderMouseDown(n,t.id)},mouseup:function(n){return e.onDnDPlaceholderMouseUp(n,t.id)}}},[e._v("\n        ↑↓\n      ")]),e._v(" "),n("a",{staticClass:"delete-button",on:{click:function(){return t.removeWidget()}}},[e._v("\n        🗑\n      ")])]),e._v(" "),n("div",{staticClass:"add-line",class:{opened:e.openedAddOptionsIndex===r}},[n("div",{staticClass:"line",on:{click:function(n){return n.stopPropagation(),i=n,e.toggleShowAddOptions(i,t,r);var i}}}),e._v(" "),n("a",{staticClass:"add-button",on:{click:function(n){return n.stopPropagation(),i=n,e.toggleShowAddOptions(i,t,r);var i}}},[n("span",[e._v("+")])]),e._v(" "),n("div",{staticClass:"add-options-wrapper",class:{open:e.openedAddOptionsIndex===r}},[n("div",{staticClass:"add-options-inner-wrapper"},e._l(Object.keys(e.widgetControls),(function(i){return n("a",{key:i,on:{click:function(n){return e.addWidget(n,i,t,r)}}},[e._v("\n            "+e._s(i)+"\n          ")])})),0)])]),e._v(" "),n("widget-view",{attrs:{widget:t,widgetControls:e.widgetControls,widgetItems:e.widgetItems,pageState:e.pageState,setWidgetState:e.setWidgetState,getWidgetState:e.getWidgetState,view:e.view}}),e._v(" "),r===e.filteredWidgetItemsArr.length-1?n("div",{staticClass:"add-line",class:{opened:e.openedAddOptionsIndex===r+1}},[n("div",{staticClass:"line",on:{click:function(n){return n.stopPropagation(),i=n,e.toggleShowAddOptions(i,t,r+1);var i}}}),e._v(" "),n("a",{staticClass:"add-button",on:{click:function(n){return n.stopPropagation(),i=n,e.toggleShowAddOptions(i,t,r+1);var i}}},[n("span",[e._v("+")])]),e._v(" "),n("div",{staticClass:"add-options-wrapper",class:{open:e.openedAddOptionsIndex===r+1}},[n("div",{staticClass:"add-options-inner-wrapper"},e._l(Object.keys(e.widgetControls),(function(i){return n("a",{key:i,on:{click:function(n){return e.addWidget(n,i,t,r+1)}}},[e._v("\n            "+e._s(i)+"\n          ")])})),0)])]):e._e()],1)})),0)},staticRenderFns:[]},On,Pn,"data-v-4e23dd62",false,undefined,!1,$e,void 0,void 0),jn=$n,En={components:{WidgetsLayout:wt,BuilderWidgetsLayout:jn},props:_r,data:function(){return{sortedPages:[]}},inject:["t"],computed:{currentPageIndex:function(){var e,t;return(null===(e=this.pageState.widgetState)||void 0===e||null===(t=e[this.$props.widget.id])||void 0===t?void 0:t.currentPageIndex)||0}},watch:{currentPageIndex:{handler:function(){var e=this.$props.widget.getState("viewedIndices");this.$props.widget.setState("viewedIndices",x(new Set([].concat(x(e||[]),[this.currentPageIndex]))))},immediate:!0},"widget.properties.pages":{handler:function(){this.$data.sortedPages=this.$props.widget.getSortedPages()},immediate:!0}}},Tn=En,Wn=function(e){e&&e("data-v-03e32e2b_0",{source:".pages-menu-wrapper[data-v-03e32e2b]{display:flex;flex-direction:row;justify-content:center;margin:10px 0}.pages-menu-item[data-v-03e32e2b]{display:inline-block;padding:10px 20px;cursor:pointer;text-align:center}.pages-menu-item.unopened[data-v-03e32e2b]{opacity:.3;cursor:default}.pages-menu-item.active[data-v-03e32e2b]{border-bottom:3px solid #03a9f4}.pages-menu-item.errors[data-v-03e32e2b]{border-color:red}.back-forward-wrapper[data-v-03e32e2b]{display:flex;flex-direction:row;justify-content:space-between}.back-forward-button[data-v-03e32e2b]{padding:10px 20px;margin:10px;border:1px solid transparent;background-color:#03a9f4;color:#fff;cursor:pointer}.back-forward-button.errors[data-v-03e32e2b]{background-color:red;color:#fff;opacity:.2;cursor:default}",map:void 0,media:void 0})},Rn=Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.widget.properties.tabsVisible?n("div",{staticClass:"pages-menu-wrapper"},e._l(e.sortedPages,(function(t,r){return n("a",{key:r,staticClass:"pages-menu-item",class:{active:e.currentPageIndex===r,errors:e.widget.pageIndexHasErrors(r,{allChildPages:!0}),unopened:!(e.widget.getState("viewedIndices")||[]).includes(r)},on:{click:function(){return e.widget.onChangePageIndex(r)}}},[e._v("\n      "+e._s(e.t(t.labelKey,e.widget.id))+"\n    ")])})),0):e._e(),e._v(" "),n("div",{staticClass:"pages-content-item"},[n("builder-widgets-layout",{attrs:{widgetItems:e.widgetItems,excludeWidgetIds:[e.widget.id],onlyIncludeWidgetIds:e.sortedPages.length&&e.currentPageIndex>-1?e.sortedPages[e.currentPageIndex].children:[],forParent:e.widget.id}})],1),e._v(" "),e.widget.properties.navigationVisible?n("div",{staticClass:"back-forward-wrapper"},[n("div",[e.widget.hasPreviousButton()?n("button",{staticClass:"back-forward-button",on:{click:function(){return e.widget.toPreviousPage()}}},[e._v("\n        "+e._s(e.t("__"+e.widget.previousButtonType(),e.widget.id))+"\n      ")]):e._e()]),e._v(" "),n("div",[e.widget.hasNextButton()?n("button",{staticClass:"back-forward-button",class:{errors:e.widget.pageIndexHasErrors(e.currentPageIndex)},on:{click:function(){return e.widget.toNextPage()}}},[e._v("\n        "+e._s(e.t("__"+e.widget.nextButtonType(),e.widget.id))+"\n      ")]):e._e()])]):e._e()])},staticRenderFns:[]},Wn,Tn,"data-v-03e32e2b",false,undefined,!1,$e,void 0,void 0),Ln=Rn,An={props:{widget:Object},inject:["updateWidget","t","setMessage","getLocale"],methods:{setPageLabel:function(e,t){this.setMessage({id:this.$props.widget.id,locale:this.getLocale(),key:this.$props.widget.properties.pages[e].labelKey,value:t})},setProperty:function(e,t){console.log("setProp",e,t),this.widget.setProperty(e,t)}}},Fn=An,Mn=function(e){e&&e("data-v-acfa8440_0",{source:".section[data-v-acfa8440]{padding:15px 5px}label[data-v-acfa8440]{display:block;padding:5px 0}.page-item[data-v-acfa8440]{padding:5px 0;display:flex;flex-direction:row;justify-content:space-between}.page-item input[data-v-acfa8440]{flex:1;border-width:0 0 1px 0;outline:0}.page-item .delete-page-button[data-v-acfa8440]{padding-right:5px;padding-left:5px}",map:void 0,media:void 0})},Dn=Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"section"},[n("label",[e._v("Pages")]),e._v(" "),n("div",{staticClass:"pages-list-wrapper"},e._l(e.widget.properties.pages,(function(t,r){return n("div",{key:r,staticClass:"page-item"},[n("input",{attrs:{type:"text"},domProps:{value:e.t(t.labelKey,e.widget.id)},on:{change:function(t){return e.setPageLabel(r,t.target.value)}}}),e._v(" "),n("a",{staticClass:"delete-page-button",on:{click:function(){return e.widget.removeWidget()}}},[e._v("🗑")])])})),0)]),e._v(" "),n("div",{staticClass:"section"},[n("label",[e._v("Options")]),e._v(" "),n("label",[n("input",{attrs:{type:"checkbox"},domProps:{checked:e.widget.properties.hasCompleteButton},on:{change:function(t){return e.setProperty("hasCompleteButton",t.target.checked)}}}),e._v("\n      has complete button\n    ")]),e._v(" "),n("label",[n("input",{attrs:{type:"checkbox"},domProps:{checked:e.widget.properties.tabsVisible},on:{change:function(t){return e.setProperty("tabsVisible",t.target.checked)}}}),e._v("\n      show tabs\n    ")]),e._v(" "),n("label",[n("input",{attrs:{type:"checkbox"},domProps:{checked:e.widget.properties.navigationVisible},on:{change:function(t){return e.setProperty("navigationVisible",t.target.checked)}}}),e._v("\n      show navigation\n    ")]),e._v(" "),n("label",[n("input",{attrs:{type:"checkbox"},domProps:{checked:e.widget.properties.navigationIntegrateChildrenPages},on:{change:function(t){return e.setProperty("navigationIntegrateChildrenPages",t.target.checked)}}}),e._v("\n      integrate children pages\n    ")])])])},staticRenderFns:[]},Mn,Fn,"data-v-acfa8440",false,undefined,!1,$e,void 0,void 0),Nn=Dn,qn={components:{WidgetsLayout:wt},props:_r,data:function(){return{sortedPages:[]}},inject:["t"],computed:{currentPageIndex:function(){var e,t;return(null===(e=this.pageState.widgetState)||void 0===e||null===(t=e[this.$props.widget.id])||void 0===t?void 0:t.currentPageIndex)||0}},watch:{currentPageIndex:{handler:function(){var e=this.$props.widget.getState("viewedIndices");this.$props.widget.setState("viewedIndices",x(new Set([].concat(x(e||[]),[this.currentPageIndex]))))},immediate:!0},"widget.properties.pages":{handler:function(){this.$data.sortedPages=this.$props.widget.getSortedPages()},immediate:!0}}},Vn=qn,Bn=function(e){e&&e("data-v-d135462c_0",{source:".pages-menu-wrapper[data-v-d135462c]{display:flex;flex-direction:row;justify-content:center;margin:10px 0}.pages-menu-item[data-v-d135462c]{display:inline-block;padding:10px 20px;cursor:pointer;text-align:center}.pages-menu-item.unopened[data-v-d135462c]{opacity:.3;cursor:default}.pages-menu-item.active[data-v-d135462c]{border-bottom:3px solid #03a9f4}.pages-menu-item.errors[data-v-d135462c]{border-color:red}.back-forward-wrapper[data-v-d135462c]{display:flex;flex-direction:row;justify-content:space-between}.back-forward-button[data-v-d135462c]{padding:10px 20px;margin:10px;border:1px solid transparent;background-color:#03a9f4;color:#fff;cursor:pointer}.back-forward-button.errors[data-v-d135462c]{background-color:red;color:#fff;opacity:.2;cursor:default}.back-forward-button.submitting[data-v-d135462c]{opacity:.2}",map:void 0,media:void 0})},zn=Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.widget.properties.tabsVisible?n("div",{staticClass:"pages-menu-wrapper"},e._l(e.sortedPages,(function(t,r){return n("a",{key:r,staticClass:"pages-menu-item",class:{active:e.currentPageIndex===r,errors:e.widget.pageIndexHasErrors(r,{allChildPages:!0}),unopened:!(e.widget.getState("viewedIndices")||[]).includes(r)},attrs:{disabled:!(e.widget.getState("viewedIndices")||[]).includes(r)},on:{click:function(){return(e.widget.getState("viewedIndices")||[]).includes(r)&&e.widget.onChangePageIndex(r)}}},[e._v("\n      "+e._s(e.t(t.labelKey,e.widget.id))+"\n    ")])})),0):e._e(),e._v(" "),n("div",{staticClass:"pages-content-item"},[n("widgets-layout",{attrs:{widgetItems:e.widgetItems,excludeWidgetIds:[e.widget.id],onlyIncludeWidgetIds:e.sortedPages.length&&e.currentPageIndex>-1?e.sortedPages[e.currentPageIndex].children:void 0,widgetsOrder:e.sortedPages.length&&e.currentPageIndex>-1?e.sortedPages[e.currentPageIndex].children:void 0,forParent:e.widget.id}})],1),e._v(" "),e.widget.properties.navigationVisible?n("div",{staticClass:"back-forward-wrapper"},[n("div",[e.widget.hasPreviousButton()?n("button",{staticClass:"back-forward-button",on:{click:function(){return e.widget.toPreviousPage()}}},[e._v("\n        "+e._s(e.t("__"+e.widget.previousButtonType(),e.widget.id))+"\n      ")]):e._e()]),e._v(" "),n("div",[e.widget.hasNextButton()?n("button",{staticClass:"back-forward-button",class:{errors:e.widget.pageIndexHasErrors(e.currentPageIndex),submitting:e.widget.isSubmitting},attrs:{disabled:e.widget.pageIndexHasErrors(e.currentPageIndex)||e.widget.isSubmitting},on:{click:function(){return e.widget.toNextPage()}}},[e._v("\n        "+e._s(e.t("__"+e.widget.nextButtonType(),e.widget.id))+"\n      ")]):e._e()])]):e._e()])},staticRenderFns:[]},Bn,Vn,"data-v-d135462c",false,undefined,!1,$e,void 0,void 0),Hn=zn,Un=function(e){f(r,e);var t,n=w(r);function r(e){var t;return l(this,r),p(h(t=n.call(this,e)),"isSubmitting",!1),t}return u(r,[{key:"getSortedPages",value:function(){return this.properties.pages}},{key:"isWidgetIdInWidgetIds",value:function(e,t){var n=this;return t.some((function(t){return t===e||n.isWidgetIdInWidgetIds(e,n._widgetItems[t].getChildrenIds())}))}},{key:"getChildIndexByWidgetId",value:function(e){var t=this;return this.getSortedPages().findIndex((function(n){return t.isWidgetIdInWidgetIds(e,n.children)}))}},{key:"getChildrenIds",value:function(e,t){var n=this;return this.getSortedPages().filter((function(e,r){var i;return null!=t&&null!==(i=t.inPageIndices)&&void 0!==i&&i.length?t.inPageIndices.includes(r):null!=t&&t.currentPageIndexOnly?r===n.currentPageIndex:e})).reduce((function(r,i){return[].concat(x(r),x(i.children),x(null!=e&&e.deep?i.children.reduce((function(r,i){return[].concat(x(r),x(n._widgetItems[i].getChildrenIds(e,t)))}),[]):[]))}),[])}},{key:"setChildErrors",value:function(e,t){b(g(r.prototype),"setChildErrors",this).call(this,e,t);var n,i=this.getState("pageIdxErrors")||{},o=this.getChildIndexByWidgetId(e);if(-1===o)throw new Error("child widget not in paging");t?(i[o]||(i[o]={}),i[o][e]=t):(null===(n=i[o])||void 0===n||delete n[e],Object.keys(i[o]||{}).length||delete i[o]);this.setState("pageIdxErrors",Object.keys(i).length?i:void 0)}},{key:"addChild",value:function(e,t){b(g(r.prototype),"addChild",this).call(this,e,t),this._widget.properties.pages[(null==t?void 0:t.pageIdx)||0].children.splice((null==t?void 0:t.childIdx)||0,0,e.id)}},{key:"removeChild",value:function(e){b(g(r.prototype),"removeChild",this).call(this,e),this._widget.properties.pages.forEach((function(t){t.children=t.children.filter((function(t){return t!==e.id}))})),this._update(this)}},{key:"onChangePageIndex",value:function(e){var t=this.getSortedPages();e<0||e>t.length-1||this.setState("currentPageIndex",e)}},{key:"currentPageIndex",get:function(){return this.getState("currentPageIndex")||0}},{key:"getParentPagesWidgets",value:function(e){var t=this.getParents().filter((function(e){return"pages"===e.type}));return null!=e&&e.first?t[0]:t}},{key:"getChildrenPagesWidgets",value:function(e){var t=this.getChildren({deep:!0},{inPageIndices:null==e?void 0:e.inPageIndices}).filter((function(e){return"pages"===e.type}));return null!=e&&e.first?t[0]:t}},{key:"pageIndexHasErrors",value:function(e,t){var n=this.getState("pageIdxErrors")||{};if(!Object.keys(n).length)return!1;if(!Object.keys(n[e]||{}).length)return!1;var r=this.properties.navigationIntegrateChildrenPages?this.getChildrenPagesWidgets({first:!0,inPageIndices:[this.currentPageIndex]}):null;return!(r&&(null==r||!r.properties.detachParentIntegration)&&"none"!==(null==r?void 0:r.nextButtonType()))||(null!=t&&t.allChildPages?r.hasChildErrors():r.currentPageIndexHasErrors())}},{key:"currentPageIndexHasErrors",value:function(){return this.pageIndexHasErrors(this.currentPageIndex)}},{key:"toNextPage",value:(t=d(regeneratorRuntime.mark((function e(){var t,n,r,i,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.getChildren({deep:!0},{currentPageIndexOnly:!0}),e.next=3,Promise.all(t.map(function(){var e=d(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.runValidations());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:if(e.sent.some((function(e){return e}))){e.next=20;break}if("complete"!==(n=this.nextButtonType())){e.next=14;break}return r=this.properties.pages.map((function(e,t){return o.pageIndexHasErrors(t,{allChildPages:!0})})),this.isSubmitting=!0,e.next=11,this.emitEvent("pages_complete",{pageErrors:r,hasErrors:r.some((function(e){return e})),pageWidget:this});case 11:this.isSubmitting=!1,e.next=20;break;case 14:if("none"!==n){e.next=18;break}return e.abrupt("return");case 18:!(i=this.properties.navigationIntegrateChildrenPages?this.getChildrenPagesWidgets({first:!0,inPageIndices:[this.currentPageIndex]}):null)||null!=i&&i.properties.detachParentIntegration||"none"===(null==i?void 0:i.nextButtonType())?this.onChangePageIndex(this.currentPageIndex+1):i.toNextPage();case 20:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"toPreviousPage",value:function(){if("none"!==this.previousButtonType()){var e=this.properties.navigationIntegrateChildrenPages?this.getChildrenPagesWidgets({first:!0,inPageIndices:[this.currentPageIndex]}):null;!e||null!=e&&e.properties.detachParentIntegration||"none"===(null==e?void 0:e.previousButtonType())?this.onChangePageIndex(this.currentPageIndex-1):e.toPreviousPage()}}},{key:"previousButtonType",value:function(){var e=this.currentPageIndex<=0,t=this.getChildrenPagesWidgets({first:!0});return this.properties.navigationIntegrateChildrenPages&&t&&!t.properties.detachParentIntegration&&e?t.previousButtonType():e?"none":"previous"}},{key:"nextButtonType",value:function(){var e=this.currentPageIndex>=this._widget.properties.pages.length-1,t=this.properties.navigationIntegrateChildrenPages?this.getChildrenPagesWidgets({first:!0}):null;return this.properties.navigationIntegrateChildrenPages&&t&&"none"!==t.nextButtonType()&&!t.properties.detachParentIntegration&&e?t.nextButtonType():e?this.properties.hasCompleteButton?"complete":"none":"next"}},{key:"hasPreviousButton",value:function(){return!!this.properties.navigationVisible&&"none"!==this.previousButtonType()}},{key:"hasNextButton",value:function(){return!!this.properties.navigationVisible&&"none"!==this.nextButtonType()}}]),r}(bn),Yn={name:"PagesReadOnly",components:{WidgetsLayout:wt},props:_r,inject:["t"],data:function(){return{sortedPages:this.$props.widget.getSortedPages()}}},Kn=Yn,Jn=function(e){e&&e("data-v-6a7de50f_0",{source:".page-wrapper[data-v-6a7de50f]{display:flex;flex-direction:row}.page-wrapper[data-v-6a7de50f]>:last-child{flex:1}.page-label[data-v-6a7de50f]{padding:0 10px 0 0}.question-label[data-v-6a7de50f]{font-weight:700}.questions-wrapper[data-v-6a7de50f]{display:flex;flex-direction:row;flex-wrap:wrap}.question[data-v-6a7de50f]{width:33%}",map:void 0,media:void 0})},Gn=Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.sortedPages,(function(t,r){return n("div",{key:r,staticClass:"page-wrapper"},[e.widget.getParentPagesWidgets({first:!0})?e._e():n("div",{staticClass:"page-label"},[e._v("\n      "+e._s(e.t(t.labelKey,e.widget.id))+"\n    ")]),e._v(" "),n("div",[n("div",{staticClass:"questions-wrapper"},[e._l(t.children.filter((function(t){return["question"].includes(e.widgetItems[t].type)})),(function(t){return[e.t("__label",t)?n("div",{key:t,staticClass:"question"},[n("label",{staticClass:"question-label"},[e._v(e._s(e.t("__label",t)))]),e._v(" "),n("p",[e._v(e._s(e.pageState.widgetState[t].response))])]):e._e()]}))],2),e._v(" "),e._l(t.children.filter((function(t){return["pages"].includes(e.widgetItems[t].type)})),(function(t){return n("pages-read-only",{key:t,attrs:{widget:e.widgetItems[t],widgets:e.widgets,widgetItems:e.widgetItems,pageState:e.pageState,setWidgetState:e.setWidgetState}})}))],2)])})),0)},staticRenderFns:[]},Jn,Kn,"data-v-6a7de50f",false,undefined,!1,$e,void 0,void 0),Qn=Gn,Xn={name:"BuilderWidgetTree",props:{widgetItems:Object,parentId:String,listIds:Array,level:Number},inject:["widgetControls"],data:function(){return{filteredWidgetItems:[]}},computed:{changes:function(){return{listIds:this.$props.listIds,parentId:this.$props.parentId}}},watch:{changes:{handler:function(e){var t=this,n=e.listIds,r=e.parentId;this.$data.filteredWidgetItems=n?n.map((function(e){return t.$props.widgetItems[e]})):Object.values(this.$props.widgetItems).filter((function(e){return e.parentId===r})),console.log("this.$data.widgetTree",this.$data.filteredWidgetItems)},immediate:!0}}},Zn=Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tree-level-wrapper"},e._l(e.filteredWidgetItems,(function(t){return n("div",{key:t.id,staticClass:"tree-item",style:{marginLeft:10*(e.level||0)+"px"}},[n("div",{staticClass:"tree-item-box"},[n("span",{staticClass:"drag-icon"},[e._v("☷")]),e._v(" "),n("p",[e._v(e._s(t.type))]),e._v(" "),n("small",[e._v(e._s(t.code))])]),e._v(" "),e.widgetControls[t.type].widgetTree?[n(e.widgetControls[t.type].widgetTree,{tag:"component",attrs:{widgetItems:e.widgetItems,widgetItem:t,parentId:t.id,level:1}})]:[n("builder-widget-tree",{attrs:{widgetItems:e.widgetItems,parentId:t.id,level:1}})]],2)})),0)},staticRenderFns:[]},(function(e){e&&e("data-v-2959a75d_0",{source:".tree-item-box[data-v-2959a75d]{border:1px solid #f2f2f2;border-radius:4px;padding:5px;margin:2px 0;display:flex;flex-direction:row;align-items:center}.tree-item-box>*[data-v-2959a75d]{margin:0;margin-right:5px}.tree-item-box small[data-v-2959a75d]{color:#a1a1a1}.drag-icon[data-v-2959a75d]{cursor:grab}.drag-icon[data-v-2959a75d]:active{cursor:grabbing}",map:void 0,media:void 0})}),Xn,"data-v-2959a75d",false,undefined,!1,$e,void 0,void 0),er={create:function(e){return{id:qe(),type:"pages",properties:a({pages:[{labelKey:"",children:[]}],navigationVisible:!0,tabsVisible:!0,hasCompleteButton:!1,navigationIntegrateChildrenPages:!1,detachParentIntegration:!1},e)}},display:Hn,builder:Ln,builderForm:Nn,readOnly:Qn,widgetItem:Un,widgetTree:Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.widgetItem.properties.pages,(function(t,r){return n("div",{key:r},[n("div",{staticClass:"page-label"},[n("small",[n("input",{domProps:{value:e.t(t.labelKey,e.widgetItem.id)},on:{change:function(t){return e.onPageLabelChange(r,t.target.value)}}})])]),e._v(" "),n("builder-widget-tree",{attrs:{widgetItems:e.widgetItems,level:1,listIds:t.children}})],1)})),0)},staticRenderFns:[]},(function(e){e&&e("data-v-25366e39_0",{source:".page-label[data-v-25366e39]{padding:6px}.page-label input[data-v-25366e39]{border:none;outline:0}",map:void 0,media:void 0})}),{components:{BuilderWidgetTree:Zn},props:{widgetItems:Object,widgetItem:Object,parentId:String,level:Number},inject:["t","setMessage","getLocale"],methods:{onPageLabelChange:function(e,t){this.setMessage({id:this.$props.widgetItem.id,locale:this.getLocale(),key:this.$props.widgetItem.properties.pages[e].labelKey,value:t})}}},"data-v-25366e39",false,undefined,!1,$e,void 0,void 0)},tr={props:_r,inject:["questionControls","widgetControls","getPageState","setPageState","getLocale","setMessage"],created:function(){var e,t,n,r,i,o=a({},null===(e=this.$props.widget)||void 0===e?void 0:e.getState());(null===(t=this.widget)||void 0===t||t.setState("type","question"),void 0===(null==o?void 0:o.touched))&&(null===(n=this.widget)||void 0===n||n.setState("touched",!1),null===(r=this.widget)||void 0===r||r.setState("pristine",!0),null===(i=this.widget)||void 0===i||i.setState("dirty",!1))},mounted:function(){var e=this;this.$nextTick((function(){e.$refs.labelInput&&(e.$refs.labelInput.style.height="",e.$refs.labelInput.style.height=e.$refs.labelInput.scrollHeight+"px")}))},unmounted:function(){},computed:{pageState:function(){return this.getPageState()}},methods:{updateText:function(e,t){this.setMessage({id:this.$props.widget.id,locale:this.getLocale(),key:"__".concat(e),value:t.replaceAll(/\n|\r/g,"")})},onChange:function(e,t){var n=this;this.widget.setState("response",e),t||(this.widget.setState("touched",!0),this.widget.setState("pristine",!1),this.widget.setState("dirty",!0),d(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.$props.widget.runValidations();case 2:n.$props.widget.emitListener("change");case 3:case"end":return e.stop()}}),e)})))())}}},nr=Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.widget.getState("reflexiveHide")?e._e():n("div",[n("div",{staticClass:"question-wrapper"},[e.widget.properties.hideLabel?e._e():n("label",{class:{errors:(e.getWidgetState("errors")||[]).length},attrs:{for:e.widget.code||e.widget.id}},[n("textarea",{ref:"labelInput",staticClass:"text-input",attrs:{oninput:'this.style.height = "";this.style.height = this.scrollHeight + "px"'},domProps:{value:e.t("__label",e.widget.id)},on:{input:function(t){return e.updateText("label",t.target.value)}}})]),e._v(" "),n("div",[n(e.questionControls[e.widget.properties.control].display,{tag:"component",attrs:{properties:e.widget.properties.controlProperties,widget:e.widget,widgetItems:e.widgetItems,onChange:e.onChange,value:e.widget.getState("response"),setWidgetState:e.setWidgetState,getWidgetState:e.getWidgetState,view:e.view,errors:e.getWidgetState("errors"),t:e.t}}),e._v(" "),e._l(e.getWidgetState("errors"),(function(t){return n("span",{key:t,staticClass:"error"},[e._v(e._s(e.t(t,e.widget.id)))])}))],2)])])},staticRenderFns:[]},(function(e){e&&e("data-v-fff6285a_0",{source:".question-wrapper[data-v-fff6285a]{width:100%;display:flex;flex-direction:row}.question-wrapper>label[data-v-fff6285a]{flex:1;max-width:300px;border-right:1px solid #393939;padding:20px 0;margin-right:20px}.question-wrapper>label.errors[data-v-fff6285a]{color:red}.question-wrapper>div[data-v-fff6285a]{flex:2;padding:20px 0}.error[data-v-fff6285a]{display:block;color:red;margin-top:10px}.text-input[data-v-fff6285a]{font-size:inherit;font-weight:inherit;font-family:inherit;border:none;outline:0;width:100%;background-color:transparent;resize:none;min-height:10px;margin-bottom:-15px}",map:void 0,media:void 0})}),tr,"data-v-fff6285a",false,undefined,!1,$e,void 0,void 0),rr=Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.widget.getState("reflexiveHide")?e._e():n("div",[n("div",{staticClass:"question-wrapper"},[e.widget.properties.hideLabel?e._e():n("label",{class:{errors:(e.getWidgetState("errors")||[]).length},attrs:{for:e.widget.code||e.widget.id}},[e._v(e._s(e.t("__label",e.widget.id)))]),e._v(" "),n("div",[n(e.questionControls[e.widget.properties.control].display,{tag:"component",attrs:{properties:e.widget.properties.controlProperties,widget:e.widget,widgetItems:e.widgetItems,onChange:e.onChange,value:e.widget.getState("response"),setWidgetState:e.setWidgetState,getWidgetState:e.getWidgetState,view:e.view,errors:e.getWidgetState("errors"),t:function(t,n){return e.t("control_"+t,e.widget.id,n)}}}),e._v(" "),e._l(e.getWidgetState("errors"),(function(t){return n("span",{key:t,staticClass:"error"},[e._v(e._s(e.t(t,e.widget.id)))])}))],2)])])},staticRenderFns:[]},(function(e){e&&e("data-v-6e5023d3_0",{source:".question-wrapper[data-v-6e5023d3]{width:100%;display:flex;flex-direction:row}.question-wrapper>label[data-v-6e5023d3]{flex:1;max-width:300px;border-right:1px solid #393939;padding:20px 0;margin-right:20px}.question-wrapper>label.errors[data-v-6e5023d3]{color:red}.question-wrapper>div[data-v-6e5023d3]{flex:2;padding:20px 0}.error[data-v-6e5023d3]{display:block;color:red}@media only screen and (max-width:600px){.question-wrapper[data-v-6e5023d3]{flex-direction:column}.question-wrapper>label[data-v-6e5023d3]{border-right:none;padding:10px 0 5px 0}.question-wrapper>label.errors[data-v-6e5023d3]{color:#000}.question-wrapper>div[data-v-6e5023d3]{padding:5px 0 10px 0}}",map:void 0,media:void 0})}),{props:{widget:Object,widgetControls:Object,widgetItems:Object,setWidgetState:Function,getWidgetState:Function,view:String},inject:["t","questionControls","widgetControls","getPageState","setPageState"],created:function(){var e=a({},this.$props.widget.getState());this.widget.setState("type","question"),void 0===(null==e?void 0:e.touched)&&(this.widget.setState("touched",!1),this.widget.setState("pristine",!0),this.widget.setState("dirty",!1))},unmounted:function(){},computed:{pageState:function(){return this.getPageState()}},methods:{onChange:function(e,t){var n=this;this.widget.setState("response",e),t||(this.widget.setState("touched",!0),this.widget.setState("pristine",!1),this.widget.setState("dirty",!0),d(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.$props.widget.runValidations();case 2:n.$props.widget.emitListener("change");case 3:case"end":return e.stop()}}),e)})))())}}},"data-v-6e5023d3",false,undefined,!1,$e,void 0,void 0),ir=function(e){f(r,e);var t,n=w(r);function r(e){var t;return l(this,r),p(h(t=n.call(this,e)),"questionControlErrors",[]),t}return u(r,[{key:"setQuestionErrors",value:function(e){this.questionControlErrors=e}},{key:"runValidations",value:(t=d(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=[],e.t1=x,e.next=4,b(g(r.prototype),"runValidations",this).call(this);case 4:if(e.t2=e.sent,e.t2){e.next=7;break}e.t2=[];case 7:return e.t3=e.t2,e.t4=(0,e.t1)(e.t3),e.t5=x(this.questionControlErrors),t=e.t0.concat.call(e.t0,e.t4,e.t5),this.setState("errors",t),this._setPageState(this.pageState),t.length||(t=null),this.setState("valid",!t),this.setState("hasErrors",!!t),(this.getParentIds()||[]).forEach((function(e){n._widgetItems[e].setChildErrors(n.id,t)})),e.abrupt("return",t);case 19:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),r}(bn),or={create:function(e){return{id:qe(),type:"question",properties:a({responseType:"",hideLabel:!1,control:"",controlProperties:{}},e)}},display:rr,builder:nr,readOnly:Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.getWidgetState("reflexiveHide")?e._e():n("div",[n("div",{staticClass:"question-wrapper"},[e.widget.properties.hideLabel?e._e():n("label",[e._v(e._s(e.t("__label",e.widget.id)))]),e._v(" "),n("div",[n(e.questionControls[e.widget.properties.control].readOnly,{tag:"component",attrs:{properties:e.widget.properties.controlProperties,widget:e.widget,onChange:e.onChange,value:e.getWidgetState("response"),setWidgetState:e.setWidgetState,getWidgetState:e.getWidgetState,view:e.view,t:e.t}})],1)])])},staticRenderFns:[]},(function(e){e&&e("data-v-4d0684f2_0",{source:".question-wrapper[data-v-4d0684f2]{width:100%;display:flex;flex-direction:row;padding:10px 10px}.question-wrapper>label[data-v-4d0684f2]{flex:1;max-width:300px;border-right:1px solid #393939;padding:10px 0}.question-wrapper>div[data-v-4d0684f2]{flex:2;padding:10px 20px}",map:void 0,media:void 0})}),{props:_r,inject:["questionControls","widgetControls","getPageState","setPageState"],created:function(){},unmounted:function(){},computed:{pageState:function(){return this.getPageState()}},methods:{onChange:function(e){this.setWidgetState("response",e)}}},"data-v-4d0684f2",false,undefined,!1,$e,void 0,void 0),widgetItem:ir},ar={components:{BuilderWidgetsLayout:jn,WidgetsLayout:wt},props:_r,inject:["getLocale","setMessage"],setup:function(){},computed:{label:function(){return this.t("__label",this.$props.widget.id)},childErrors:function(){var e;return null===(e=this.$props.widget.getState())||void 0===e?void 0:e.childErrors},hasChildErrors:function(){return this.$props.widget.hasChildErrors()}},methods:{updateText:function(e,t){this.setMessage({id:this.$props.widget.id,locale:this.getLocale(),key:"__".concat(e),value:t.replaceAll(/\n|\r/g,"")})},isShowLabel:function(e){return this.$props.widget.properties.hasLabel&&this.$props.widget.properties.labelPosition===e}}},sr=Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"section-wrapper",class:{errors:e.hasChildErrors}},[n("label",[n("input",{staticClass:"text-input",attrs:{type:"text"},domProps:{value:e.label},on:{input:function(t){return e.updateText("label",t.target.value)}}})]),e._v(" "),n("builder-widgets-layout",{attrs:{widgetControls:e.widgetControls,widgetItems:e.widgetItems,forParent:e.widget.id}})],1)},staticRenderFns:[]},(function(e){e&&e("data-v-54bf7c73_0",{source:".section-wrapper[data-v-54bf7c73]{position:relative;border:1px solid #a9a9a9;min-height:30px;padding:10px;margin:10px 0;border-radius:8px}.section-wrapper>label[data-v-54bf7c73]{position:absolute;top:0;left:10px;transform:translateY(-50%);background-color:#fff;padding:1px 10px;z-index:10}.section-wrapper.errors[data-v-54bf7c73]{border-color:red}.text-input[data-v-54bf7c73]{font-size:inherit;font-weight:inherit;font-family:inherit;border:none;outline:0;width:100%;background-color:transparent;resize:none;min-height:10px;margin-bottom:-15px}",map:void 0,media:void 0})}),ar,"data-v-54bf7c73",false,undefined,!1,$e,void 0,void 0),dr=Pe({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v("section builder form")])},staticRenderFns:[]},undefined,{props:{widget:Object},inject:["updateWidget"]},undefined,false,undefined,!1,void 0,void 0,void 0),lr=Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"section-wrapper",class:{errors:e.hasChildErrors}},[e.label?n("label",[e._v(e._s(e.label))]):e._e(),e._v(" "),n("widgets-layout",{attrs:{widgetControls:e.widgetControls,widgetItems:e.widgetItems,forParent:e.widget.id}})],1)},staticRenderFns:[]},(function(e){e&&e("data-v-71bd56b4_0",{source:".section-wrapper[data-v-71bd56b4]{position:relative;border:1px solid #a9a9a9;min-height:30px;padding:10px;margin:10px 0;border-radius:8px}.section-wrapper>label[data-v-71bd56b4]{position:absolute;top:0;left:10px;transform:translateY(-50%);background-color:#fff;padding:10px}.section-wrapper.errors[data-v-71bd56b4]{border-color:red}@media only screen and (max-width:600px){.section-wrapper label[data-v-71bd56b4]{font-size:10pt}}",map:void 0,media:void 0})}),{components:{WidgetsLayout:wt},props:_r,setup:function(){},computed:{label:function(){return this.t("__label",this.$props.widget.id)},childErrors:function(){var e;return null===(e=this.$props.widget.getState())||void 0===e?void 0:e.childErrors},hasChildErrors:function(){return this.$props.widget.hasChildErrors()}},methods:{isShowLabel:function(e){return this.$props.widget.properties.hasLabel&&this.$props.widget.properties.labelPosition===e}}},"data-v-71bd56b4",false,undefined,!1,$e,void 0,void 0),cr=Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"section-wrapper"},[e.label?n("label",[e._v(e._s(e.label))]):e._e(),e._v(" "),n("widgets-layout",{attrs:{widgetControls:e.widgetControls,widgetItems:e.widgetItems,forParent:e.widget.id}})],1)},staticRenderFns:[]},(function(e){e&&e("data-v-63c57576_0",{source:".section-wrapper[data-v-63c57576]{position:relative;border:1px solid #a9a9a9;min-height:30px;padding:10px;margin:10px;border-radius:8px}.section-wrapper>label[data-v-63c57576]{position:absolute;top:0;left:10px;transform:translateY(-50%);background-color:#fff;padding:10px}",map:void 0,media:void 0})}),{components:{WidgetsLayout:wt},props:_r,setup:function(){},computed:{label:function(){return this.t("__label",this.$props.widget.id)}},methods:{isShowLabel:function(e){return this.$props.widget.properties.hasLabel&&this.$props.widget.properties.labelPosition===e}}},"data-v-63c57576",false,undefined,!1,$e,void 0,void 0),ur=function(e){f(n,e);var t=w(n);function n(e){return l(this,n),t.call(this,e)}return u(n,[{key:"getChildrenIds",value:function(){return this.properties.children}},{key:"addChild",value:function(e,t){b(g(n.prototype),"addChild",this).call(this,e,t),this._widget.properties.children.splice((null==t?void 0:t.idx)||0,0,e.id)}},{key:"removeChild",value:function(e){b(g(n.prototype),"removeChild",this).call(this,e);var t=this._widget.properties.children.findIndex((function(t){return t===e.id}));t>-1&&this._widget.properties.children.splice(t,1)}}]),n}(bn),pr={create:function(e){return{id:qe(),type:"section",properties:a({children:[]},e)}},display:lr,builder:sr,builderForm:dr,readOnly:cr,widgetItem:ur},fr={props:_r,inject:["getLocale","setMessage"],setup:function(){},computed:{label:function(){return this.t("__label",this.$props.widget.id)}},methods:{updateText:function(e,t){this.setMessage({id:this.$props.widget.id,locale:this.getLocale(),key:"__".concat(e),value:t.replaceAll(/\n|\r/g,"")})},isShowLabel:function(e){return this.$props.widget.properties.hasLabel&&this.$props.widget.properties.labelPosition===e}}},gr=Pe({render:function(){var e,t,n,r=this,i=r.$createElement,o=r._self._c||i;return o("div",{staticClass:"line-wrapper",class:{vertical:"vertical"===r.widget.properties.dir}},[r.isShowLabel("start")?o("label",{class:(e={},e[r.widget.properties.labelPosition||"start"]=!0,e)},[o("input",{staticClass:"text-input",attrs:{type:"text"},domProps:{value:r.label},on:{input:function(e){return r.updateText("label",e.target.value)}}})]):r._e(),r._v(" "),o("div",{staticClass:"line"}),r._v(" "),r.isShowLabel("center")?o("label",{class:(t={},t[r.widget.properties.labelPosition||"start"]=!0,t)},[o("input",{staticClass:"text-input",attrs:{type:"text"},domProps:{value:r.label},on:{input:function(e){return r.updateText("label",e.target.value)}}})]):r._e(),r._v(" "),o("div",{staticClass:"line"}),r._v(" "),r.isShowLabel("end")?o("label",{class:(n={},n[r.widget.properties.labelPosition||"start"]=!0,n)},[o("input",{staticClass:"text-input",attrs:{type:"text"},domProps:{value:r.label},on:{input:function(e){return r.updateText("label",e.target.value)}}})]):r._e()])},staticRenderFns:[]},(function(e){e&&e("data-v-dc503f06_0",{source:".line-wrapper[data-v-dc503f06]{display:flex;flex-direction:row;align-items:center;padding:10px 0}.line-wrapper.vertical[data-v-dc503f06]{flex-direction:column}.line-wrapper .line[data-v-dc503f06]{flex:1;background-color:#a0a0a0;height:1px}.line-wrapper.vertical .line[data-v-dc503f06]{width:1px}.line-wrapper label[data-v-dc503f06]{padding:10px;background-color:rgba(255,255,255,.5);border-radius:10px}.line-wrapper label.start[data-v-dc503f06]{padding-left:0}.line-wrapper label.end[data-v-dc503f06]{padding-right:0}.text-input[data-v-dc503f06]{font-size:inherit;font-weight:inherit;font-family:inherit;border:none;outline:0;width:100%;background-color:transparent;resize:none;min-height:10px;margin-bottom:-15px}.start .text-input[data-v-dc503f06]{text-align:left}.center .text-input[data-v-dc503f06]{text-align:center}.end .text-input[data-v-dc503f06]{text-align:right}.line-wrapper.vertical .text-input[data-v-dc503f06]{text-align:center}",map:void 0,media:void 0})}),fr,"data-v-dc503f06",false,undefined,!1,$e,void 0,void 0),vr=Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"fieldItem"},[n("label",{staticClass:"label"},[e._v("Label Position")]),e._v(" "),n("div",{staticClass:"button-group"},[n("button",{staticClass:"button-item",class:{active:"start"===e.widget.properties.labelPosition},on:{click:function(){return e.setLabelPosition("start")}}},[e._v("\n        start\n      ")]),e._v(" "),n("button",{staticClass:"button-item",class:{active:"center"===e.widget.properties.labelPosition},on:{click:function(){return e.setLabelPosition("center")}}},[e._v("\n        center\n      ")]),e._v(" "),n("button",{staticClass:"button-item",class:{active:"end"===e.widget.properties.labelPosition},on:{click:function(){return e.setLabelPosition("end")}}},[e._v("\n        end\n      ")])])])])},staticRenderFns:[]},(function(e){e&&e("data-v-73701104_0",{source:".fieldItem[data-v-73701104]{padding:10px}.fieldItem>.label[data-v-73701104]{display:block;padding:10px 0}.button-group[data-v-73701104]{position:relative;display:flex;flex-direction:row;border-radius:4px;overflow:hidden;width:100%;max-width:300px}.button-item[data-v-73701104]{padding:5px 10px;border:none;flex:1;cursor:pointer}.button-item.active[data-v-73701104]{background-color:#03a9f4;color:#fff}",map:void 0,media:void 0})}),{props:{widget:{type:bn,required:!0}},inject:["updateWidget"],methods:{setLabelPosition:function(e){this.$props.widget.properties.labelPosition=e,this.updateWidget(this.$props.widget)}}},"data-v-73701104",false,undefined,!1,$e,void 0,void 0),hr={create:function(e){return{id:qe(),type:"separator",properties:a({dir:"horizontal",hasLabel:!0,labelPosition:"start"},e)}},display:Pe({render:function(){var e,t,n,r=this,i=r.$createElement,o=r._self._c||i;return o("div",{staticClass:"line-wrapper",class:{vertical:"vertical"===r.widget.properties.dir}},[r.isShowLabel("start")?o("label",{class:(e={},e[r.widget.properties.labelPosition||"start"]=!0,e)},[r._v(r._s(r.label))]):r._e(),r._v(" "),o("div",{staticClass:"line"}),r._v(" "),r.isShowLabel("center")?o("label",{class:(t={},t[r.widget.properties.labelPosition||"start"]=!0,t)},[r._v(r._s(r.label))]):r._e(),r._v(" "),o("div",{staticClass:"line"}),r._v(" "),r.isShowLabel("end")?o("label",{class:(n={},n[r.widget.properties.labelPosition||"start"]=!0,n)},[r._v(r._s(r.label))]):r._e()])},staticRenderFns:[]},(function(e){e&&e("data-v-299e548b_0",{source:".line-wrapper[data-v-299e548b]{display:flex;flex-direction:row;align-items:center;padding:10px 0}.line-wrapper.vertical[data-v-299e548b]{flex-direction:column}.line-wrapper .line[data-v-299e548b]{flex:1;background-color:#a0a0a0;height:1px}.line-wrapper.vertical .line[data-v-299e548b]{width:1px}.line-wrapper label[data-v-299e548b]{padding:10px;background-color:rgba(255,255,255,.5);border-radius:10px}.line-wrapper label.start[data-v-299e548b]{padding-left:0}.line-wrapper label.end[data-v-299e548b]{padding-right:0}@media only screen and (max-width:600px){.line-wrapper label[data-v-299e548b]{font-size:10pt}}",map:void 0,media:void 0})}),{props:_r,setup:function(){},computed:{label:function(){return this.t("__label",this.$props.widget.id)}},methods:{isShowLabel:function(e){return this.$props.widget.properties.hasLabel&&this.$props.widget.properties.labelPosition===e}}},"data-v-299e548b",false,undefined,!1,$e,void 0,void 0),builder:gr,builderForm:vr,readOnly:Pe({render:function(){var e,t,n,r=this,i=r.$createElement,o=r._self._c||i;return o("div",{staticClass:"line-wrapper",class:{vertical:"vertical"===r.widget.properties.dir}},[r.isShowLabel("start")?o("label",{class:(e={},e[r.widget.properties.labelPosition||"start"]=!0,e)},[r._v(r._s(r.label))]):r._e(),r._v(" "),o("div",{staticClass:"line"}),r._v(" "),r.isShowLabel("center")?o("label",{class:(t={},t[r.widget.properties.labelPosition||"start"]=!0,t)},[r._v(r._s(r.label))]):r._e(),r._v(" "),o("div",{staticClass:"line"}),r._v(" "),r.isShowLabel("end")?o("label",{class:(n={},n[r.widget.properties.labelPosition||"start"]=!0,n)},[r._v(r._s(r.label))]):r._e()])},staticRenderFns:[]},(function(e){e&&e("data-v-2f0d86d2_0",{source:".line-wrapper[data-v-2f0d86d2]{display:flex;flex-direction:row;align-items:center;padding:10px}.line-wrapper.vertical[data-v-2f0d86d2]{flex-direction:column}.line-wrapper .line[data-v-2f0d86d2]{flex:1;background-color:#a0a0a0;height:1px}.line-wrapper.vertical .line[data-v-2f0d86d2]{width:1px}.line-wrapper label[data-v-2f0d86d2]{padding:10px;background-color:rgba(255,255,255,.5);border-radius:10px}.line-wrapper label.start[data-v-2f0d86d2]{padding-left:0}.line-wrapper label.end[data-v-2f0d86d2]{padding-right:0}",map:void 0,media:void 0})}),{props:_r,setup:function(){},computed:{label:function(){return this.t("__label",this.$props.widget.id)}},methods:{isShowLabel:function(e){return this.$props.widget.properties.hasLabel&&this.$props.widget.properties.labelPosition===e}}},"data-v-2f0d86d2",false,undefined,!1,$e,void 0,void 0)},mr=Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(e.widget.properties.tagType,{tag:"component",staticClass:"text"},[n("input",{staticClass:"text-input",attrs:{type:"text"},domProps:{value:e.t("__label",e.widget.id)},on:{input:e.onTextChange}})])},staticRenderFns:[]},(function(e){e&&e("data-v-8ca6f3f6_0",{source:".text-input[data-v-8ca6f3f6]{font-size:inherit;font-family:inherit;font-weight:inherit;outline:0;border:none;width:100%;background-color:transparent}",map:void 0,media:void 0})}),{props:_r,inject:["getLocale","setMessage"],methods:{onTextChange:function(e){this.setMessage({id:this.$props.widget.id,locale:this.getLocale(),key:"__label",value:e.target.value})}}},"data-v-8ca6f3f6",false,undefined,!1,$e,void 0,void 0),wr=Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"control-wrapper"},[n("a",{staticClass:"tag-selection",class:{selected:"h1"===e.widget.properties.tagType},on:{click:function(t){return e.setTagType("h1")}}},[e._v("H1")]),e._v(" "),n("a",{staticClass:"tag-selection",class:{selected:"h2"===e.widget.properties.tagType},on:{click:function(t){return e.setTagType("h2")}}},[e._v("H2")]),e._v(" "),n("a",{staticClass:"tag-selection",class:{selected:"h3"===e.widget.properties.tagType},on:{click:function(t){return e.setTagType("h3")}}},[e._v("H3")]),e._v(" "),n("a",{staticClass:"tag-selection",class:{selected:"h4"===e.widget.properties.tagType},on:{click:function(t){return e.setTagType("h4")}}},[e._v("H4")]),e._v(" "),n("a",{staticClass:"tag-selection",class:{selected:"h5"===e.widget.properties.tagType},on:{click:function(t){return e.setTagType("h5")}}},[e._v("H5")]),e._v(" "),n("a",{staticClass:"tag-selection",class:{selected:"h6"===e.widget.properties.tagType},on:{click:function(t){return e.setTagType("h6")}}},[e._v("H6")]),e._v(" "),n("a",{staticClass:"tag-selection",class:{selected:"p"===e.widget.properties.tagType},on:{click:function(t){return e.setTagType("p")}}},[e._v("Paragraph")]),e._v(" "),n("a",{staticClass:"tag-selection",class:{selected:"small"===e.widget.properties.tagType},on:{click:function(t){return e.setTagType("small")}}},[e._v("Small")])])},staticRenderFns:[]},(function(e){e&&e("data-v-07c4de14_0",{source:".control-wrapper[data-v-07c4de14]{display:flex;flex-direction:row;border-radius:8px;border:1px solid #e8e8e8;background-color:#fff;overflow:hidden}.tag-selection[data-v-07c4de14]{height:30px;min-width:40px;padding:0 5px;display:flex;align-items:center;justify-content:center;cursor:pointer}.tag-selection[data-v-07c4de14]:hover{background-color:#e8e8e8}.tag-selection.selected[data-v-07c4de14]{background-color:#03a9f4;color:#fff}",map:void 0,media:void 0})}),{props:{widget:Object,widgets:Object,widgetItems:Object,pageState:Object,setWidgetState:Function},inject:["updateWidget"],methods:{setTagType:function(e){this.widget.properties.tagType=e,this.updateWidget(this.widget)}}},"data-v-07c4de14",false,undefined,!1,$e,void 0,void 0),yr={props:_r},br={props:_r},_r={widget:Object,widgetControls:Object,widgetItems:Object,pageState:Object,setWidgetState:Function,getWidgetState:Function,view:String,wrapperRef:Object,t:Object},xr={alert:Ve,header:He,html:Ye,pages:er,question:or,section:pr,separator:hr,text:{create:function(e){return{id:qe(),type:"text",properties:a({tagType:"p"},e)}},display:Pe({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)(e.widget.properties.tagType,{tag:"component",staticClass:"text"},[e._v(e._s(e.t("__label",e.widget.id)))])},staticRenderFns:[]},undefined,yr,"data-v-150542f2",false,undefined,!1,void 0,void 0,void 0),builder:mr,builderControl:wr,readOnly:Pe({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)(e.widget.properties.tagType,{tag:"component",staticClass:"text"},[e._v(e._s(e.t("__label",e.widget.id)))])},staticRenderFns:[]},(function(e){e&&e("data-v-45abb8d7_0",{source:".text[data-v-45abb8d7]{padding:0 10px}",map:void 0,media:void 0})}),br,"data-v-45abb8d7",false,undefined,!1,$e,void 0,void 0)}},Cr=function(){function e(t){var n=t.display,r=t.form,i=t.name,o=t.key,a=t.create;l(this,e),p(this,"_display",void 0),p(this,"_form",void 0),p(this,"_name",void 0),p(this,"_key",void 0),p(this,"_create",void 0),this._create=a,this._key=o,this._name=i,this._display=n,this._form=r}return u(e,[{key:"create",get:function(){return this._create}},{key:"display",get:function(){return this._display}},{key:"form",get:function(){return this._form}},{key:"name",get:function(){return this._name}},{key:"key",get:function(){return this._key}}]),e}(),Sr=new Cr({key:"anchor",name:"Anchor",create:function(e){return{type:this.key,properties:a({id:"",top:0},e)}},display:Pe({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("a",{staticClass:"anchor",style:{top:(e.properties.top||0)+"px"},attrs:{id:this.$props.properties.id}})},staticRenderFns:[]},(function(e){e&&e("data-v-4044acf0_0",{source:"a.anchor[data-v-4044acf0]{position:absolute;top:0;left:0}",map:void 0,media:void 0})}),{props:{wrapperRef:HTMLDivElement,properties:Object}},"data-v-4044acf0",false,undefined,!1,$e,void 0,void 0),form:Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"field-wrapper"},[n("label",{attrs:{for:"id"}},[e._v("ID")]),e._v(" "),n("input",{attrs:{id:"id",type:"text"},domProps:{value:e.properties.id},on:{change:function(t){return e.onChange("id",t.target.value)}}})]),e._v(" "),n("div",{staticClass:"field-wrapper"},[n("label",{attrs:{for:"top"}},[e._v("Position from top (px)")]),e._v(" "),n("input",{attrs:{id:"top",type:"number"},domProps:{value:e.properties.top},on:{change:function(t){return e.onChange("top",parseFloat(t.target.value))}}})])])},staticRenderFns:[]},(function(e){e&&e("data-v-a38cb820_0",{source:".field-wrapper[data-v-a38cb820]{padding:5px 0 15px 0}.field-wrapper.row[data-v-a38cb820]{display:flex;flex-direction:row;align-items:center}.field-wrapper>label[data-v-a38cb820]{display:block;margin-bottom:3px;font-size:9pt}.field-wrapper.row>label[data-v-a38cb820]{margin-right:5px}.field-wrapper select[data-v-a38cb820]{padding:5px;border-width:0 0 1px 0}.field-wrapper input[data-v-a38cb820]{padding:5px;border-width:0 0 1px 0}.field-row[data-v-a38cb820]{display:flex;flex-direction:row}",map:void 0,media:void 0})}),{props:{effect:Object,properties:Object,widgetItem:Object},methods:{onChange:function(e,t){this.$emit("onPropertiesChange",a(a({},this.$props.properties),{},p({},e,t)))}}},"data-v-a38cb820",false,undefined,!1,$e,void 0,void 0)});
/*! @license is-dom-node v1.0.4

	Copyright 2018 Fisssion LLC.

	Permission is hereby granted, free of charge, to any person obtaining a copy
	of this software and associated documentation files (the "Software"), to deal
	in the Software without restriction, including without limitation the rights
	to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	copies of the Software, and to permit persons to whom the Software is
	furnished to do so, subject to the following conditions:

	The above copyright notice and this permission notice shall be included in all
	copies or substantial portions of the Software.

	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
	SOFTWARE.

*/
function kr(e){return"object"==typeof window.Node?e instanceof window.Node:null!==e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName}
/*! @license is-dom-node-list v1.2.1

	Copyright 2018 Fisssion LLC.

	Permission is hereby granted, free of charge, to any person obtaining a copy
	of this software and associated documentation files (the "Software"), to deal
	in the Software without restriction, including without limitation the rights
	to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	copies of the Software, and to permit persons to whom the Software is
	furnished to do so, subject to the following conditions:

	The above copyright notice and this permission notice shall be included in all
	copies or substantial portions of the Software.

	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
	SOFTWARE.

*/
/*! @license Tealight v0.3.6

	Copyright 2018 Fisssion LLC.

	Permission is hereby granted, free of charge, to any person obtaining a copy
	of this software and associated documentation files (the "Software"), to deal
	in the Software without restriction, including without limitation the rights
	to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	copies of the Software, and to permit persons to whom the Software is
	furnished to do so, subject to the following conditions:

	The above copyright notice and this permission notice shall be included in all
	copies or substantial portions of the Software.

	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
	SOFTWARE.

*/
function Ir(e,t){if(void 0===t&&(t=document),e instanceof Array)return e.filter(kr);if(kr(e))return[e];if(function(e){var t=Object.prototype.toString.call(e);return"object"==typeof window.NodeList?e instanceof window.NodeList:null!==e&&"object"==typeof e&&"number"==typeof e.length&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(t)&&(0===e.length||kr(e[0]))}(e))return Array.prototype.slice.call(e);if("string"==typeof e)try{var n=t.querySelectorAll(e);return Array.prototype.slice.call(n)}catch(e){return[]}return[]}
/*! @license Rematrix v0.3.0

	Copyright 2018 Julian Lloyd.

	Permission is hereby granted, free of charge, to any person obtaining a copy
	of this software and associated documentation files (the "Software"), to deal
	in the Software without restriction, including without limitation the rights
	to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	copies of the Software, and to permit persons to whom the Software is
	furnished to do so, subject to the following conditions:

	The above copyright notice and this permission notice shall be included in
	all copies or substantial portions of the Software.

	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
	THE SOFTWARE.
*/function Pr(e){if(e.constructor!==Array)throw new TypeError("Expected array.");if(16===e.length)return e;if(6===e.length){var t=Or();return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}throw new RangeError("Expected array with either 6 or 16 values.")}function Or(){for(var e=[],t=0;t<16;t++)t%5==0?e.push(1):e.push(0);return e}function $r(e,t){for(var n=Pr(e),r=Pr(t),i=[],o=0;o<4;o++)for(var a=[n[o],n[o+4],n[o+8],n[o+12]],s=0;s<4;s++){var d=4*s,l=[r[d],r[d+1],r[d+2],r[d+3]],c=a[0]*l[0]+a[1]*l[1]+a[2]*l[2]+a[3]*l[3];i[o+d]=c}return i}function jr(e){if("string"==typeof e){var t=e.match(/matrix(3d)?\(([^)]+)\)/);if(t)return Pr(t[2].split(", ").map(parseFloat))}return Or()}function Er(e,t){var n=Or();return n[0]=e,n[5]="number"==typeof t?t:e,n}
/*! @license miniraf v1.0.0

	Copyright 2018 Fisssion LLC.

	Permission is hereby granted, free of charge, to any person obtaining a copy
	of this software and associated documentation files (the "Software"), to deal
	in the Software without restriction, including without limitation the rights
	to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	copies of the Software, and to permit persons to whom the Software is
	furnished to do so, subject to the following conditions:

	The above copyright notice and this permission notice shall be included in all
	copies or substantial portions of the Software.

	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
	SOFTWARE.

*/
var Tr,Wr=(Tr=Date.now(),function(e){var t=Date.now();t-Tr>16?(Tr=t,e(t)):setTimeout((function(){return Wr(e)}),0)}),Rr=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Wr,Lr={delay:0,distance:"0",duration:600,easing:"cubic-bezier(0.5, 0, 0, 1)",interval:0,opacity:0,origin:"bottom",rotate:{x:0,y:0,z:0},scale:1,cleanup:!1,container:document.documentElement,desktop:!0,mobile:!0,reset:!1,useDelay:"always",viewFactor:0,viewOffset:{top:0,right:0,bottom:0,left:0},afterReset:function(){},afterReveal:function(){},beforeReset:function(){},beforeReveal:function(){}};var Ar={success:function(){document.documentElement.classList.add("sr"),document.body?document.body.style.height="100%":document.addEventListener("DOMContentLoaded",(function(){document.body.style.height="100%"}))},failure:function(){return document.documentElement.classList.remove("sr"),{clean:function(){},destroy:function(){},reveal:function(){},sync:function(){},get noop(){return!0}}}};function Fr(e){return null!==e&&e instanceof Object&&(e.constructor===Object||"[object Object]"===Object.prototype.toString.call(e))}function Mr(e,t){if(Fr(e))return Object.keys(e).forEach((function(n){return t(e[n],n,e)}));if(e instanceof Array)return e.forEach((function(n,r){return t(n,r,e)}));throw new TypeError("Expected either an array or object literal.")}function Dr(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(this.constructor.debug&&console){var r="%cScrollReveal: "+e;t.forEach((function(e){return r+="\n — "+e})),console.log(r,"color: #ea654b;")}}function Nr(){var e=this,t={active:[],stale:[]},n={active:[],stale:[]},r={active:[],stale:[]};try{Mr(Ir("[data-sr-id]"),(function(e){var n=parseInt(e.getAttribute("data-sr-id"));t.active.push(n)}))}catch(e){throw e}Mr(this.store.elements,(function(e){-1===t.active.indexOf(e.id)&&t.stale.push(e.id)})),Mr(t.stale,(function(t){return delete e.store.elements[t]})),Mr(this.store.elements,(function(e){-1===r.active.indexOf(e.containerId)&&r.active.push(e.containerId),e.hasOwnProperty("sequence")&&-1===n.active.indexOf(e.sequence.id)&&n.active.push(e.sequence.id)})),Mr(this.store.containers,(function(e){-1===r.active.indexOf(e.id)&&r.stale.push(e.id)})),Mr(r.stale,(function(t){var n=e.store.containers[t].node;n.removeEventListener("scroll",e.delegate),n.removeEventListener("resize",e.delegate),delete e.store.containers[t]})),Mr(this.store.sequences,(function(e){-1===n.active.indexOf(e.id)&&n.stale.push(e.id)})),Mr(n.stale,(function(t){return delete e.store.sequences[t]}))}var qr=function(){var e={},t=document.documentElement.style;function n(n,r){if(void 0===r&&(r=t),n&&"string"==typeof n){if(e[n])return e[n];if("string"==typeof r[n])return e[n]=n;if("string"==typeof r["-webkit-"+n])return e[n]="-webkit-"+n;throw new RangeError('Unable to find "'+n+'" style property.')}throw new TypeError("Expected a string.")}return n.clearCache=function(){return e={}},n}();function Vr(e){var t=window.getComputedStyle(e.node),n=t.position,r=e.config,i={},o=(e.node.getAttribute("style")||"").match(/[\w-]+\s*:\s*[^;]+\s*/gi)||[];i.computed=o?o.map((function(e){return e.trim()})).join("; ")+";":"",i.generated=o.some((function(e){return e.match(/visibility\s?:\s?visible/i)}))?i.computed:o.concat(["visibility: visible"]).map((function(e){return e.trim()})).join("; ")+";";var a,s,d,l=parseFloat(t.opacity),c=isNaN(parseFloat(r.opacity))?parseFloat(t.opacity):parseFloat(r.opacity),u={computed:l!==c?"opacity: "+l+";":"",generated:l!==c?"opacity: "+c+";":""},p=[];if(parseFloat(r.distance)){var f="top"===r.origin||"bottom"===r.origin?"Y":"X",g=r.distance;"top"!==r.origin&&"left"!==r.origin||(g=/^-/.test(g)?g.substr(1):"-"+g);var v=g.match(/(^-?\d+\.?\d?)|(em$|px$|%$)/g),h=v[0];switch(v[1]){case"em":g=parseInt(t.fontSize)*h;break;case"px":g=h;break;case"%":g="Y"===f?e.node.getBoundingClientRect().height*h/100:e.node.getBoundingClientRect().width*h/100;break;default:throw new RangeError("Unrecognized or missing distance unit.")}"Y"===f?p.push(function(e){var t=Or();return t[13]=e,t}(g)):p.push(function(e){var t=Or();return t[12]=e,t}(g))}r.rotate.x&&p.push((a=r.rotate.x,s=Math.PI/180*a,(d=Or())[5]=d[10]=Math.cos(s),d[6]=d[9]=Math.sin(s),d[9]*=-1,d)),r.rotate.y&&p.push(function(e){var t=Math.PI/180*e,n=Or();return n[0]=n[10]=Math.cos(t),n[2]=n[8]=Math.sin(t),n[2]*=-1,n}(r.rotate.y)),r.rotate.z&&p.push(function(e){var t=Math.PI/180*e,n=Or();return n[0]=n[5]=Math.cos(t),n[1]=n[4]=Math.sin(t),n[4]*=-1,n}(r.rotate.z)),1!==r.scale&&(0===r.scale?p.push(Er(2e-4)):p.push(Er(r.scale)));var m={};if(p.length){m.property=qr("transform"),m.computed={raw:t[m.property],matrix:jr(t[m.property])},p.unshift(m.computed.matrix);var w=p.reduce($r);m.generated={initial:m.property+": matrix3d("+w.join(", ")+");",final:m.property+": matrix3d("+m.computed.matrix.join(", ")+");"}}else m.generated={initial:"",final:""};var y={};if(u.generated||m.generated.initial){y.property=qr("transition"),y.computed=t[y.property],y.fragments=[];var b=r.delay,_=r.duration,x=r.easing;u.generated&&y.fragments.push({delayed:"opacity "+_/1e3+"s "+x+" "+b/1e3+"s",instant:"opacity "+_/1e3+"s "+x+" 0s"}),m.generated.initial&&y.fragments.push({delayed:m.property+" "+_/1e3+"s "+x+" "+b/1e3+"s",instant:m.property+" "+_/1e3+"s "+x+" 0s"}),y.computed&&!y.computed.match(/all 0s|none 0s/)&&y.fragments.unshift({delayed:y.computed,instant:y.computed});var C=y.fragments.reduce((function(e,t,n){return e.delayed+=0===n?t.delayed:", "+t.delayed,e.instant+=0===n?t.instant:", "+t.instant,e}),{delayed:"",instant:""});y.generated={delayed:y.property+": "+C.delayed+";",instant:y.property+": "+C.instant+";"}}else y.generated={delayed:"",instant:""};return{inline:i,opacity:u,position:n,transform:m,transition:y}}function Br(e,t){t.split(";").forEach((function(t){var n=t.split(":"),r=n[0],i=n.slice(1);r&&i&&(e.style[r.trim()]=i.join(":"))}))}function zr(e){var t,n=this;try{Mr(Ir(e),(function(e){var r=e.getAttribute("data-sr-id");if(null!==r){t=!0;var i=n.store.elements[r];i.callbackTimer&&window.clearTimeout(i.callbackTimer.clock),Br(i.node,i.styles.inline.generated),e.removeAttribute("data-sr-id"),delete n.store.elements[r]}}))}catch(e){return Dr.call(this,"Clean failed.",e.message)}if(t)try{Nr.call(this)}catch(e){return Dr.call(this,"Clean failed.",e.message)}}function Hr(){var e=this;Mr(this.store.elements,(function(e){Br(e.node,e.styles.inline.generated),e.node.removeAttribute("data-sr-id")})),Mr(this.store.containers,(function(t){var n=t.node===document.documentElement?window:t.node;n.removeEventListener("scroll",e.delegate),n.removeEventListener("resize",e.delegate)})),this.store={containers:{},elements:{},history:[],sequences:{}}}function Ur(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(Fr(e))return Mr(t,(function(t){Mr(t,(function(t,n){Fr(t)?(e[n]&&Fr(e[n])||(e[n]={}),Ur(e[n],t)):e[n]=t}))})),e;throw new TypeError("Target must be an object literal.")}function Yr(e){return void 0===e&&(e=navigator.userAgent),/Android|iPhone|iPad|iPod/i.test(e)}var Kr,Jr=(Kr=0,function(){return Kr++});function Gr(){var e=this;Nr.call(this),Mr(this.store.elements,(function(e){var t=[e.styles.inline.generated];e.visible?(t.push(e.styles.opacity.computed),t.push(e.styles.transform.generated.final),e.revealed=!0):(t.push(e.styles.opacity.generated),t.push(e.styles.transform.generated.initial),e.revealed=!1),Br(e.node,t.filter((function(e){return""!==e})).join(" "))})),Mr(this.store.containers,(function(t){var n=t.node===document.documentElement?window:t.node;n.addEventListener("scroll",e.delegate),n.addEventListener("resize",e.delegate)})),this.delegate(),this.initTimeout=null}function Qr(e,t){void 0===t&&(t={});var n=t.pristine||this.pristine,r="always"===e.config.useDelay||"onload"===e.config.useDelay&&n||"once"===e.config.useDelay&&!e.seen,i=e.visible&&!e.revealed,o=!e.visible&&e.revealed&&e.config.reset;return t.reveal||i?Xr.call(this,e,r):t.reset||o?Zr.call(this,e):void 0}function Xr(e,t){var n=[e.styles.inline.generated,e.styles.opacity.computed,e.styles.transform.generated.final];t?n.push(e.styles.transition.generated.delayed):n.push(e.styles.transition.generated.instant),e.revealed=e.seen=!0,Br(e.node,n.filter((function(e){return""!==e})).join(" ")),ei.call(this,e,t)}function Zr(e){var t=[e.styles.inline.generated,e.styles.opacity.generated,e.styles.transform.generated.initial,e.styles.transition.generated.instant];e.revealed=!1,Br(e.node,t.filter((function(e){return""!==e})).join(" ")),ei.call(this,e)}function ei(e,t){var n=this,r=t?e.config.duration+e.config.delay:e.config.duration,i=e.revealed?e.config.beforeReveal:e.config.beforeReset,o=e.revealed?e.config.afterReveal:e.config.afterReset,a=0;e.callbackTimer&&(a=Date.now()-e.callbackTimer.start,window.clearTimeout(e.callbackTimer.clock)),i(e.node),e.callbackTimer={start:Date.now(),clock:window.setTimeout((function(){o(e.node),e.callbackTimer=null,e.revealed&&!e.config.reset&&e.config.cleanup&&zr.call(n,e.node)}),r-a)}}function ti(e,t){if(void 0===t&&(t=this.pristine),!e.visible&&e.revealed&&e.config.reset)return Qr.call(this,e,{reset:!0});var n=this.store.sequences[e.sequence.id],r=e.sequence.index;if(n){var i=new ri(n,"visible",this.store),o=new ri(n,"revealed",this.store);if(n.models={visible:i,revealed:o},!o.body.length){var a=n.members[i.body[0]],s=this.store.elements[a];if(s)return ii.call(this,n,i.body[0],-1,t),ii.call(this,n,i.body[0],1,t),Qr.call(this,s,{reveal:!0,pristine:t})}if(!n.blocked.head&&r===[].concat(o.head).pop()&&r>=[].concat(i.body).shift())return ii.call(this,n,r,-1,t),Qr.call(this,e,{reveal:!0,pristine:t});if(!n.blocked.foot&&r===[].concat(o.foot).shift()&&r<=[].concat(i.body).pop())return ii.call(this,n,r,1,t),Qr.call(this,e,{reveal:!0,pristine:t})}}function ni(e){var t=Math.abs(e);if(isNaN(t))throw new RangeError("Invalid sequence interval.");this.id=Jr(),this.interval=Math.max(t,16),this.members=[],this.models={},this.blocked={head:!1,foot:!1}}function ri(e,t,n){var r=this;this.head=[],this.body=[],this.foot=[],Mr(e.members,(function(e,i){var o=n.elements[e];o&&o[t]&&r.body.push(i)})),this.body.length&&Mr(e.members,(function(e,i){var o=n.elements[e];o&&!o[t]&&(i<r.body[0]?r.head.push(i):r.foot.push(i))}))}function ii(e,t,n,r){var i=this,o=["head",null,"foot"][1+n],a=e.members[t+n],s=this.store.elements[a];e.blocked[o]=!0,setTimeout((function(){e.blocked[o]=!1,s&&ti.call(i,s,r)}),e.interval)}function oi(e,t,n){var r=this;void 0===t&&(t={}),void 0===n&&(n=!1);var i,o=[],a=t.interval||Lr.interval;try{a&&(i=new ni(a));var s=Ir(e);if(!s.length)throw new Error("Invalid reveal target.");var d=s.reduce((function(e,n){var a={},s=n.getAttribute("data-sr-id");s?(Ur(a,r.store.elements[s]),Br(a.node,a.styles.inline.computed)):(a.id=Jr(),a.node=n,a.seen=!1,a.revealed=!1,a.visible=!1);var d=Ur({},a.config||r.defaults,t);if(!d.mobile&&Yr()||!d.desktop&&!Yr())return s&&zr.call(r,a),e;var l,c=Ir(d.container)[0];if(!c)throw new Error("Invalid container.");return c.contains(n)?(l=function(e){var t=[],n=arguments.length-1;for(;n-- >0;)t[n]=arguments[n+1];var r=null;return Mr(t,(function(t){Mr(t,(function(t){null===r&&t.node===e&&(r=t.id)}))})),r}(c,o,r.store.containers),null===l&&(l=Jr(),o.push({id:l,node:c})),a.config=d,a.containerId=l,a.styles=Vr(a),i&&(a.sequence={id:i.id,index:i.members.length},i.members.push(a.id)),e.push(a),e):e}),[]);Mr(d,(function(e){r.store.elements[e.id]=e,e.node.setAttribute("data-sr-id",e.id)}))}catch(e){return Dr.call(this,"Reveal failed.",e.message)}Mr(o,(function(e){r.store.containers[e.id]={id:e.id,node:e.node}})),i&&(this.store.sequences[i.id]=i),!0!==n&&(this.store.history.push({target:e,options:t}),this.initTimeout&&window.clearTimeout(this.initTimeout),this.initTimeout=window.setTimeout(Gr.bind(this),0))}function ai(){var e=this;Mr(this.store.history,(function(t){oi.call(e,t.target,t.options,!0)})),Gr.call(this)}var si=Math.sign||function(e){return(e>0)-(e<0)||+e};function di(e,t){var n=t?e.node.clientHeight:e.node.offsetHeight,r=t?e.node.clientWidth:e.node.offsetWidth,i=0,o=0,a=e.node;do{isNaN(a.offsetTop)||(i+=a.offsetTop),isNaN(a.offsetLeft)||(o+=a.offsetLeft),a=a.offsetParent}while(a);return{bounds:{top:i,right:o+r,bottom:i+n,left:o},height:n,width:r}}function li(e){var t,n;return e.node===document.documentElement?(t=window.pageYOffset,n=window.pageXOffset):(t=e.node.scrollTop,n=e.node.scrollLeft),{top:t,left:n}}function ci(e){void 0===e&&(e={});var t=this.store.containers[e.containerId];if(t){var n=Math.max(0,Math.min(1,e.config.viewFactor)),r=e.config.viewOffset,i=e.geometry.bounds.top+e.geometry.height*n,o=e.geometry.bounds.right-e.geometry.width*n,a=e.geometry.bounds.bottom-e.geometry.height*n,s=e.geometry.bounds.left+e.geometry.width*n,d=t.geometry.bounds.top+t.scroll.top+r.top,l=t.geometry.bounds.right+t.scroll.left-r.right,c=t.geometry.bounds.bottom+t.scroll.top-r.bottom,u=t.geometry.bounds.left+t.scroll.left+r.left;return i<c&&o>u&&a>d&&s<l||"fixed"===e.styles.position}}function ui(e,t){var n=this;void 0===e&&(e={type:"init"}),void 0===t&&(t=this.store.elements),Rr((function(){var r="init"===e.type||"resize"===e.type;Mr(n.store.containers,(function(e){r&&(e.geometry=di.call(n,e,!0));var t=li.call(n,e);e.scroll&&(e.direction={x:si(t.left-e.scroll.left),y:si(t.top-e.scroll.top)}),e.scroll=t})),Mr(t,(function(e){(r||void 0===e.geometry)&&(e.geometry=di.call(n,e)),e.visible=ci.call(n,e)})),Mr(t,(function(e){e.sequence?ti.call(n,e):Qr.call(n,e)})),n.pristine=!1}))}var pi,fi,gi,vi,hi,mi,wi,yi;function bi(e){var t;if(void 0===e&&(e={}),void 0===this||Object.getPrototypeOf(this)!==bi.prototype)return new bi(e);if(!bi.isSupported())return Dr.call(this,"Instantiation failed.","This browser is not supported."),Ar.failure();try{t=Ur({},mi||Lr,e)}catch(e){return Dr.call(this,"Invalid configuration.",e.message),Ar.failure()}try{if(!Ir(t.container)[0])throw new Error("Invalid container.")}catch(e){return Dr.call(this,e.message),Ar.failure()}return!(mi=t).mobile&&Yr()||!mi.desktop&&!Yr()?(Dr.call(this,"This device is disabled.","desktop: "+mi.desktop,"mobile: "+mi.mobile),Ar.failure()):(Ar.success(),this.store={containers:{},elements:{},history:[],sequences:{}},this.pristine=!0,pi=pi||ui.bind(this),fi=fi||Hr.bind(this),gi=gi||oi.bind(this),vi=vi||zr.bind(this),hi=hi||ai.bind(this),Object.defineProperty(this,"delegate",{get:function(){return pi}}),Object.defineProperty(this,"destroy",{get:function(){return fi}}),Object.defineProperty(this,"reveal",{get:function(){return gi}}),Object.defineProperty(this,"clean",{get:function(){return vi}}),Object.defineProperty(this,"sync",{get:function(){return hi}}),Object.defineProperty(this,"defaults",{get:function(){return mi}}),Object.defineProperty(this,"version",{get:function(){return"4.0.9"}}),Object.defineProperty(this,"noop",{get:function(){return!1}}),yi||(yi=this))}bi.isSupported=function(){return function(){var e=document.documentElement.style;return"transform"in e||"WebkitTransform"in e}()&&function(){var e=document.documentElement.style;return"transition"in e||"WebkitTransition"in e}()},Object.defineProperty(bi,"debug",{get:function(){return wi||!1},set:function(e){return wi="boolean"==typeof e?e:wi}}),bi();var _i,xi={props:{wrapperRef:HTMLDivElement,properties:Object},data:function(){return{initialized:!1}},unmounted:function(){this.$props.wrapperRef&&bi().clean(this.$props.wrapperRef)},computed:{watchWrapperPropsChange:function(){return console.log("has changed",{properties:this.$props.properties,wrapperRef:this.$props.wrapperRef}),{properties:this.$props.properties,wrapperRef:this.$props.wrapperRef}}},watch:{watchWrapperPropsChange:{handler:function(e){var t=e.properties,n=e.wrapperRef;n&&(console.log("clean scroll reveal"),bi().clean(n),bi(t).reveal(n),console.log("revealed"))},immediate:!0}}},Ci=xi,Si=Pe({render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]},undefined,Ci,undefined,false,undefined,!1,void 0,void 0,void 0),ki=Si,Ii={props:{effect:Object,properties:Object,widgetItem:Object},methods:{onChange:function(e,t){this.$emit("onPropertiesChange",a(a({},this.$props.properties),{},p({},e,t)))}}},Pi=Ii,Oi=function(e){e&&e("data-v-3e4d4309_0",{source:".field-wrapper[data-v-3e4d4309]{padding:5px 0 15px 0}.field-wrapper.row[data-v-3e4d4309]{display:flex;flex-direction:row;align-items:center}.field-wrapper>label[data-v-3e4d4309]{display:block;margin-bottom:3px;font-size:9pt}.field-wrapper.row>label[data-v-3e4d4309]{margin-right:5px}.field-wrapper select[data-v-3e4d4309]{padding:5px;border-width:0 0 1px 0}.field-wrapper input[data-v-3e4d4309]{padding:5px;border-width:0 0 1px 0}.field-row[data-v-3e4d4309]{display:flex;flex-direction:row}.flex-1[data-v-3e4d4309]{flex:1}",map:void 0,media:void 0})},$i=Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"field-wrapper row"},[n("label",{attrs:{for:"origin"}},[e._v("Origin")]),e._v(" "),n("select",{attrs:{id:"origin"},on:{change:function(t){return e.onChange("origin",t.target.value)}}},[n("option",{attrs:{value:"left"},domProps:{selected:"left"===e.properties.origin}},[e._v("\n        left\n      ")]),e._v(" "),n("option",{attrs:{value:"right"},domProps:{selected:"right"===e.properties.origin}},[e._v("\n        right\n      ")]),e._v(" "),n("option",{attrs:{value:"top"},domProps:{selected:"top"===e.properties.origin}},[e._v("top")]),e._v(" "),n("option",{attrs:{value:"bottom"},domProps:{selected:"bottom"===e.properties.origin}},[e._v("\n        bottom\n      ")])])]),e._v(" "),n("div",{staticClass:"field-wrapper"},[n("label",{attrs:{for:"delay"}},[e._v("Delay (ms)")]),e._v(" "),n("input",{attrs:{id:"delay",type:"number"},domProps:{value:e.properties.delay},on:{change:function(t){return e.onChange("delay",parseFloat(t.target.value))}}})]),e._v(" "),n("div",{staticClass:"field-wrapper"},[n("label",{attrs:{for:"duration"}},[e._v("Duration (ms)")]),e._v(" "),n("input",{attrs:{id:"duration",type:"number"},domProps:{value:e.properties.duration},on:{change:function(t){return e.onChange("duration",parseFloat(t.target.value))}}})]),e._v(" "),n("div",{staticClass:"field-wrapper"},[n("label",{attrs:{for:"distance"}},[e._v("Distance")]),e._v(" "),n("div",{staticClass:"field-row"},[n("input",{attrs:{id:"distance",type:"number"},domProps:{value:e.properties.distance.replace(/%|px/,"")},on:{change:function(t){return e.onChange("distance",t.target.value+e.properties.distance.replace(/^\d+/,""))}}}),e._v(" "),n("select",{on:{change:function(t){return e.onChange("distance",e.properties.distance.replace(/%|px/,"")+t.target.value)}}},[n("option",{attrs:{value:"%"},domProps:{selected:/%$/.test(e.properties.distance)}},[e._v("\n          %\n        ")]),e._v(" "),n("option",{attrs:{value:"px"},domProps:{selected:/px$/.test(e.properties.distance)}},[e._v("\n          px\n        ")])])])])])},staticRenderFns:[]},Oi,Pi,"data-v-3e4d4309",false,undefined,!1,$e,void 0,void 0),ji=$i,Ei=new Cr({key:"reveal",name:"Reveal",create:function(e){return{type:this.key,properties:a({delay:100,duration:300,distance:"300px",origin:"left"},e)}},display:ki,form:ji}),Ti={anchor:Sr,reveal:Ei},Wi=u((function e(t){var n=t.builder,r=t.display,i=t.readOnly;l(this,e),p(this,"builder",void 0),p(this,"display",void 0),p(this,"readOnly",void 0),p(this,"tags",void 0),this.builder=n,this.display=r,this.readOnly=i,this.tags=[]})),Ri={props:{properties:Object,widget:Object,onChange:Function,value:String},inject:["t"],data:function(){return{options:[]}},watch:p({},"properties.options",{handler:function(){var e=this;this.$data.options=this.$props.properties.options.map((function(t){return{value:t.value,label:e.t(t.labelKey,e.$props.widget.id)}}))},immediate:!0}),computed:{selectedValue:function(){var e=this;return this.$data.options.find((function(t){return t.value===e.$props.value}))}},methods:{onSelectChange:function(e){this.$props.onChange(e)}}},Li=Ri,Ai=function(e){e&&e("data-v-531591b8_0",{source:".button-group-wrapper[data-v-531591b8]{display:inline-flex;flex-direction:row;border:1px solid #000;border-radius:8px;overflow:hidden}button[data-v-531591b8]{border:1px solid transparent;cursor:pointer;background-color:#fff}button[data-v-531591b8]:not(.isLast){border-right-color:#000}button.selected[data-v-531591b8]{background-color:#03a9f4;color:#fff}",map:void 0,media:void 0})},Fi=Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"button-group-wrapper"},e._l(e.options,(function(t,r){return n("button",{key:t.value,class:{isLast:r===e.options.length-1,selected:e.value===t.value},on:{click:function(){return e.onSelectChange(t.value)}}},[e._v("\n    "+e._s(t.label)+"\n  ")])})),0)},staticRenderFns:[]},Ai,Li,"data-v-531591b8",false,undefined,!1,$e,void 0,void 0),Mi=Fi,Di={props:{properties:Object,widget:Object,onChange:Function,value:String},inject:["t"],data:function(){return{translatedLabel:""}},methods:{getLabelByValue:function(e){var t;return this.t((null===(t=this.$props.properties.options.find((function(t){return t.value===e})))||void 0===t?void 0:t.labelKey)||"",this.$props.widget.id)}},watch:{value:{handler:function(e){this.$data.translatedLabel=this.getLabelByValue(e)},immediate:!0}}},Ni=Di,qi=Pe({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v("\n  "+e._s(e.translatedLabel)+"\n")])},staticRenderFns:[]},undefined,Ni,undefined,false,undefined,!1,void 0,void 0,void 0),Vi=qi,Bi=new Wi({display:Mi,readOnly:Vi}),zi={props:{properties:Object,widget:Object,onChange:Function,value:Boolean},inject:["t"],methods:{onToggle:function(e){var t,n;null===(t=(n=this.$props).onChange)||void 0===t||t.call(n,e.target.checked)}}},Hi=zi,Ui=Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("label",[n("input",{attrs:{type:"checkbox",name:e.widget.id},domProps:{checked:e.value},on:{click:e.onToggle}}),e._v("\n    "+e._s(e.t("__checkboxLabel",e.widget.id))+"\n  ")])])},staticRenderFns:[]},undefined,Hi,undefined,false,undefined,!1,void 0,void 0,void 0),Yi=Ui,Ki={props:{properties:Object,widget:Object,onChange:Function,value:Boolean,widgetItems:Object},inject:["t"],methods:{onToggle:function(e){var t,n;null===(t=(n=this.$props).onChange)||void 0===t||t.call(n,e.target.checked)}}},Ji=Ki,Gi=Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("label",[n("input",{attrs:{type:"checkbox",name:e.widget.id},domProps:{checked:e.value},on:{click:e.onToggle}}),e._v("\n    "+e._s(e.t("__checkboxLabel",e.widget.id))+"\n  ")])])},staticRenderFns:[]},undefined,Ji,undefined,false,undefined,!1,void 0,void 0,void 0),Qi=Gi,Xi={props:{properties:Object,widget:Object,onChange:Function,value:Boolean},inject:["t"]},Zi=Xi,eo=Pe({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v("\n  "+e._s(!!e.value)+"\n")])},staticRenderFns:[]},undefined,Zi,undefined,false,undefined,!1,void 0,void 0,void 0),to=eo,no=new Wi({builder:Yi,display:Qi,readOnly:to}),ro=yt((function(e,t){e.exports=function(){var e=1e3,t=6e4,n=36e5,r="millisecond",i="second",o="minute",a="hour",s="day",d="week",l="month",c="quarter",u="year",p="date",f="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},m=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},w={s:m,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+m(r,2,"0")+":"+m(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,l),o=n-i<0,a=t.clone().add(r+(o?-1:1),l);return+(-(r+(n-i)/(o?i-a:a-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:l,y:u,w:d,d:s,D:p,h:a,m:o,s:i,ms:r,Q:c}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},y="en",b={};b[y]=h;var _=function(e){return e instanceof k},x=function e(t,n,r){var i;if(!t)return y;if("string"==typeof t){var o=t.toLowerCase();b[o]&&(i=o),n&&(b[o]=n,i=o);var a=t.split("-");if(!i&&a.length>1)return e(a[0])}else{var s=t.name;b[s]=t,i=s}return!r&&i&&(y=i),i||!r&&y},C=function(e,t){if(_(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new k(n)},S=w;S.l=x,S.i=_,S.w=function(e,t){return C(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var k=function(){function h(e){this.$L=x(e.locale,null,!0),this.parse(e)}var m=h.prototype;return m.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(S.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(g);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},m.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},m.$utils=function(){return S},m.isValid=function(){return!(this.$d.toString()===f)},m.isSame=function(e,t){var n=C(e);return this.startOf(t)<=n&&n<=this.endOf(t)},m.isAfter=function(e,t){return C(e)<this.startOf(t)},m.isBefore=function(e,t){return this.endOf(t)<C(e)},m.$g=function(e,t,n){return S.u(e)?this[t]:this.set(n,e)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(e,t){var n=this,r=!!S.u(t)||t,c=S.p(e),f=function(e,t){var i=S.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?i:i.endOf(s)},g=function(e,t){return S.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},v=this.$W,h=this.$M,m=this.$D,w="set"+(this.$u?"UTC":"");switch(c){case u:return r?f(1,0):f(31,11);case l:return r?f(1,h):f(0,h+1);case d:var y=this.$locale().weekStart||0,b=(v<y?v+7:v)-y;return f(r?m-b:m+(6-b),h);case s:case p:return g(w+"Hours",0);case a:return g(w+"Minutes",1);case o:return g(w+"Seconds",2);case i:return g(w+"Milliseconds",3);default:return this.clone()}},m.endOf=function(e){return this.startOf(e,!1)},m.$set=function(e,t){var n,d=S.p(e),c="set"+(this.$u?"UTC":""),f=(n={},n[s]=c+"Date",n[p]=c+"Date",n[l]=c+"Month",n[u]=c+"FullYear",n[a]=c+"Hours",n[o]=c+"Minutes",n[i]=c+"Seconds",n[r]=c+"Milliseconds",n)[d],g=d===s?this.$D+(t-this.$W):t;if(d===l||d===u){var v=this.clone().set(p,1);v.$d[f](g),v.init(),this.$d=v.set(p,Math.min(this.$D,v.daysInMonth())).$d}else f&&this.$d[f](g);return this.init(),this},m.set=function(e,t){return this.clone().$set(e,t)},m.get=function(e){return this[S.p(e)]()},m.add=function(r,c){var p,f=this;r=Number(r);var g=S.p(c),v=function(e){var t=C(f);return S.w(t.date(t.date()+Math.round(e*r)),f)};if(g===l)return this.set(l,this.$M+r);if(g===u)return this.set(u,this.$y+r);if(g===s)return v(1);if(g===d)return v(7);var h=(p={},p[o]=t,p[a]=n,p[i]=e,p)[g]||1,m=this.$d.getTime()+r*h;return S.w(m,this)},m.subtract=function(e,t){return this.add(-1*e,t)},m.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||f;var r=e||"YYYY-MM-DDTHH:mm:ssZ",i=S.z(this),o=this.$H,a=this.$m,s=this.$M,d=n.weekdays,l=n.months,c=function(e,n,i,o){return e&&(e[n]||e(t,r))||i[n].substr(0,o)},u=function(e){return S.s(o%12||12,e,"0")},p=n.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},g={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:S.s(s+1,2,"0"),MMM:c(n.monthsShort,s,l,3),MMMM:c(l,s),D:this.$D,DD:S.s(this.$D,2,"0"),d:String(this.$W),dd:c(n.weekdaysMin,this.$W,d,2),ddd:c(n.weekdaysShort,this.$W,d,3),dddd:d[this.$W],H:String(o),HH:S.s(o,2,"0"),h:u(1),hh:u(2),a:p(o,a,!0),A:p(o,a,!1),m:String(a),mm:S.s(a,2,"0"),s:String(this.$s),ss:S.s(this.$s,2,"0"),SSS:S.s(this.$ms,3,"0"),Z:i};return r.replace(v,(function(e,t){return t||g[e]||i.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,p,f){var g,v=S.p(p),h=C(r),m=(h.utcOffset()-this.utcOffset())*t,w=this-h,y=S.m(this,h);return y=(g={},g[u]=y/12,g[l]=y,g[c]=y/3,g[d]=(w-m)/6048e5,g[s]=(w-m)/864e5,g[a]=w/n,g[o]=w/t,g[i]=w/e,g)[v]||w,f?y:S.a(y)},m.daysInMonth=function(){return this.endOf(l).$D},m.$locale=function(){return b[this.$L]},m.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=x(e,t,!0);return r&&(n.$L=r),n},m.clone=function(){return S.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},h}(),I=k.prototype;return C.prototype=I,[["$ms",r],["$s",i],["$m",o],["$H",a],["$W",s],["$M",l],["$y",u],["$D",p]].forEach((function(e){I[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),C.extend=function(e,t){return e.$i||(e(t,k,C),e.$i=!0),C},C.locale=x,C.isDayjs=_,C.unix=function(e){return C(1e3*e)},C.en=b[y],C.Ls=b,C.p={},C}()})),io=function(e){if(e)return e.toLocaleString("en-CA",{year:"numeric",month:"2-digit",day:"2-digit"})},oo=function(e){if(e){if(e instanceof Date)return e;var t=Date.parse(e);return isNaN(t)?/^Date.now(\(\))*$/.test(e)||/^new Date(\(\))*$/.test(e)?new Date:/(^dayjs|^[\w]+\([^\)]*\))/.test(e)?e.split(".").reduce((function(e,t){var n,r=t.match(/([\w]+)\(([^\)]*)\)/);return r?"dayjs"===r[1]?r[2]?ro(r[2]):e:(n=e)[r[1]].apply(n,x(r[2].split(/\s*,\s*/).map((function(e){var t=parseFloat(e);return isNaN(t)?e.replaceAll(/[\'\"]+/g,""):t})))):e}),ro()).toDate():void 0:new Date(t)}},ao={props:{properties:Object,widget:Object,onChange:Function,value:String},inject:["t"],created:function(){this.$props.value||this.$props.onChange(this.$data.defaultDate)},data:function(){return{defaultDate:io(oo(this.$props.properties.defaultDate)),minDate:io(oo(this.$props.properties.minDate)),maxDate:io(oo(this.$props.properties.maxDate))}},methods:{onDateChange:function(e){this.$props.onChange(e.target.value)}}},so=ao,lo=function(e){e&&e("data-v-5a5d677c_0",{source:".radio-item[data-v-5a5d677c]{margin-right:10px}",map:void 0,media:void 0})},co=Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("input",{attrs:{type:"date",min:e.minDate,max:e.maxDate},domProps:{value:e.value||e.defaultDate},on:{change:e.onDateChange}})])},staticRenderFns:[]},lo,so,"data-v-5a5d677c",false,undefined,!1,$e,void 0,void 0),uo=co,po={props:{properties:Object,widget:Object,onChange:Function,value:String},inject:["t"],computed:{label:function(){var e=this,t=this.$props.widget.properties.controlProperties.options.find((function(t){return t.value===e.$props.value}));return null!=t&&t.labelKey?this.t(t.labelKey,this.$props.widget.id):""}}},fo=po,go=Pe({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v("\n  "+e._s(e.value)+"\n")])},staticRenderFns:[]},undefined,fo,undefined,false,undefined,!1,void 0,void 0,void 0),vo=go,ho=new Wi({display:uo,readOnly:vo}),mo={props:{properties:Object,widget:Object,onChange:Function,value:String,widgetItems:Object},inject:["t","pageEventListener","getPageState"],data:function(){return{options:[],attachedDependentCodeListeners:[]}},created:function(){},unmounted:function(){var e=this;this.attachedDependentCodeListeners.forEach((function(t){var n=_(t,2),r=n[0],i=n[1];e.pageEventListener.remove(r,i)}))},watch:p({},"properties.options",{handler:function(){var e=this;return d(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=function e(t){return x(new Set(t.reduce((function(t,n){return n.any?[].concat(x(t),x(e(n.any))):n.all?[].concat(x(t),x(e(n.all))):[].concat(x(t),[n.fact])}),[])))},r=x(new Set(e.$props.widget.properties.controlProperties.options.reduce((function(e,t){var r;return[].concat(x(e),x(null!==(r=t.conditions)&&void 0!==r&&r.length?n(t.conditions):[]))}),[]))),e.widget.setListenerSet("options",r.map((function(e){return"".concat(e,"_change")})),(function(){return e.setFilteredOptions()})),e.setFilteredOptions();case 4:case"end":return t.stop()}}),t)})))()},immediate:!0}),computed:{selectedValue:function(){var e=this;return this.$data.options.find((function(t){return t.value===e.$props.value}))}},methods:{setFilteredOptions:function(){var e=this;return d(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getFilteredOptions();case 2:e.$data.options=t.sent.map((function(t){return{value:t.value,label:e.t(t.labelKey,e.$props.widget.id)}}));case 3:case"end":return t.stop()}}),t)})))()},getFilteredOptions:function(){var e=this;return d(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object.keys(e.$props.widgetItems).reduce((function(t,n){var r,i,o=null===(r=e.getPageState())||void 0===r||null===(i=r.widgetState[n])||void 0===i?void 0:i.response;return o&&(t[n]=o,e.$props.widgetItems[n].code&&(t[e.$props.widgetItems[n].code||""]=o)),t}),{}),t.next=3,Promise.all(e.$props.widget.properties.controlProperties.options.map(function(){var t=d(regeneratorRuntime.mark((function t(r){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=!(null!==(i=r.conditions)&&void 0!==i&&i.length),t.t0){t.next=5;break}return t.next=4,e.$props.widget.validate(r.conditions,n);case 4:t.t0=t.sent;case 5:if(!t.t0){t.next=9;break}t.t1=r,t.next=10;break;case 9:t.t1=null;case 10:return t.abrupt("return",t.t1);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 3:return t.abrupt("return",t.sent.filter((function(e){return e})));case 4:case"end":return t.stop()}}),t)})))()},onSelectChange:function(e){this.$props.onChange(e.target.value)}}},wo=mo,yo=function(e){e&&e("data-v-42dccce9_0",{source:".radio-item[data-v-42dccce9]{margin-right:10px}",map:void 0,media:void 0})},bo=Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("select",{domProps:{value:e.value||""},on:{change:e.onSelectChange}},[n("option",{attrs:{value:"",disabled:""}},[e._v(e._s(e.t("__placeholder",e.widget.id)))]),e._v(" "),e._l(e.options,(function(t){return n("option",{key:t.value,domProps:{value:t.value,selected:e.value===t.value}},[e._v("\n      "+e._s(t.label)+"\n    ")])}))],2)])},staticRenderFns:[]},yo,wo,"data-v-42dccce9",false,undefined,!1,$e,void 0,void 0),_o=bo,xo={props:{properties:Object,widget:Object,onChange:Function,value:String},inject:["t"],data:function(){return{translatedLabel:""}},methods:{getLabelByValue:function(e){var t;return this.t((null===(t=this.$props.properties.options.find((function(t){return t.value===e})))||void 0===t?void 0:t.labelKey)||"",this.$props.widget.id)}},watch:{value:{handler:function(e){this.$data.translatedLabel=this.getLabelByValue(e)},immediate:!0}}},Co=xo,So=Pe({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v("\n  "+e._s(e.translatedLabel)+"\n")])},staticRenderFns:[]},undefined,Co,undefined,false,undefined,!1,void 0,void 0,void 0),ko=So,Io=new Wi({display:_o,readOnly:ko}),Po={props:{properties:Object,value:Number,onChange:Function},created:function(){var e;void 0===this.$props.value&&void 0!==(null===(e=this.$props.properties)||void 0===e?void 0:e.default)&&this.changeValue(this.$props.properties.default,!0)},computed:{step:function(){return this.$props.properties.step||1},numValue:function(){var e,t;return void 0!==this.$props.value?this.$props.value:void 0!==(null===(e=this.$props.properties)||void 0===e?void 0:e.default)?this.$props.properties.default:void 0!==(null===(t=this.$props.properties)||void 0===t?void 0:t.min)?this.$props.properties.min:0}},methods:{changeValue:function(e,t){var n,r,i,o,a,s;if(!/^[^0-9]+$/.test(e.toString())){var d=parseInt(e.toString(),10);void 0!==(null===(n=this.$props.properties)||void 0===n?void 0:n.min)&&d<(null===(r=this.$props.properties)||void 0===r?void 0:r.min)&&(d=this.$props.properties.min),void 0!==(null===(i=this.$props.properties)||void 0===i?void 0:i.max)&&d>(null===(o=this.$props.properties)||void 0===o?void 0:o.max)&&(d=this.$props.properties.max),null===(a=(s=this.$props).onChange)||void 0===a||a.call(s,d,t)}}}},Oo=Po,$o=function(e){e&&e("data-v-5d4490d4_0",{source:"input[data-v-5d4490d4]::-webkit-inner-spin-button,input[data-v-5d4490d4]::-webkit-outer-spin-button{-webkit-appearance:none;-moz-appearance:textfield;margin:0}",map:void 0,media:void 0})},jo=Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("button",{on:{click:function(){return e.changeValue(e.numValue-e.step)}}},[e._v("-")]),e._v(" "),n("input",{attrs:{type:"number",step:e.step},domProps:{value:e.numValue},on:{keyup:function(t){return e.changeValue(t.target.value)}}}),e._v(" "),n("button",{on:{click:function(){return e.changeValue(e.numValue+e.step)}}},[e._v("+")])])},staticRenderFns:[]},$o,Oo,"data-v-5d4490d4",false,undefined,!1,$e,void 0,void 0),Eo=jo,To={props:{properties:Object,widget:Object,onChange:Function,value:Number},inject:["t"]},Wo=To,Ro=Pe({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v("\n  "+e._s(e.value||e.widget.properties.controlProperties.default)+"\n")])},staticRenderFns:[]},undefined,Wo,undefined,false,undefined,!1,void 0,void 0,void 0),Lo=Ro,Ao=new Wi({builder:Eo,display:Eo,readOnly:Lo}),Fo={props:{properties:Object,widget:Object,onChange:Function,value:String},inject:["t"],methods:{onSelect:function(e){this.$props.onChange(e.target.value)}}},Mo=Fo,Do=function(e){e&&e("data-v-4b1138df_0",{source:".radio-item[data-v-4b1138df]{margin-right:10px}",map:void 0,media:void 0})},No=Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.properties.options,(function(t){return n("label",{key:t.value,staticClass:"radio-item"},[n("input",{attrs:{type:"radio",name:e.widget.id},domProps:{checked:e.value===t.value,value:t.value},on:{change:e.onSelect}}),e._v("\n    "+e._s(e.t(t.labelKey,e.widget.id))+"\n  ")])})),0)},staticRenderFns:[]},Do,Mo,"data-v-4b1138df",false,undefined,!1,$e,void 0,void 0),qo=No,Vo={props:{properties:Object,widget:Object,onChange:Function,value:String},inject:["t"],computed:{label:function(){var e=this,t=this.$props.widget.properties.controlProperties.options.find((function(t){return t.value===e.$props.value}));return null!=t&&t.labelKey?this.t(t.labelKey,this.$props.widget.id):""}}},Bo=Vo,zo=Pe({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v("\n  "+e._s(e.label)+"\n")])},staticRenderFns:[]},undefined,Bo,undefined,false,undefined,!1,void 0,void 0,void 0),Ho=zo,Uo=new Wi({builder:qo,display:qo,readOnly:Ho}),Yo={props:{properties:Object,value:String,onChange:Function},methods:{onTextChange:function(e){this.$props.onChange(e.target.value)}}},Ko=Yo,Jo=function(e){e&&e("data-v-aa6232e6_0",{source:".textInput[data-v-aa6232e6]::-webkit-inner-spin-button,.textInput[data-v-aa6232e6]::-webkit-outer-spin-button{-webkit-appearance:none;-moz-appearance:textfield;margin:0}.textInput[data-v-aa6232e6]{min-height:42px}",map:void 0,media:void 0})},Go=Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.properties.multiline?e._e():n("input",{staticClass:"textInput",attrs:{type:"text"},domProps:{value:e.value},on:{input:e.onTextChange}}),e._v(" "),e.properties.multiline?n("textarea",{staticClass:"textInput",domProps:{value:e.value},on:{input:e.onTextChange}}):e._e()])},staticRenderFns:[]},Jo,Ko,"data-v-aa6232e6",false,undefined,!1,$e,void 0,void 0),Qo=Go,Xo={props:{properties:Object,widget:Object,onChange:Function,value:Number},inject:["t"]},Zo=Xo,ea=Pe({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v("\n  "+e._s(e.value||e.widget.properties.controlProperties.default)+"\n")])},staticRenderFns:[]},undefined,Zo,undefined,false,undefined,!1,void 0,void 0,void 0),ta=ea,na=new Wi({display:Qo,readOnly:ta}),ra={buttonGroup:Bi,checkbox:no,datePicker:ho,dropdown:Io,numberPicker:Ao,radio:Uo,text:na},ia=function(){function e(t){var n=t.widgetState,r=t.interactiveState,i=t.widgetCodeToIdMap,o=t.widgetIdToCodeMap;l(this,e),p(this,"_widgetState",void 0),p(this,"_interactiveState",void 0),p(this,"_widgetCodeToIdMap",void 0),p(this,"_widgetIdToCodeMap",void 0),this._widgetState=n||{},this._interactiveState=r||{},this._widgetCodeToIdMap=i||{},this._widgetIdToCodeMap=o||{}}return u(e,[{key:"interactiveState",get:function(){return this._interactiveState}},{key:"widgetState",get:function(){return this._widgetState}},{key:"widgetCodeToIdMap",get:function(){return this._widgetCodeToIdMap}},{key:"widgetIdToCodeMap",get:function(){return this._widgetIdToCodeMap}},{key:"getWidgetIdByCode",value:function(e){return this._widgetCodeToIdMap[e]}},{key:"getWidgetCodeById",value:function(e){return this._widgetIdToCodeMap[e]}},{key:"onUpdate",value:function(){}},{key:"getWidgetState",value:function(e,t){var n;return t?null===(n=this._widgetState[e])||void 0===n?void 0:n[t]:this._widgetState[e]}},{key:"setWidgetState",value:function(e,t,n){var r;(this._widgetState[e]||(this._widgetState[e]={}),void 0===n)?null===(r=this._widgetState[e])||void 0===r||delete r[t]:this._widgetState[e][t]=n}},{key:"clearWidgetState",value:function(e,t){this.setWidgetState(e,t)}},{key:"registerWidgetCode",value:function(e,t){this._widgetCodeToIdMap[e]=t,this._widgetIdToCodeMap[t]=e,this.setWidgetState(t,"code",e)}},{key:"unregisterWidgetCode",value:function(e){delete this._widgetCodeToIdMap[e]}}],[{key:"from",value:function(t){return new e(t instanceof e?{widgetState:t.widgetState,interactiveState:t.interactiveState,widgetCodeToIdMap:t.widgetCodeToIdMap,widgetIdToCodeMap:t.widgetIdToCodeMap}:{widgetState:t._widgetState,interactiveState:t._interactiveState,widgetCodeToIdMap:t._widgetCodeToIdMap,widgetIdToCodeMap:t._widgetIdToCodeMap})}}]),e}(),oa={},aa=function(e){oa[e]||(oa[e]={cached:[],result:null});for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.length?((n.length!==oa[e].cached.length||n.some((function(t,n){return t!==oa[e].cached[n]})))&&(oa[e].cached=n,Array.isArray(n[0])?oa[e].result=n.reduce((function(e,t){return[].concat(x(e),x(t))}),[]):oa[e].result=n.reduce((function(e,t){return a(a({},e),t)}),{})),oa[e].result):null},sa=function(){function e(t){l(this,e),p(this,"_listenerFns",{}),p(this,"_emitEvent",void 0),this._emitEvent=t.emitEvent}return u(e,[{key:"addChangeListener",value:function(e,t){this.add("".concat(e,"_change"),t)}},{key:"add",value:function(e,t){this._listenerFns[e]||(this._listenerFns[e]=[]),this._listenerFns[e].push(t)}},{key:"remove",value:function(e,t){this._listenerFns[e]&&(this._listenerFns[e]=this._listenerFns[e].filter((function(e){return e!==t})))}},{key:"emit",value:function(e,t,n){(this._listenerFns[e]||[]).forEach((function(e){return e()})),null!=n&&n.toExternal&&this._emitEvent(e,t,n.widgetItem)}}]),e}(),da={components:{WidgetsLayout:wt},props:{languages:Object,page:Object,onPageChange:Function,state:ft(ia).isRequired,onStateChange:Function,widgetControls:Object,questionControls:Object,plugins:pt(gt({widgetControls:Object,widgetEffectControls:Object,questionControls:Object})),view:String,configs:gt({widgets:gt({disableInternalControls:ct(),blacklist:pt(ut()),whitelist:pt(ut()),filters:Object}),questionControls:gt({disableInternalControls:ct(),blacklist:pt(ut()),whitelist:pt(ut()),filters:Object})})},data:function(){return{widgetItems:{},pageEventListener:new sa({emitEvent:this.emitEvent})}},computed:{widgetItemsArr:function(){return this.$props.page.widgets},combWidgetControls:function(){var e,t;return aa.apply(void 0,["widgetControls",null!==(e=this.$props.configs)&&void 0!==e&&e.widgets.disableInternalControls?{}:xr].concat(x(null===(t=this.$props.plugins||[])||void 0===t?void 0:t.map((function(e){return e.widgetControls}))),[this.$props.widgetControls]))},combWidgetEffectControls:function(){var e,t;return aa.apply(void 0,["widgetEffectControls",null!==(e=this.$props.configs)&&void 0!==e&&e.widgetEffectControls.disableInternalControls?{}:Ti].concat(x(null===(t=this.$props.plugins||[])||void 0===t?void 0:t.map((function(e){return e.widgetEffectControls}))),[this.$props.widgetEffectControls]))},combQuestionControls:function(){var e,t;return aa.apply(void 0,["questionControls",null!==(e=this.$props.configs)&&void 0!==e&&e.questionControls.disableInternalControls?{}:ra].concat(x(null===(t=this.$props.plugins||[])||void 0===t?void 0:t.map((function(e){return e.questionControls}))),[this.$props.questionControls]))},pageState:function(){return this.$props.state}},watch:{"page.widgets":{handler:function(e){var t=this;this.$data.widgetItems=e.reduce((function(e,n){var r,i=(null===(r=t.combWidgetControls[n.type])||void 0===r?void 0:r.widgetItem)||bn;return e[n.id]=new i({widget:n,pageEventListener:t.pageEventListener,emitEvent:t.emitEvent,t:function(e,r){return t.t("".concat(n.id,".").concat(e),r)},getState:function(){return t.$props.state},setState:function(e){t.$emit("onStateChange",e)},onUpdate:function(e){var n,r;null===(n=(r=t.$props).onPageChange)||void 0===n||n.call(r,a(a({},t.$props.page),{},{widgets:Object.values(a(a({},t.$data.widgetItems),{},p({},e.id,e)))}))}}),e}),{}),Object.values(this.$data.widgetItems).forEach((function(e){e.setWidgetItems(t.$data.widgetItems)}))},immediate:!0,deep:!0}},methods:{t:function(e,t){var n=e.split(".").reduce((function(e,t){return"string"==typeof e?e:null==e?void 0:e[t]}),this.languages);return null==n?void 0:n.replace(/(\{(\w+)\})/g,(function(e,n,r){return(t||{})[r]}))},emitEvent:function(e,t,n){var r=this;return d(regeneratorRuntime.mark((function i(){var o,a;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!Array.isArray(r.$listeners.event)){i.next=5;break}return i.next=3,Promise.all(r.$listeners.event.map((function(i){return i({name:e,value:t,widget:n,pageState:r.pageState,widgetItems:r.$data.widgetItems})})));case 3:i.next=7;break;case 5:return i.next=7,null===(o=(a=r.$listeners).event)||void 0===o?void 0:o.call(a,{name:e,value:t,widget:n,pageState:r.pageState,widgetItems:r.$data.widgetItems});case 7:case"end":return i.stop()}}),i)})))()}},provide:function(){var e=this;return{getView:function(){return e.$props.view},t:this.t,pageEventListener:this.pageEventListener,languages:this.$props.languages,getPageState:function(){return e.$props.state},setPageState:function(t){e.$emit("onStateChange",t)},emitEvent:this.emitEvent,widgetEffectControls:this.combWidgetEffectControls,widgetControls:this.combWidgetControls,questionControls:this.combQuestionControls}}},la=da,ca=function(e){e&&e("data-v-bd987e70_0",{source:".main-wrapper[data-v-bd987e70]{font-family:Arial,Helvetica,sans-serif}",map:void 0,media:void 0})},ua=Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main-wrapper"},[n("widgets-layout",{attrs:{widgetControls:e.combWidgetControls,widgetItems:e.widgetItems}})],1)},staticRenderFns:[]},ca,la,"data-v-bd987e70",false,undefined,!1,$e,void 0,void 0),pa=ua,fa={props:{position:{type:String,default:"left"},isOpen:{type:Boolean,default:!0},paneWidth:{type:Number,default:300}}},ga=fa,va=function(e){e&&e("data-v-105a3195_0",{source:".pane-wrapper[data-v-105a3195]{display:flex;flex-direction:row;align-items:stretch;height:100%;position:relative}.pane-outside-wrapper[data-v-105a3195]{flex:1;position:relative}.pane-content-wrapper[data-v-105a3195]{position:absolute;top:0;height:100%;z-index:10;background-color:#fff;box-shadow:0 0 4px -2px #000;overflow:hidden;display:flex;flex-direction:column}.pane-content-wrapper.left[data-v-105a3195]{left:0}.pane-content-wrapper.right[data-v-105a3195]{right:0}",map:void 0,media:void 0})},ha=Pe({render:function(){var e,t=this,n=t.$createElement,r=t._self._c||n;return r("div",{staticClass:"pane-wrapper",class:{isOpen:t.isOpen}},["left"===t.position?r("div",{staticClass:"pane-content-wrapper left",style:{width:t.paneWidth+"px"}},[t._t("pane-content")],2):t._e(),t._v(" "),r("div",{staticClass:"pane-outside-wrapper",style:(e={},e["left"===t.position?"marginLeft":"marginRight"]=t.paneWidth+"px",e)},[t._t("default")],2),t._v(" "),"right"===t.position?r("div",{staticClass:"pane-content-wrapper right",style:{width:t.paneWidth+"px"}},[t._t("pane-content")],2):t._e()])},staticRenderFns:[]},va,ga,"data-v-105a3195",false,undefined,!1,$e,void 0,void 0),ma=ha,wa={components:{BuilderWidgetTree:Zn},props:{widgetItems:Object,selectedWidgetItem:Object},inject:["widgetControls"]},ya=wa,ba=function(e){e&&e("data-v-5b86d73a_0",{source:".wrapper[data-v-5b86d73a]{display:flex;flex-direction:row;flex-wrap:wrap;height:auto}.widget-item[data-v-5b86d73a]{display:block;width:33%;border:1px solid #f2f2f2;border-radius:4px;padding:5px;box-sizing:border-box}",map:void 0,media:void 0})},_a=Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrapper"},[e._l(e.widgetControls,(function(t,r){return[n("a",{key:r,staticClass:"widget-item"},[e._v("\n      "+e._s(r)+"\n    ")])]}))],2)},staticRenderFns:[]},ba,ya,"data-v-5b86d73a",false,undefined,!1,$e,void 0,void 0),xa=_a,Ca={props:{panelType:String,widgetItems:Object}},Sa=Ca,ka=Pe({render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]},undefined,Sa,undefined,false,undefined,!1,void 0,void 0,void 0),Ia=function(){function e(t){var n=t.form,r=t.header,i=t.name,o=t.key;l(this,e),p(this,"_form",void 0),p(this,"_header",void 0),p(this,"_name",void 0),p(this,"_key",void 0),this._form=n,this._header=r,this._name=i,this._key=o}return u(e,[{key:"form",get:function(){return this._form}},{key:"header",get:function(){return this._header}},{key:"name",get:function(){return this._name}},{key:"key",get:function(){return this._key}}]),e}(),Pa=new Ia({key:"addWidget",name:"Add Widget",form:xa,header:ka}),Oa=new Ia({key:"effects",name:"Effects",form:Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.selectedWidgetItem?n("div",{staticClass:"existing-effects-wrapper"},e._l(e.selectedWidgetItem.effects,(function(t){return n("div",{key:t.type,staticClass:"effect-wrapper"},[n("a",{staticClass:"remove-effect-button",on:{click:function(){return e.removeEffect(t)}}},[e._v("🗑")]),e._v(" "),n("h6",{staticClass:"effect-header"},[e._v("\n        "+e._s(e.widgetEffectControls[t.type].name)+"\n      ")]),e._v(" "),n(e.widgetEffectControls[t.type].form,{tag:"component",attrs:{effect:t,properties:t.properties,widgetItem:e.selectedWidgetItem},on:{onPropertiesChange:function(n){return e.onPropertiesChange(t.type,n)}}})],1)})),0):e._e()])},staticRenderFns:[]},(function(e){e&&e("data-v-094a11b6_0",{source:".effect-wrapper[data-v-094a11b6]{position:relative;background-color:#fdfdfd;padding:0 5px 10px 5px}.effect-wrapper[data-v-094a11b6]:not(:last-child){margin-bottom:1px}.remove-effect-button[data-v-094a11b6]{position:absolute;top:0;right:0;padding:1px 10px;cursor:pointer;font-size:9pt}.effect-header[data-v-094a11b6]{margin:0 -5px 0 -5px;padding:5px;background-color:#bcdff0}",map:void 0,media:void 0})}),{props:{widgetItems:Object,selectedWidgetItem:Object},inject:["widgetEffectControls"],methods:{onPropertiesChange:function(e,t){console.log("onPropertiesChange",e,t),this.$props.selectedWidgetItem.setEffectProperties(e,t)},removeEffect:function(e){this.$props.selectedWidgetItem.removeEffect(e.type)}}},"data-v-094a11b6",false,undefined,!1,$e,void 0,void 0),header:Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.selectedWidgetItem?n("div",[n("select",{on:{change:e.onAddEffect}},[n("option",{staticClass:"default",attrs:{value:"",disabled:"",selected:""}},[e._v("+")]),e._v(" "),e._l(e.panelSectionsAvailable,(function(t){return n("option",{key:t.key,domProps:{value:t.key}},[e._v("\n      "+e._s(t.name)+"\n    ")])}))],2)]):e._e()},staticRenderFns:[]},(function(e){e&&e("data-v-801e96fe_0",{source:"select[data-v-801e96fe]{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:1px 6px;border-radius:4px;border:none;background-color:transparent;cursor:pointer}select option.default[data-v-801e96fe]{text-align:right}",map:void 0,media:void 0})}),{props:{panelType:String,widgetItems:Object,selectedWidgetItem:Object},inject:["widgetEffectControls"],data:function(){return{panelSections:La}},computed:{panelSectionsAvailable:function(){var e=this;return this.$props.selectedWidgetItem?Object.keys(this.widgetEffectControls).reduce((function(t,n){var r,i,o,a;return(null===(r=e.$props.selectedWidgetItem)||void 0===r||null===(i=r.effects)||void 0===i||!i.length||null!==(o=e.$props.selectedWidgetItem)&&void 0!==o&&null!==(a=o.effects)&&void 0!==a&&a.every((function(e){return e.type!==n})))&&t.push(e.widgetEffectControls[n]),t}),[]):[]}},methods:{onAddEffect:function(e){var t=e.target.value;e.target.value="",this.widgetEffectControls[t]&&this.$props.selectedWidgetItem.addEffect(this.widgetEffectControls[t].create())}}},"data-v-801e96fe",false,undefined,!1,$e,void 0,void 0)}),$a=Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.selectedWidgetItem?n("div",e._l(e.selectedWidgetItem.reflexiveRules,(function(t,r){return n("div",{key:r,staticClass:"condition-wrapper"},[n("label",[e._v("condition "+e._s(r+1))]),e._v(" "),n("div",{staticClass:"condition-fields-wrapper"},[n("input",{attrs:{type:"text"},domProps:{value:t.fact}}),e._v(" "),n("select",[n("option",{attrs:{value:"in"},domProps:{selected:"in"===t.operator}},[e._v("in")]),e._v(" "),n("option",{attrs:{value:"equal"},domProps:{selected:"equal"===t.operator}},[e._v("\n          equals\n        ")]),e._v(" "),n("option",{attrs:{value:"notEqual"},domProps:{selected:"notEqual"===t.operator}},[e._v("\n          not equal\n        ")]),e._v(" "),n("option",{attrs:{value:"greaterThanInclusive"},domProps:{selected:"greaterThanInclusive"===t.operator}},[e._v("\n          >=\n        ")]),e._v(" "),n("option",{attrs:{value:"lessThanInclusive"},domProps:{selected:"lessThanInclusive"===t.operator}},[e._v("\n          "+e._s("<=")+"\n        ")])]),e._v(" "),n("input",{attrs:{type:"text"},domProps:{value:e.conditionValue(t.value)}})])])})),0):e._e()},staticRenderFns:[]},(function(e){e&&e("data-v-3ee67d2e_0",{source:"input[data-v-3ee67d2e],select[data-v-3ee67d2e],textarea[data-v-3ee67d2e]{border-width:0 0 1px 0}.sub-header[data-v-3ee67d2e]{margin:0;padding:5px;background-color:#bcdff0}.condition-wrapper[data-v-3ee67d2e]{padding:10px 5px;margin-bottom:10px}.condition-wrapper>label[data-v-3ee67d2e]{display:block;margin-bottom:5px;font-size:9pt}.condition-fields-wrapper[data-v-3ee67d2e]{display:flex;flex-direction:row}.condition-fields-wrapper>input[data-v-3ee67d2e]{width:0}.condition-fields-wrapper>*[data-v-3ee67d2e]{flex:1}.error-message-wrapper[data-v-3ee67d2e]{padding:10px 5px}.error-message-wrapper label[data-v-3ee67d2e]{display:block;font-size:9pt;margin-bottom:5px}.error-message-wrapper textarea[data-v-3ee67d2e]{box-sizing:border-box;width:100%;max-width:100%;min-width:100%;min-height:40px;color:red}",map:void 0,media:void 0})}),{props:{widgetItems:Object,selectedWidgetItem:Object},inject:["t","widgetEffectControls"],methods:{conditionValue:function(e){return Array.isArray(e)?e.join(", "):null===e?"null":void 0===e?"undefined":e},onPropertiesChange:function(e,t){console.log("onPropertiesChange",e,t),this.$props.selectedWidgetItem.setEffectProperties(e,t)},removeEffect:function(e){this.$props.selectedWidgetItem.removeEffect(e.type)}}},"data-v-3ee67d2e",false,undefined,!1,$e,void 0,void 0),ja=new Ia({key:"reflexives",name:"Reflexives",form:$a,header:Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.selectedWidgetItem?n("div",[n("button",{staticClass:"add-button",on:{click:e.addValidation}},[e._v("+")])]):e._e()},staticRenderFns:[]},(function(e){e&&e("data-v-33573df1_0",{source:".add-button[data-v-33573df1]{background-color:transparent;border:none}",map:void 0,media:void 0})}),{props:{panelType:String,widgetItems:Object,selectedWidgetItem:Object},inject:["widgetEffectControls"],data:function(){return{panelSections:La}},computed:{panelSectionsAvailable:function(){var e=this;return this.$props.selectedWidgetItem?Object.keys(this.widgetEffectControls).reduce((function(t,n){var r,i,o,a;return(null===(r=e.$props.selectedWidgetItem)||void 0===r||null===(i=r.effects)||void 0===i||!i.length||null!==(o=e.$props.selectedWidgetItem)&&void 0!==o&&null!==(a=o.effects)&&void 0!==a&&a.every((function(e){return e.type!==n})))&&t.push(e.widgetEffectControls[n]),t}),[]):[]}},methods:{addValidation:function(){var e,t=null===(e=this.$props.selectedWidgetItem.validationRules||[])||void 0===e?void 0:e.length;this.$props.selectedWidgetItem.addValidation({conditions:[],error:"err".concat(t)})}}},"data-v-33573df1",false,undefined,!1,$e,void 0,void 0)}),Ea=Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.selectedWidgetItem?n("div",e._l(e.selectedWidgetItem.validationRules,(function(t,r){return n("div",{key:r},[n("h6",{staticClass:"sub-header"},[e._v("rule "+e._s(r+1))]),e._v(" "),e._l(t.conditions,(function(t,r){return n("div",{key:r,staticClass:"condition-wrapper"},[n("label",[e._v("condition "+e._s(r+1))]),e._v(" "),n("div",{staticClass:"condition-fields-wrapper"},[n("input",{attrs:{type:"text"},domProps:{value:t.fact}}),e._v(" "),n("select",[n("option",{attrs:{value:"in"},domProps:{selected:"in"===t.operator}},[e._v("\n            in\n          ")]),e._v(" "),n("option",{attrs:{value:"equal"},domProps:{selected:"equal"===t.operator}},[e._v("\n            equals\n          ")]),e._v(" "),n("option",{attrs:{value:"notEqual"},domProps:{selected:"notEqual"===t.operator}},[e._v("\n            not equal\n          ")]),e._v(" "),n("option",{attrs:{value:"greaterThanInclusive"},domProps:{selected:"greaterThanInclusive"===t.operator}},[e._v("\n            >=\n          ")]),e._v(" "),n("option",{attrs:{value:"lessThanInclusive"},domProps:{selected:"lessThanInclusive"===t.operator}},[e._v("\n            "+e._s("<=")+"\n          ")])]),e._v(" "),n("input",{attrs:{type:"text"},domProps:{value:e.conditionValue(t.value)}})])])})),e._v(" "),n("div",{staticClass:"error-message-wrapper"},[n("label",[e._v("(conditions not met) error message")]),e._v(" "),n("textarea",{domProps:{value:e.t(t.error,e.selectedWidgetItem.id)}})])],2)})),0):e._e()},staticRenderFns:[]},(function(e){e&&e("data-v-13ce8a21_0",{source:"input[data-v-13ce8a21],select[data-v-13ce8a21],textarea[data-v-13ce8a21]{border-width:0 0 1px 0}.sub-header[data-v-13ce8a21]{margin:0;padding:5px;background-color:#bcdff0}.condition-wrapper[data-v-13ce8a21]{padding:10px 5px;margin-bottom:10px}.condition-wrapper>label[data-v-13ce8a21]{display:block;margin-bottom:5px;font-size:9pt}.condition-fields-wrapper[data-v-13ce8a21]{display:flex;flex-direction:row}.condition-fields-wrapper>input[data-v-13ce8a21]{width:0}.condition-fields-wrapper>*[data-v-13ce8a21]{flex:1}.error-message-wrapper[data-v-13ce8a21]{padding:10px 5px}.error-message-wrapper label[data-v-13ce8a21]{display:block;font-size:9pt;margin-bottom:5px}.error-message-wrapper textarea[data-v-13ce8a21]{box-sizing:border-box;width:100%;max-width:100%;min-width:100%;min-height:40px;color:red}",map:void 0,media:void 0})}),{props:{widgetItems:Object,selectedWidgetItem:Object},inject:["t","widgetEffectControls"],methods:{conditionValue:function(e){return Array.isArray(e)?e.join(", "):null===e?"null":void 0===e?"undefined":e},onPropertiesChange:function(e,t){console.log("onPropertiesChange",e,t),this.$props.selectedWidgetItem.setEffectProperties(e,t)},removeEffect:function(e){this.$props.selectedWidgetItem.removeEffect(e.type)}}},"data-v-13ce8a21",false,undefined,!1,$e,void 0,void 0),Ta=new Ia({key:"validations",name:"Validations",form:Ea,header:Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.selectedWidgetItem?n("div",[n("button",{staticClass:"add-button",on:{click:e.addValidation}},[e._v("+")])]):e._e()},staticRenderFns:[]},(function(e){e&&e("data-v-33573df1_0",{source:".add-button[data-v-33573df1]{background-color:transparent;border:none}",map:void 0,media:void 0})}),{props:{panelType:String,widgetItems:Object,selectedWidgetItem:Object},inject:["widgetEffectControls"],data:function(){return{panelSections:La}},computed:{panelSectionsAvailable:function(){var e=this;return this.$props.selectedWidgetItem?Object.keys(this.widgetEffectControls).reduce((function(t,n){var r,i,o,a;return(null===(r=e.$props.selectedWidgetItem)||void 0===r||null===(i=r.effects)||void 0===i||!i.length||null!==(o=e.$props.selectedWidgetItem)&&void 0!==o&&null!==(a=o.effects)&&void 0!==a&&a.every((function(e){return e.type!==n})))&&t.push(e.widgetEffectControls[n]),t}),[]):[]}},methods:{addValidation:function(){var e,t=null===(e=this.$props.selectedWidgetItem.validationRules||[])||void 0===e?void 0:e.length;this.$props.selectedWidgetItem.addValidation({conditions:[],error:"err".concat(t)})}}},"data-v-33573df1",false,undefined,!1,$e,void 0,void 0)}),Wa=new Ia({key:"widget",name:"Widget",form:Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.selectedWidgetItem?n("div",[e.selectedWidgetItem&&e.widgetControls[e.selectedWidgetItem.type]?n(e.widgetControls[e.selectedWidgetItem.type].builderForm,{tag:"component",attrs:{widget:e.selectedWidgetItem}}):e._e()],1):e._e()},staticRenderFns:[]},(function(e){e&&e("data-v-1dc72a4b_0",{source:"input[data-v-1dc72a4b],select[data-v-1dc72a4b],textarea[data-v-1dc72a4b]{border-width:0 0 1px 0}.sub-header[data-v-1dc72a4b]{margin:0;padding:5px;background-color:#bcdff0}.condition-wrapper[data-v-1dc72a4b]{padding:10px 5px;margin-bottom:10px}.condition-wrapper>label[data-v-1dc72a4b]{display:block;margin-bottom:5px;font-size:9pt}.condition-fields-wrapper[data-v-1dc72a4b]{display:flex;flex-direction:row}.condition-fields-wrapper>input[data-v-1dc72a4b]{width:0}.condition-fields-wrapper>*[data-v-1dc72a4b]{flex:1}.error-message-wrapper[data-v-1dc72a4b]{padding:10px 5px}.error-message-wrapper label[data-v-1dc72a4b]{display:block;font-size:9pt;margin-bottom:5px}.error-message-wrapper textarea[data-v-1dc72a4b]{box-sizing:border-box;width:100%;max-width:100%;min-width:100%;min-height:40px;color:red}",map:void 0,media:void 0})}),{props:{widgetItems:Object,selectedWidgetItem:Object},inject:["t","widgetControls"],methods:{conditionValue:function(e){return Array.isArray(e)?e.join(", "):null===e?"null":void 0===e?"undefined":e},onPropertiesChange:function(e,t){console.log("onPropertiesChange",e,t),this.$props.selectedWidgetItem.setEffectProperties(e,t)},removeEffect:function(e){this.$props.selectedWidgetItem.removeEffect(e.type)}}},"data-v-1dc72a4b",false,undefined,!1,$e,void 0,void 0),header:Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.selectedWidgetItem?n("div",[e._v("\n  "+e._s(e.selectedWidgetItem.type)+"\n")]):e._e()},staticRenderFns:[]},(function(e){e&&e("data-v-7acdc771_0",{source:".add-button[data-v-7acdc771]{background-color:transparent;border:none}",map:void 0,media:void 0})}),{props:{panelType:String,widgetItems:Object,selectedWidgetItem:Object},inject:["widgetEffectControls"],data:function(){return{panelSections:La}},computed:{panelSectionsAvailable:function(){var e=this;return this.$props.selectedWidgetItem?Object.keys(this.widgetEffectControls).reduce((function(t,n){var r,i,o,a;return(null===(r=e.$props.selectedWidgetItem)||void 0===r||null===(i=r.effects)||void 0===i||!i.length||null!==(o=e.$props.selectedWidgetItem)&&void 0!==o&&null!==(a=o.effects)&&void 0!==a&&a.every((function(e){return e.type!==n})))&&t.push(e.widgetEffectControls[n]),t}),[]):[]}},methods:{addValidation:function(){var e,t=null===(e=this.$props.selectedWidgetItem.validationRules||[])||void 0===e?void 0:e.length;this.$props.selectedWidgetItem.addValidation({conditions:[],error:"err".concat(t)})}}},"data-v-7acdc771",false,undefined,!1,$e,void 0,void 0)}),Ra=new Ia({key:"widgetTree",name:"Widget Tree",form:Pe({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("builder-widget-tree",{attrs:{widgetItems:e.widgetItems,selectedWidgetItem:e.selectedWidgetItem}})},staticRenderFns:[]},undefined,{components:{BuilderWidgetTree:Zn},props:{widgetItems:Object,selectedWidgetItem:Object}},undefined,false,undefined,!1,void 0,void 0,void 0),header:Pe({render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]},undefined,{props:{panelType:String,widgetItems:Object}},undefined,false,undefined,!1,void 0,void 0,void 0)}),La=(p(_i={},Pa.key,Pa),p(_i,Oa.key,Oa),p(_i,ja.key,ja),p(_i,Ta.key,Ta),p(_i,Wa.key,Wa),p(_i,Ra.key,Ra),_i),Aa=Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("pane",{attrs:{position:"right",isOpen:!0},scopedSlots:e._u([{key:"pane-content",fn:function(){return[n("builder-panel-section-list-view",{attrs:{sections:["widget","reflexives","validations","effects"],widgetItems:e.widgetItems,selectedWidgetItem:e.selectedWidgetItem}})]},proxy:!0}])},[e._v(" "),[e._t("default")]],2)},staticRenderFns:[]},(function(e){e&&e("data-v-2cea4340_0",{source:".pane-wrapper[data-v-2cea4340]{background-color:#00f}",map:void 0,media:void 0})}),{components:{Pane:ma,BuilderPanelSectionListView:Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrapper"},e._l(e.sections,(function(t){return n("builder-panel-section-view",{key:t,attrs:{panelType:t,selectedWidgetItem:e.selectedWidgetItem,widgetItems:e.widgetItems,isCollapsed:e.collapsed[t]},on:{onToggleCollapse:function(n){return e.onToggleCollapse(t,n)}}})})),1)},staticRenderFns:[]},(function(e){e&&e("data-v-5e02ddd6_0",{source:".wrapper[data-v-5e02ddd6]{position:relative;display:flex;flex-direction:column;flex:1}",map:void 0,media:void 0})}),{components:{BuilderPanelSectionView:Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"panel-section-wrapper",class:{isCollapsed:e.isCollapsed}},[n("div",{staticClass:"panel-header"},[n("div",{staticClass:"collapse-arrow",on:{click:e.onToggleCollapse}},[e._v("›")]),e._v(" "),n("h5",{staticClass:"panel-title",on:{click:e.onToggleCollapse}},[e._v("\n      "+e._s(e.panelSections[e.panelType].name)+"\n    ")]),e._v(" "),n(e.panelSections[e.panelType].header,{tag:"component",attrs:{widgetItems:e.widgetItems,selectedWidgetItem:e.selectedWidgetItem}})],1),e._v(" "),n("div",{staticClass:"panel-content"},[n(e.panelSections[e.panelType].form,{tag:"component",attrs:{widgetItems:e.widgetItems,selectedWidgetItem:e.selectedWidgetItem}})],1)])},staticRenderFns:[]},(function(e){e&&e("data-v-895253ee_0",{source:".panel-header[data-v-895253ee]{padding:5px 5px;background-color:#cbf3f0;color:#3a3a3a;display:flex;flex-direction:row;justify-content:space-between;align-items:center;box-shadow:0 3px 10px #a7a7a73b;z-index:10;position:relative}.panel-title[data-v-895253ee]{margin:0;margin-left:5px;flex:1;cursor:pointer}.panel-section-wrapper[data-v-895253ee]:not(.isCollapsed){flex:1;display:flex;flex-direction:column}.panel-section-wrapper.isCollapsed .panel-content[data-v-895253ee]{display:none}.collapse-arrow[data-v-895253ee]{cursor:pointer}.panel-section-wrapper:not(.isCollapsed) .collapse-arrow[data-v-895253ee]{transform:rotate(90deg)}.panel-section-wrapper:not(.isCollapsed) .panel-content[data-v-895253ee]{overflow:auto;flex:1}",map:void 0,media:void 0})}),{props:{panelType:String,widgetItems:Object,selectedWidgetItem:Object,isCollapsed:Boolean},data:function(){return{panelSections:La}},methods:{onToggleCollapse:function(){this.$emit("onToggleCollapse",!this.$props.isCollapsed)}}},"data-v-895253ee",false,undefined,!1,$e,void 0,void 0)},props:{sections:Array,selectedWidgetItem:Object,widgetItems:Object},data:function(){return{collapsed:{}}},methods:{onToggleCollapse:function(e,t){t?this.$data.collapsed[e]=!0:delete this.$data.collapsed[e],this.$data.collapsed=a({},this.$data.collapsed)}}},"data-v-5e02ddd6",false,undefined,!1,$e,void 0,void 0)},props:{widgetItems:Object},inject:["widgetControls","widgetEffectControls","getPageState"],data:function(){return{panelSections:La}},computed:{selectedWidgetItem:function(){var e,t=this.getPageState();return t.interactiveState.selectedWidgetId?null===(e=this.$props.widgetItems)||void 0===e?void 0:e[t.interactiveState.selectedWidgetId]:null}}},"data-v-2cea4340",false,undefined,!1,$e,void 0,void 0),Fa=Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("pane",{attrs:{position:"left",isOpen:!0},scopedSlots:e._u([{key:"pane-content",fn:function(){return[n("div",{staticClass:"button-group"},e._l(e.sections,(function(t){return n("button",{key:t,class:{active:t===e.selectedSection},on:{click:function(){return e.setSelectedSection(t)}}},[e._v("\n        "+e._s(e.panelSections[t].name)+"\n      ")])})),0),e._v(" "),n(e.panelSections[e.selectedSection].form,{tag:"component",attrs:{widgetItems:e.widgetItems,selectedWidgetItem:e.selectedWidgetItem}})]},proxy:!0}])},[e._v(" "),[e._t("default")]],2)},staticRenderFns:[]},(function(e){e&&e("data-v-25d138b0_0",{source:'.button-group[data-v-25d138b0]{display:flex;flex-direction:row;width:100%}.button-group button[data-v-25d138b0]{flex:1;background-color:#fff;padding:10px 5px;border-width:0 0 4px 0;border-color:transparent;position:relative}.button-group button.active[data-v-25d138b0]::before{content:"";position:absolute;bottom:0;left:0;width:100%;height:4px;background-color:#cbf3f0}',map:void 0,media:void 0})}),{components:{Pane:ma,BuilderWidgetTree:Zn},props:{widgetItems:Object},inject:["getPageState"],data:function(){return{panelSections:La,sections:["widgetTree","addWidget"],selectedSection:"widgetTree"}},computed:{selectedWidgetItem:function(){var e,t=this.getPageState();return t.interactiveState.selectedWidgetId?null===(e=this.$props.widgetItems)||void 0===e?void 0:e[t.interactiveState.selectedWidgetId]:null}},methods:{setSelectedSection:function(e){this.$data.selectedSection=e}}},"data-v-25d138b0",false,undefined,!1,$e,void 0,void 0),Ma={props:{widget:Object,widgetItems:Object},inject:["getPageState","setPageState"],methods:{setSelectWidget:function(e){var t=this.getPageState();t.interactiveState.selectedWidgetId=e.id,this.setPageState(t)}}},Da={data:function(){return{width:"100%",height:"100%"}},computed:{deviceStyles:function(){return{width:this.$data.width,height:this.$data.height}}},methods:{setWidthHeight:function(e){var t=_(e.target.value.split("_"),2),n=t[0],r=t[1];this.$data.width=n,this.$data.height=r}}},Na={components:{BuilderWidgetsLayout:jn,BuilderRightPane:Aa,BuilderLeftPane:Fa,BuilderBottomPane:Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrapper"},[n("div",{staticClass:"left-pane"}),e._v(" "),n("div",{staticClass:"center"},[n("widget-breadcrumb",{attrs:{widget:e.selectedWidgetItem,widgetItems:e.widgetItems}})],1),e._v(" "),n("div",{staticClass:"right-pane"})])},staticRenderFns:[]},(function(e){e&&e("data-v-3699a990_0",{source:".wrapper[data-v-3699a990]{height:40px;z-index:1000;box-shadow:0 0 4px -2px #000;display:flex;flex-direction:row}.center[data-v-3699a990]{flex:1}.left-pane[data-v-3699a990],.right-pane[data-v-3699a990]{width:300px}",map:void 0,media:void 0})}),{components:{WidgetBreadcrumb:Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.widget?n("div",{staticClass:"widget-breadcrumb-wrapper"},[e._l(e.widget.getParents().reverse(),(function(t){return n("div",{key:t.id,staticClass:"widget-breadcrumb-item",on:{click:function(){return e.setSelectWidget(t)}}},[n("p",[e._v(e._s(t.type))]),e._v(" "),t.code?n("small",[e._v("("+e._s(t.code)+")")]):e._e()])})),e._v(" "),n("div",{staticClass:"widget-breadcrumb-item"},[n("p",[e._v(e._s(e.widget.type))]),e._v(" "),e.widget.code?n("small",[e._v("("+e._s(e.widget.code)+")")]):e._e()])],2):e._e()},staticRenderFns:[]},(function(e){e&&e("data-v-9289bfd8_0",{source:'.widget-breadcrumb-wrapper[data-v-9289bfd8]{display:flex;flex-direction:row;align-items:center}.widget-breadcrumb-item[data-v-9289bfd8]{position:relative;display:flex;flex-direction:row;padding:5px 10px 5px 20px;margin-top:5px;align-items:center;cursor:pointer}.widget-breadcrumb-item[data-v-9289bfd8]:not(:first-child)::before{content:">";position:absolute;top:6px;left:0;font-size:12pt}.widget-breadcrumb-item p[data-v-9289bfd8]{margin:0}.widget-breadcrumb-item small[data-v-9289bfd8]{margin-left:5px;color:#a1a1a1}',map:void 0,media:void 0})}),Ma,"data-v-9289bfd8",false,undefined,!1,$e,void 0,void 0)},props:{widgetItems:Object},inject:["getPageState"],computed:{selectedWidgetItem:function(){var e,t=this.getPageState();return t.interactiveState.selectedWidgetId?null===(e=this.widgetItems)||void 0===e?void 0:e[t.interactiveState.selectedWidgetId]:null}}},"data-v-3699a990",false,undefined,!1,$e,void 0,void 0),BuilderScreenSimulationView:Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrapper"},[n("select",{staticClass:"simulation-device-select",on:{change:e.setWidthHeight}},[n("option",{domProps:{value:"375px_667px",selected:"375px"===e.width&&"667px"===e.height}},[e._v("\n      iPhone SE\n    ")]),e._v(" "),n("option",{domProps:{value:"414px_896px",selected:"414px"===e.width&&"896px"===e.height}},[e._v("\n      iPhone XR\n    ")]),e._v(" "),n("option",{domProps:{value:"390px_844px",selected:"390px"===e.width&&"844px"===e.height}},[e._v("\n      iPhone 12 Pro\n    ")]),e._v(" "),n("option",{domProps:{value:"100%_100%",selected:"100%"===e.width&&"100%"===e.height}},[e._v("\n      Full\n    ")])]),e._v(" "),n("div",{staticClass:"device-wrapper"},[n("div",{staticClass:"device-inner-wrapper",style:e.deviceStyles},[n("div",{staticClass:"device-background"},[e._t("default")],2)])])])},staticRenderFns:[]},(function(e){e&&e("data-v-719a43da_0",{source:".wrapper[data-v-719a43da]{height:100%;overflow:hidden;background-color:#eaedf5;box-sizing:border-box;position:relative;display:flex;flex-direction:column;justify-content:center;align-items:center}.device-wrapper[data-v-719a43da]{height:100%;width:100%;padding:30px 30px 30px 30px;box-sizing:border-box;display:flex;flex-direction:column;justify-content:center;align-items:center;overflow:auto}.device-inner-wrapper[data-v-719a43da]{min-height:100px;background-color:#fff;border-radius:8px;position:relative}.device-background[data-v-719a43da]{background-color:#fff}.simulation-device-select[data-v-719a43da]{padding:5px 10px;border-radius:4px}",map:void 0,media:void 0})}),Da,"data-v-719a43da",false,undefined,!1,$e,void 0,void 0)},props:{languages:Object,locale:String,page:Object,onPageChange:Function,state:ft(ia).isRequired,onStateChange:Function,widgetControls:Object,questionControls:Object,plugins:pt(gt({widgetControls:Object,widgetEffectControls:Object,questionControls:Object})),view:String,configs:gt({widgets:gt({disableInternalControls:ct(),blacklist:pt(ut()),whitelist:pt(ut()),filters:Object}),questionControls:gt({disableInternalControls:ct(),blacklist:pt(ut()),whitelist:pt(ut()),filters:Object})})},data:function(){return{widgetItems:{},pageEventListener:new sa({emitEvent:this.emitEvent})}},computed:{widgetItemsArr:function(){return this.$props.page.widgets},combWidgetControls:function(){var e,t;return aa.apply(void 0,["widgetControls",null!==(e=this.$props.configs)&&void 0!==e&&e.widgets.disableInternalControls?{}:xr].concat(x(null===(t=this.$props.plugins||[])||void 0===t?void 0:t.map((function(e){return e.widgetControls}))),[this.$props.widgetControls]))},combWidgetEffectControls:function(){var e,t;return aa.apply(void 0,["widgetEffectControls",null!==(e=this.$props.configs)&&void 0!==e&&e.widgetEffectControls.disableInternalControls?{}:Ti].concat(x(null===(t=this.$props.plugins||[])||void 0===t?void 0:t.map((function(e){return e.widgetEffectControls}))),[this.$props.widgetEffectControls]))},combQuestionControls:function(){var e,t;return aa.apply(void 0,["questionControls",null!==(e=this.$props.configs)&&void 0!==e&&e.questionControls.disableInternalControls?{}:ra].concat(x(null===(t=this.$props.plugins||[])||void 0===t?void 0:t.map((function(e){return e.questionControls}))),[this.$props.questionControls]))},pageState:function(){return this.$props.state}},watch:{"page.widgets":{handler:function(e){var t=this;this.$data.widgetItems=e.reduce((function(e,n){var r,i=(null===(r=t.combWidgetControls[n.type])||void 0===r?void 0:r.widgetItem)||bn;return e[n.id]=new i({widget:n,pageEventListener:t.pageEventListener,emitEvent:t.emitEvent,removeWidget:t.removeWidget,getState:function(){return t.$props.state},setState:function(e){t.$emit("onStateChange",e)},onUpdate:function(e){var n,r;null===(n=(r=t.$props).onPageChange)||void 0===n||n.call(r,a(a({},t.$props.page),{},{widgets:Object.values(a(a({},t.$data.widgetItems),{},p({},e.id,e)))}))}}),e}),{}),Object.values(this.$data.widgetItems).forEach((function(e){e.setWidgetItems(t.$data.widgetItems)}))},immediate:!0,deep:!0}},methods:{t:function(e,t){var n,r,i=this.languages;return t&&(i=t.split(".").reduce((function(e,t){return null==e?void 0:e[t]}),i)),null===(n=i)||void 0===n||null===(r=n[this.$props.locale])||void 0===r?void 0:r.message[e]},emitEvent:function(e,t,n){var r=this;return d(regeneratorRuntime.mark((function i(){var o,a;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!Array.isArray(r.$listeners.event)){i.next=5;break}return i.next=3,Promise.all(r.$listeners.event.map((function(i){return i({name:e,value:t,widget:n,pageState:r.pageState,widgetItems:r.$data.widgetItems})})));case 3:i.next=7;break;case 5:return i.next=7,null===(o=(a=r.$listeners).event)||void 0===o?void 0:o.call(a,{name:e,value:t,widget:n,pageState:r.pageState,widgetItems:r.$data.widgetItems});case 7:case"end":return i.stop()}}),i)})))()},setMessage:function(e){var t=e.id,n=e.locale,r=e.key,i=e.value,o=e.type,s=void 0===o?"pageItem":o,d=a({},this.$props.languages);d[t]||(d[t]={}),d[t][n]||(d[t][n]={id:"",refId:t,type:s,version:1,locale:n,message:{}}),d[t][n].message[r]=i,this.$emit("onLanguageChange",d)},updatePage:function(e){this.$emit("onPageChange",e)},updateWidget:function(e){this.$data.widgetItems[e.id]=e,this.updatePage(a(a({},this.$props.page),{},{widgets:Object.values(this.$data.widgetItems).map((function(e){return e.widget}))}))},removeWidget:function(e){var t=this;this.updatePage(a(a({},this.$props.page),{},{widgets:Object.keys(this.$data.widgetItems).reduce((function(n,r){return r===e?n:[].concat(x(n),[t.$data.widgetItems[r].widget])}),[])}));var n=a({},this.$props.languages);delete n[e],this.$emit("onLanguageChange",n)}},provide:function(){var e=this;return{getView:function(){return e.$props.view},t:this.t,pageEventListener:this.pageEventListener,emitEvent:this.emitEvent,getLocale:function(){return e.$props.locale},languages:this.$props.languages,setMessage:this.setMessage,updateWidget:this.updateWidget,removeWidget:this.removeWidget,getPageState:function(){return e.$props.state},setPageState:function(t){e.$emit("onStateChange",t)},widgetEffectControls:this.combWidgetEffectControls,widgetControls:this.combWidgetControls,questionControls:this.combQuestionControls}}},qa=Pe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main-wrapper"},[n("div",{staticClass:"pane-wrapper"},[n("builder-left-pane",{attrs:{widgetItems:e.widgetItems}},[n("builder-right-pane",{attrs:{widgetItems:e.widgetItems}},[n("builder-screen-simulation-view",[n("builder-widgets-layout",{attrs:{widgetControls:e.combWidgetControls,widgetItems:e.widgetItems}})],1)],1)],1)],1),e._v(" "),n("builder-bottom-pane",{attrs:{widgetItems:e.widgetItems}})],1)},staticRenderFns:[]},(function(e){e&&e("data-v-7305e571_0",{source:".pane-wrapper[data-v-7305e571]{flex:1}.main-wrapper[data-v-7305e571]{font-family:Arial,Helvetica,sans-serif;position:absolute;height:100%;width:100%;background-color:#fff;display:flex;flex-direction:column}.widgets-layout-wrapper[data-v-7305e571]{padding:30px;background-color:#eaedf5;height:100%;box-sizing:border-box}.widgets-layout-inner-wrapper[data-v-7305e571]{background-color:#fff;position:relative;border-radius:4px;box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23)}",map:void 0,media:void 0})}),Na,"data-v-7305e571",false,undefined,!1,$e,void 0,void 0),Va=Object.freeze({__proto__:null,VuePage:pa,WidgetsLayout:wt,WidgetView:vt,VuePageBuilder:qa,PageState:ia,WidgetItem:bn,WidgetEffectControl:Cr,WidgetControlProps:_r,widgets:xr,QuestionControl:Wi,formatDateString:io,getDateByPropertyValue:oo,questionControls:ra}),Ba=function(e){Object.entries(Va).forEach((function(t){var n=_(t,2),r=n[0],i=n[1];e.component(r,i)}))},za=Object.freeze({__proto__:null,default:Ba,VuePage:pa,WidgetsLayout:wt,WidgetView:vt,VuePageBuilder:qa,PageState:ia,WidgetItem:bn,WidgetEffectControl:Cr,WidgetControlProps:_r,widgets:xr,QuestionControl:Wi,formatDateString:io,getDateByPropertyValue:oo,questionControls:ra});return Object.entries(za).forEach((function(e){var t=_(e,2),n=t[0],r=t[1];"default"!==n&&(Ba[n]=r)})),Ba}(crypto,vm);