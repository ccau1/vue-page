var VuePage=function(e,t){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=n(e),r=n(t);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n,i,r,a,o){try{var s=e[a](o),d=s.value}catch(e){return void n(e)}s.done?t(d):Promise.resolve(d).then(i,r)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){s(a,i,r,o,d,"next",e)}function d(e){s(a,i,r,o,d,"throw",e)}o(void 0)}))}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function u(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=g(e);if(t){var r=g(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return m(this,n)}}function b(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}function y(){return y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=b(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},y.apply(this,arguments)}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}(e,t)||S(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */()}function x(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||S(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var k,I=function(e,t){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},I(e,t)};function O(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var P=[],j=function(){function e(e){this.active=!0,this.effects=[],this.cleanups=[],this.vm=e}return e.prototype.run=function(e){if(this.active)try{return this.on(),e()}finally{this.off()}},e.prototype.on=function(){this.active&&(P.push(this),k=this)},e.prototype.off=function(){this.active&&(P.pop(),k=P[P.length-1])},e.prototype.stop=function(){this.active&&(this.vm.$destroy(),this.effects.forEach((function(e){return e.stop()})),this.cleanups.forEach((function(e){return e()})),this.active=!1)},e}();!function(e){function t(t){void 0===t&&(t=!1);var n,i=void 0;return function(e){var t=F;F=!1;try{e()}finally{F=t}}((function(){i=X(A())})),n=e.call(this,i)||this,t||function(e,t){var n;if((t=t||k)&&t.active)return void t.effects.push(e);var i=null===(n=D())||void 0===n?void 0:n.proxy;i&&i.$on("hook:destroyed",(function(){return e.stop()}))}(n),n}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}I(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(t,e)}(j);var E=void 0;try{var $=require("vue");$&&L($)?E=$:$&&"default"in $&&L($.default)&&(E=$.default)}catch(e){}var W=null,T=null,F=!0,R="__composition_api_installed__";function L(e){return e&&Q(e)&&"Vue"===e.name}function A(){return W}function M(e){if(F){var t=T;null==t||t.scope.off(),null==(T=e)||T.scope.on()}}function D(){return T}var N=new WeakMap;function q(e){if(N.has(e))return N.get(e);var t={proxy:e,update:e.$forceUpdate,type:e.$options,uid:e._uid,emit:e.$emit.bind(e),parent:null,root:null};!function(e){if(!e.scope){var t=new j(e.proxy);e.scope=t,e.proxy.$on("hook:destroyed",(function(){return t.stop()}))}e.scope}(t);return["data","props","attrs","refs","vnode","slots"].forEach((function(n){z(t,n,{get:function(){return e["$".concat(n)]}})})),z(t,"isMounted",{get:function(){return e._isMounted}}),z(t,"isUnmounted",{get:function(){return e._isDestroyed}}),z(t,"isDeactivated",{get:function(){return e._inactive}}),z(t,"emitted",{get:function(){return e._events}}),N.set(e,t),e.$parent&&(t.parent=q(e.$parent)),e.$root&&(t.root=q(e.$root)),t}function V(e){return"function"==typeof e&&/native code/.test(e.toString())}var B="undefined"!=typeof Symbol&&V(Symbol)&&"undefined"!=typeof Reflect&&V(Reflect.ownKeys),H=function(e){return e};function z(e,t,n){var i=n.get,r=n.set;Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:i||H,set:r||H})}function U(e,t,n,i){Object.defineProperty(e,t,{value:n,enumerable:!!i,writable:!0,configurable:!0})}function Y(e,t){return Object.hasOwnProperty.call(e,t)}function K(e){return Array.isArray(e)}function J(e){return null!==e&&"object"==typeof e}function G(e){return"[object Object]"===function(e){return Object.prototype.toString.call(e)}(e)}function Q(e){return"function"==typeof e}function X(e,t){void 0===t&&(t={});var n=e.config.silent;e.config.silent=!0;var i=new e(t);return e.config.silent=n,i}function Z(e,t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(e.$scopedSlots[t])return e.$scopedSlots[t].apply(e,n)}}var ee="composition-api.refKey",te=new WeakMap,ne=new WeakMap;function ie(e,t,n){var i=A().util;i.warn;var r=i.defineReactive,a=e.__ob__;function o(){a&&J(n)&&!Y(n,"__ob__")&&ge(n)}if(K(e)){if(function(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)&&t<=4294967295}(t))return e.length=Math.max(e.length,t),e.splice(t,1,n),o(),n;if("length"===t&&n!==e.length)return e.length=n,null==a||a.dep.notify(),n}return t in e&&!(t in Object.prototype)?(e[t]=n,o(),n):e._isVue||a&&a.vmCount?n:a?(r(a.value,t,n),pe(e,t,n),o(),a.dep.notify(),n):(e[t]=n,n)}var re=function(e){z(this,"value",{get:e.get,set:e.set})};function ae(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=new re(e);n&&(i.effect=!0);var r=Object.seal(i);return t&&ne.set(r,!0),r}function oe(e){var t;if(se(e))return e;var n=ve(((t={})[ee]=e,t));return ae({get:function(){return n[ee]},set:function(e){return n[ee]=e}})}function se(e){return e instanceof re}function de(e,t){t in e||ie(e,t,void 0);var n=e[t];return se(n)?n:ae({get:function(){return e[t]},set:function(n){return e[t]=n}})}function ce(e){var t;return Boolean(e&&Y(e,"__ob__")&&"object"==typeof e.__ob__&&(null===(t=e.__ob__)||void 0===t?void 0:t.__raw__))}function le(e){var t;return Boolean(e&&Y(e,"__ob__")&&"object"==typeof e.__ob__&&!(null===(t=e.__ob__)||void 0===t?void 0:t.__raw__))}function ue(e){if(!(!G(e)||ce(e)||K(e)||se(e)||(t=e,n=A(),n&&t instanceof n)||te.has(e))){var t,n;te.set(e,!0);for(var i=Object.keys(e),r=0;r<i.length;r++)pe(e,i[r])}}function pe(e,t,n){if("__ob__"!==t&&!ce(e[t])){var i,r,a=Object.getOwnPropertyDescriptor(e,t);if(a){if(!1===a.configurable)return;i=a.get,r=a.set,i&&!r||2!==arguments.length||(n=e[t])}ue(n),z(e,t,{get:function(){var r=i?i.call(e):n;return t!==ee&&se(r)?r.value:r},set:function(a){i&&!r||(t!==ee&&se(n)&&!se(a)?n.value=a:r?(r.call(e,a),n=a):n=a,ue(a))}})}}function fe(e){var t,n=W||E;n.observable?t=n.observable(e):t=X(n,{data:{$$state:e}})._data.$$state;return Y(t,"__ob__")||ge(t),t}function ge(e,t){var n,i;if(void 0===t&&(t=new Set),!t.has(e)&&!Y(e,"__ob__")&&Object.isExtensible(e)){U(e,"__ob__",function(e){void 0===e&&(e={});return{value:e,dep:{notify:H,depend:H,addSub:H,removeSub:H}}}(e)),t.add(e);try{for(var r=O(Object.keys(e)),a=r.next();!a.done;a=r.next()){var o=e[a.value];(G(o)||K(o))&&!ce(o)&&Object.isExtensible(o)&&ge(o,t)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}}}function ve(e){if(!J(e))return e;if(!G(e)&&!K(e)||ce(e)||!Object.isExtensible(e))return e;var t=fe(e);return ue(t),t}var he={set:function(e,t,n){(e.__composition_api_state__=e.__composition_api_state__||{})[t]=n},get:function(e,t){return(e.__composition_api_state__||{})[t]}};function me(e){var t=he.get(e,"rawBindings")||{};if(t&&Object.keys(t).length){for(var n=e.$refs,i=he.get(e,"refs")||[],r=0;r<i.length;r++){var a=t[d=i[r]];!n[d]&&a&&se(a)&&(a.value=null)}var o=Object.keys(n),s=[];for(r=0;r<o.length;r++){var d;a=t[d=o[r]];n[d]&&a&&se(a)&&(a.value=n[d],s.push(d))}he.set(e,"refs",s)}}function we(e){for(var t=[e._vnode];t.length;){var n=t.pop();if(n.context&&me(n.context),n.children)for(var i=0;i<n.children.length;++i)t.push(n.children[i])}}function be(e,t){var n,i;if(e){var r=he.get(e,"attrBindings");if(r||t){if(!r){var a=ve({});r={ctx:t,data:a},he.set(e,"attrBindings",r),z(t,"attrs",{get:function(){return null==r?void 0:r.data},set:function(){}})}var o=e.$attrs,s=function(t){Y(r.data,t)||z(r.data,t,{get:function(){return e.$attrs[t]}})};try{for(var d=O(Object.keys(o)),c=d.next();!c.done;c=d.next()){s(c.value)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}}}}function ye(e,t){var n=e.$options._parentVnode;if(n){for(var i=he.get(e,"slots")||[],r=function(e,t){var n;if(e){if(e._normalized)return e._normalized;for(var i in n={},e)e[i]&&"$"!==i[0]&&(n[i]=!0)}else n={};for(var i in t)i in n||(n[i]=!0);return n}(n.data.scopedSlots,e.$slots),a=0;a<i.length;a++){r[s=i[a]]||delete t[s]}var o=Object.keys(r);for(a=0;a<o.length;a++){var s;t[s=o[a]]||(t[s]=Z(e,s))}he.set(e,"slots",o)}}function _e(e,t,n){var i=D();M(e);try{return t(e)}catch(e){if(!n)throw e;n(e)}finally{M(i)}}function xe(e){function t(e,n){if(void 0===n&&(n=new Set),!n.has(e)&&G(e)&&!se(e)&&!le(e)&&!ce(e)){var i=A().util.defineReactive;Object.keys(e).forEach((function(r){var a=e[r];i(e,r,a),a&&(n.add(a),t(a,n))}))}}function n(e,t){return void 0===t&&(t=new Map),t.has(e)?t.get(e):(t.set(e,!1),K(e)&&le(e)?(t.set(e,!0),!0):!(!G(e)||ce(e)||se(e))&&Object.keys(e).some((function(i){return n(e[i],t)})))}e.mixin({beforeCreate:function(){var e=this,i=e.$options,r=i.setup,a=i.render;a&&(i.render=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return _e(q(e),(function(){return a.apply(t,n)}))});if(!r)return;if(!Q(r))return;var o=i.data;i.data=function(){return function(e,i){void 0===i&&(i={});var r,a=e.$options.setup,o=function(e){var t={slots:{}},n=["emit"];return["root","parent","refs","listeners","isServer","ssrContext"].forEach((function(n){var i="$".concat(n);z(t,n,{get:function(){return e[i]},set:function(){}})})),be(e,t),n.forEach((function(n){var i="$".concat(n);z(t,n,{get:function(){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e[i].apply(e,t)}}})})),t}(e),s=q(e);if(s.setupContext=o,U(i,"__ob__",function(){return fe({}).__ob__}()),ye(e,o.slots),_e(s,(function(){r=a(i,o)})),!r)return;if(Q(r)){var d=r;return void(e.$options.render=function(){return ye(e,o.slots),_e(s,(function(){return d()}))})}if(J(r)){le(r)&&(r=function(e){if(!G(e))return e;var t={};for(var n in e)t[n]=de(e,n);return t}(r)),he.set(e,"rawBindings",r);var c=r;Object.keys(c).forEach((function(i){var r=c[i];if(!se(r))if(le(r))K(r)&&(r=oe(r));else if(Q(r)){var a=r;r=r.bind(e),Object.keys(a).forEach((function(e){r[e]=a[e]}))}else J(r)?n(r)&&t(r):r=oe(r);!function(e,t,n){var i=e.$options.props;t in e||i&&Y(i,t)||(se(n)?z(e,t,{get:function(){return n.value},set:function(e){n.value=e}}):z(e,t,{get:function(){return le(n)&&n.__ob__.dep.depend(),n},set:function(e){n=e}}))}(e,i,r)}))}}(e,e.$props),Q(o)?o.call(e,e):o||{}}},mounted:function(){we(this)},beforeUpdate:function(){be(this)},updated:function(){we(this)}})}function Se(e,t){if(!e)return t;if(!t)return e;for(var n,i,r,a=B?Reflect.ownKeys(e):Object.keys(e),o=0;o<a.length;o++)"__ob__"!==(n=a[o])&&(i=t[n],r=e[n],Y(t,n)?i!==r&&G(i)&&!se(i)&&G(r)&&!se(r)&&Se(r,i):t[n]=r);return t}function Ce(e){(function(e){return W&&Y(e,R)})(e)||(e.config.optionMergeStrategies.setup=function(e,t){return function(n,i){return Se(Q(e)?e(n,i)||{}:void 0,Q(t)?t(n,i)||{}:void 0)}},function(e){W=e,Object.defineProperty(e,R,{configurable:!0,writable:!0,value:!0})}(e),xe(e))}var ke={install:function(e){return Ce(e)}};"undefined"!=typeof window&&window.Vue&&window.Vue.use(ke);var Ie={props:{widget:Object,widgetControls:Object,widgetItems:Object,pageState:Object,setWidgetState:Function,getWidgetState:Function,view:String,wrapperRef:HTMLDivElement,t:Function},inject:["getLocale","setMessage"],mounted:function(){var e=this;this.$nextTick((function(){e.$refs.titleInput.style.height="",e.$refs.titleInput.style.height=e.$refs.titleInput.scrollHeight+"px",e.$refs.textInput.style.height="",e.$refs.textInput.style.height=e.$refs.textInput.scrollHeight+"px"}))},data:function(){return{isOpen:!0}},methods:{onCloseAlert:function(){var e=this;this.$data.isOpen=!1,setTimeout((function(){return e.$data.isOpen=!0}),1e3)},updateText:function(e,t){this.setMessage({id:this.$props.widget.id,locale:this.getLocale(),key:"__".concat(e),value:t.replaceAll(/\n|\r/g,"")})}},computed:{alertStyles:function(){var e,t;return"custom"!==(null===(e=this.widget)||void 0===e?void 0:e.properties.type)||null!==(t=this.widget)&&void 0!==t&&t.properties.customColor?{}:o({backgroundColor:this.widget.properties.customBackgroundColor,borderColor:this.widget.properties.customBorderColor||"transparent"},this.widget.properties.customTextColor?{color:this.widget.properties.customTextColor}:{})}}};function Oe(e,t,n,i,r,a,o,s,d,c){"boolean"!=typeof o&&(d=s,s=o,o=!1);const l="function"==typeof n?n.options:n;let u;if(e&&e.render&&(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),i&&(l._scopeId=i),a?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,d(e)),e&&e._registeredComponents&&e._registeredComponents.add(a)},l._ssrRegister=u):t&&(u=o?function(e){t.call(this,c(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,s(e))}),u)if(l.functional){const e=l.render;l.render=function(t,n){return u.call(n),e(t,n)}}else{const e=l.beforeCreate;l.beforeCreate=e?[].concat(e,u):[u]}return n}const Pe="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function je(e){return(e,t)=>function(e,t){const n=Pe?t.media||"default":e,i=$e[n]||($e[n]={ids:new Set,styles:[]});if(!i.ids.has(e)){i.ids.add(e);let n=t.source;if(t.map&&(n+="\n/*# sourceURL="+t.map.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),i.element||(i.element=document.createElement("style"),i.element.type="text/css",t.media&&i.element.setAttribute("media",t.media),void 0===Ee&&(Ee=document.head||document.getElementsByTagName("head")[0]),Ee.appendChild(i.element)),"styleSheet"in i.element)i.styles.push(n),i.element.styleSheet.cssText=i.styles.filter(Boolean).join("\n");else{const e=i.ids.size-1,t=document.createTextNode(n),r=i.element.childNodes;r[e]&&i.element.removeChild(r[e]),r.length?i.element.insertBefore(t,r[e]):i.element.appendChild(t)}}}(e,t)}let Ee;const $e={};var We=Oe({render:function(){var e,t=this,n=this,i=n.$createElement,r=n._self._c||i;return n.isOpen?r("div",{staticClass:"alert",class:(e={},e[n.widget.properties.type]=!0,e),style:n.alertStyles},[r("h3",{staticClass:"title"},[r("textarea",{ref:"titleInput",staticClass:"text-input",attrs:{oninput:'this.style.height = "";this.style.height = this.scrollHeight + "px"'},domProps:{value:n.t("__title",n.widget.id)},on:{input:function(e){return n.updateText("title",e.target.value)},load:function(){t.style.height="",t.style.height=t.scrollHeight+"px"}}})]),n._v(" "),r("p",[r("textarea",{ref:"textInput",staticClass:"text-input",attrs:{oninput:'this.style.height = "";this.style.height = this.scrollHeight + "px"'},domProps:{value:n.t("__text",n.widget.id)},on:{input:function(e){return n.updateText("text",e.target.value)},load:function(){t.style.height="",t.style.height=t.scrollHeight+"px"}}})]),n._v(" "),n.widget.properties.showCloseBtn?r("a",{staticClass:"close-button",on:{click:n.onCloseAlert}},[n._v("x")]):n._e()]):n._e()},staticRenderFns:[]},(function(e){e&&e("data-v-743050cb_0",{source:".alert[data-v-743050cb]{padding:18px 18px;margin:10px 0;border-radius:10px;background-color:#f4f6f8;border:1px solid #e5e9ed;position:relative}.alert.success[data-v-743050cb]{background-color:#ebf7ee;border-color:#e2f1e7}.alert.info[data-v-743050cb]{background-color:#e6f0f8;border-color:#cad9e7}.alert.danger[data-v-743050cb]{background-color:#fdede9;border-color:#f2e1dd}.alert.warning[data-v-743050cb]{background-color:#fef8ea;border-color:#f4eada}.alert .title[data-v-743050cb]{margin:0 0 10px 0;font-weight:700}.alert>.close-button[data-v-743050cb]{position:absolute;top:0;right:0;padding:18px 18px;cursor:pointer;transform:scaleX(1.2)}.text-input[data-v-743050cb]{font-size:inherit;font-weight:inherit;font-family:inherit;border:none;outline:0;width:100%;background-color:transparent;resize:none;min-height:10px;margin-bottom:-15px}",map:void 0,media:void 0})}),Ie,"data-v-743050cb",false,undefined,!1,je,void 0,void 0),Te=Oe({render:function(){var e,t=this,n=t.$createElement,i=t._self._c||n;return t.isOpen?i("div",{staticClass:"alert",class:(e={},e[t.widget.properties.type]=!0,e),style:t.alertStyles},[i("h3",{staticClass:"title"},[t._v(t._s(t.t("__title")))]),t._v(" "),i("div",{domProps:{innerHTML:t._s(t.t("__text"))}}),t._v(" "),t.widget.properties.showCloseBtn?i("a",{staticClass:"close-button",on:{click:t.onCloseAlert}},[t._v("x")]):t._e()]):t._e()},staticRenderFns:[]},(function(e){e&&e("data-v-54aa1783_0",{source:".alert[data-v-54aa1783]{padding:18px 18px;margin:10px 0;border-radius:10px;background-color:#f4f6f8;border:1px solid #e5e9ed;position:relative}.alert.success[data-v-54aa1783]{background-color:#ebf7ee;border-color:#e2f1e7}.alert.info[data-v-54aa1783]{background-color:#e6f0f8;border-color:#cad9e7}.alert.danger[data-v-54aa1783]{background-color:#fdede9;border-color:#f2e1dd}.alert.warning[data-v-54aa1783]{background-color:#fef8ea;border-color:#f4eada}.alert .title[data-v-54aa1783]{margin:0 0 10px 0;font-weight:700}.alert>.close-button[data-v-54aa1783]{position:absolute;top:0;right:0;padding:18px 18px;cursor:pointer;transform:scaleX(1.2)}",map:void 0,media:void 0})}),{props:{widget:Object,widgetControls:Object,widgetItems:Object,pageState:Object,setWidgetState:Function,getWidgetState:Function,view:String,wrapperRef:HTMLDivElement,t:Function},data:function(){return{isOpen:!0}},methods:{onCloseAlert:function(){this.$data.isOpen=!1}},computed:{alertStyles:function(){return"custom"!==this.widget.properties.type||this.widget.properties.customColor?{}:o({backgroundColor:this.widget.properties.customBackgroundColor,borderColor:this.widget.properties.customBorderColor||"transparent"},this.widget.properties.customTextColor?{color:this.widget.properties.customTextColor}:{})}}},"data-v-54aa1783",false,undefined,!1,je,void 0,void 0),Fe=Oe({render:function(){var e,t=this,n=t.$createElement,i=t._self._c||n;return t.isOpen?i("div",{staticClass:"alert",class:(e={},e[t.widget.properties.type]=!0,e),style:t.alertStyles},[i("h3",[t._v(t._s(t.t("__title",t.widget.id)))]),t._v(" "),i("p",[t._v(t._s(t.t("__text",t.widget.id)))]),t._v(" "),t.widget.properties.showCloseBtn?i("a",{staticClass:"close-button",on:{click:t.onCloseAlert}},[t._v("x")]):t._e()]):t._e()},staticRenderFns:[]},(function(e){e&&e("data-v-2eec7e47_0",{source:".alert[data-v-2eec7e47]{padding:10px;margin:10px;border-radius:10px;background-color:#f4f6f8;border:1px solid #e5e9ed;position:relative}.alert.success[data-v-2eec7e47]{background-color:#ebf7ee;border-color:#e2f1e7}.alert.info[data-v-2eec7e47]{background-color:#e6f0f8;border-color:#cad9e7}.alert.danger[data-v-2eec7e47]{background-color:#fdede9;border-color:#f2e1dd}.alert.warning[data-v-2eec7e47]{background-color:#fef8ea;border-color:#f4eada}.alert>.close-button[data-v-2eec7e47]{position:absolute;top:0;right:0;padding:10px 15px;cursor:pointer;transform:scaleX(1.2)}",map:void 0,media:void 0})}),{data:function(){return{isOpen:!0}},methods:{onCloseAlert:function(){this.$data.isOpen=!1}},computed:{alertStyles:function(){return"custom"!==this.widget.properties.type||this.widget.properties.customColor?{}:o({backgroundColor:this.widget.properties.customBackgroundColor,borderColor:this.widget.properties.customBorderColor||"transparent"},this.widget.properties.customTextColor?{color:this.widget.properties.customTextColor}:{})}}},"data-v-2eec7e47",false,undefined,!1,je,void 0,void 0);const Re=new Uint8Array(256);let Le=Re.length;function Ae(){return Le>Re.length-16&&(i.default.randomFillSync(Re),Le=0),Re.slice(Le,Le+=16)}var Me=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const De=[];for(let e=0;e<256;++e)De.push((e+256).toString(16).substr(1));function Ne(e,t=0){const n=(De[e[t+0]]+De[e[t+1]]+De[e[t+2]]+De[e[t+3]]+"-"+De[e[t+4]]+De[e[t+5]]+"-"+De[e[t+6]]+De[e[t+7]]+"-"+De[e[t+8]]+De[e[t+9]]+"-"+De[e[t+10]]+De[e[t+11]]+De[e[t+12]]+De[e[t+13]]+De[e[t+14]]+De[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&Me.test(e)}(n))throw TypeError("Stringified UUID is invalid");return n}function qe(e,t,n){const i=(e=e||{}).random||(e.rng||Ae)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=i[e];return t}return Ne(i)}var Ve={create:function(e){return{id:qe(),type:"alert",properties:o({type:"default"},e)}},display:Te,builder:We,readOnly:Fe},Be=Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(e.widget.properties.tagType,{tag:"component",staticClass:"header"},[n("input",{staticClass:"header-input",attrs:{type:"text"},domProps:{value:e.t("__label",e.widget.id)},on:{input:e.onTextChange}})])},staticRenderFns:[]},(function(e){e&&e("data-v-1550b213_0",{source:".header-input[data-v-1550b213]{font-size:inherit;font-family:inherit;font-weight:inherit;outline:0;border:none;width:100%;background-color:transparent}",map:void 0,media:void 0})}),{props:{widget:Object,widgetControls:Object,widgetItems:Object,pageState:Object,setWidgetState:Function,getWidgetState:Function,view:String,wrapperRef:HTMLDivElement,t:Function},inject:["getLocale","setMessage"],methods:{onTextChange:function(e){this.setMessage({id:this.$props.widget.id,locale:this.getLocale(),key:"__label",value:e.target.value})}}},"data-v-1550b213",false,undefined,!1,je,void 0,void 0),He=Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"control-wrapper"},[n("a",{staticClass:"tag-selection",class:{selected:"h1"===e.widget.properties.tagType},on:{click:function(t){return e.setTagType("h1")}}},[e._v("H1")]),e._v(" "),n("a",{staticClass:"tag-selection",class:{selected:"h2"===e.widget.properties.tagType},on:{click:function(t){return e.setTagType("h2")}}},[e._v("H2")]),e._v(" "),n("a",{staticClass:"tag-selection",class:{selected:"h3"===e.widget.properties.tagType},on:{click:function(t){return e.setTagType("h3")}}},[e._v("H3")]),e._v(" "),n("a",{staticClass:"tag-selection",class:{selected:"h4"===e.widget.properties.tagType},on:{click:function(t){return e.setTagType("h4")}}},[e._v("H4")]),e._v(" "),n("a",{staticClass:"tag-selection",class:{selected:"h5"===e.widget.properties.tagType},on:{click:function(t){return e.setTagType("h5")}}},[e._v("H5")]),e._v(" "),n("a",{staticClass:"tag-selection",class:{selected:"h6"===e.widget.properties.tagType},on:{click:function(t){return e.setTagType("h6")}}},[e._v("H6")])])},staticRenderFns:[]},(function(e){e&&e("data-v-6615e780_0",{source:".control-wrapper[data-v-6615e780]{display:flex;flex-direction:row;border-radius:8px;border:1px solid #e8e8e8;background-color:#fff;overflow:hidden}.tag-selection[data-v-6615e780]{height:30px;width:40px;display:flex;align-items:center;justify-content:center;cursor:pointer}.tag-selection[data-v-6615e780]:hover{background-color:#e8e8e8}.tag-selection.selected[data-v-6615e780]{background-color:#03a9f4;color:#fff}",map:void 0,media:void 0})}),{props:{widget:Object,widgets:Object,widgetItems:Object,pageState:Object,setWidgetState:Function},inject:["updateWidget"],methods:{setTagType:function(e){this.widget.properties.tagType=e,this.updateWidget(this.widget)}}},"data-v-6615e780",false,undefined,!1,je,void 0,void 0),ze={create:function(e){return{id:qe(),type:"header",properties:o({tagType:"h1"},e)}},display:Oe({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)(e.widget.properties.tagType,{tag:"component",staticClass:"header"},[e._v(e._s(e.t("__label",e.widget.id)))])},staticRenderFns:[]},undefined,{},"data-v-3e7718be",false,undefined,!1,void 0,void 0,void 0),builder:Be,builderControl:He,readOnly:Oe({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)(e.widget.properties.tagType,{tag:"component",staticClass:"header"},[e._v(e._s(e.t("__label",e.widget.id)))])},staticRenderFns:[]},(function(e){e&&e("data-v-3a71698b_0",{source:".header[data-v-3a71698b]{padding:0 10px}",map:void 0,media:void 0})}),{},"data-v-3a71698b",false,undefined,!1,je,void 0,void 0)},Ue=Oe({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"html-wrapper",domProps:{innerHTML:e._s(e.t("__html",e.widget.id))}})},staticRenderFns:[]},undefined,{props:{widget:Object,widgetControls:Object,widgetItems:Object,pageState:Object,setWidgetState:Function,getWidgetState:Function,view:String,wrapperRef:HTMLDivElement,t:Function}},"data-v-01854e0d",false,undefined,!1,void 0,void 0,void 0),Ye={create:function(e){return{id:qe(),type:"html",properties:o({from:"default"},e)}},display:Oe({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"html-wrapper",domProps:{innerHTML:e._s(e.t("__html"))}})},staticRenderFns:[]},undefined,{props:{widget:Object,widgetControls:Object,widgetItems:Object,pageState:Object,setWidgetState:Function,getWidgetState:Function,view:String,wrapperRef:HTMLDivElement,t:Function}},"data-v-7eacb6b9",false,undefined,!1,void 0,void 0,void 0),builder:Ue,readOnly:Oe({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{domProps:{innerHTML:e._s(e.widget.properties.html)}})},staticRenderFns:[]},undefined,{},undefined,false,undefined,!1,void 0,void 0,void 0)};
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
function Ke(e){return"[object Object]"===Object.prototype.toString.call(e)}var Je=Object.prototype,Ge=Je.toString,Qe=Je.hasOwnProperty,Xe=/^\s*function (\w+)/;function Ze(e){var t,n=null!==(t=null==e?void 0:e.type)&&void 0!==t?t:e;if(n){var i=n.toString().match(Xe);return i?i[1]:""}return""}var et=function(e){var t,n;return!1!==Ke(e)&&(void 0===(t=e.constructor)||!1!==Ke(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf"))},tt=function(e){return e},nt=function(e,t){return Qe.call(e,t)},it=Array.isArray||function(e){return"[object Array]"===Ge.call(e)},rt=function(e){return"[object Function]"===Ge.call(e)};function at(e,t){return Object.defineProperty(e.bind(t),"__original",{value:e})}function ot(e,t,n){var i;void 0===n&&(n=!1);var r=!0,a="",o=function(e){return et(e)&&nt(e,"_vueTypes_name")}(i=et(e)?e:{type:e})?i._vueTypes_name+" - ":"";if(function(e){return et(e)&&(nt(e,"type")||["_vueTypes_name","validator","default","required"].some((function(t){return nt(e,t)})))}(i)&&null!==i.type){if(void 0===i.type||!0===i.type)return r;if(!i.required&&void 0===t)return r;it(i.type)?(r=i.type.some((function(e){return!0===ot(e,t,!0)})),a=i.type.map((function(e){return Ze(e)})).join(" or ")):r="Array"===(a=Ze(i))?it(t):"Object"===a?et(t):"String"===a||"Number"===a||"Boolean"===a||"Function"===a?function(e){if(null==e)return"";var t=e.constructor.toString().match(Xe);return t?t[1]:""}(t)===a:t instanceof i.type}if(!r){var s=o+'value "'+t+'" should be of type "'+a+'"';return!1===n?(tt(s),!1):s}if(nt(i,"validator")&&rt(i.validator)){var d=tt,c=[];if(tt=function(e){c.push(e)},r=i.validator(t),tt=d,!r){var l=(c.length>1?"* ":"")+c.join("\n* ");return c.length=0,!1===n?(tt(l),r):l}}return r}function st(e,t){var n=Object.defineProperties(t,{_vueTypes_name:{value:e,writable:!0},isRequired:{get:function(){return this.required=!0,this}},def:{value:function(e){return void 0===e?(nt(this,"default")&&delete this.default,this):rt(e)||!0===ot(this,e,!0)?(this.default=it(e)?function(){return[].concat(e)}:et(e)?function(){return Object.assign({},e)}:e,this):(tt(this._vueTypes_name+' - invalid default value: "'+e+'"'),this)}}}),i=n.validator;return rt(i)&&(n.validator=at(i,n)),n}function dt(e,t){var n=st(e,t);return Object.defineProperty(n,"validate",{value:function(e){return rt(this.validator)&&tt(this._vueTypes_name+" - calling .validate() will overwrite the current custom validator function. Validator info:\n"+JSON.stringify(this)),this.validator=at(e,this),this}})}function ct(e){return e.replace(/^(?!\s*$)/gm,"  ")}var lt=function(){return dt("boolean",{type:Boolean})},ut=function(){return dt("string",{type:String})};function pt(e){return st("arrayOf",{type:Array,validator:function(t){var n="",i=t.every((function(t){return!0===(n=ot(e,t,!0))}));return i||tt("arrayOf - value validation error:\n"+ct(n)),i}})}function ft(e){return st("instanceOf",{type:e})}function gt(e){var t=Object.keys(e),n=t.filter((function(t){var n;return!(null===(n=e[t])||void 0===n||!n.required)})),i=st("shape",{type:Object,validator:function(i){var r=this;if(!et(i))return!1;var a=Object.keys(i);if(n.length>0&&n.some((function(e){return-1===a.indexOf(e)}))){var o=n.filter((function(e){return-1===a.indexOf(e)}));return tt(1===o.length?'shape - required property "'+o[0]+'" is not defined.':'shape - required properties "'+o.join('", "')+'" are not defined.'),!1}return a.every((function(n){if(-1===t.indexOf(n))return!0===r._vueTypes_isLoose||(tt('shape - shape definition does not include a "'+n+'" property. Allowed keys: "'+t.join('", "')+'".'),!1);var a=ot(e[n],i[n],!0);return"string"==typeof a&&tt('shape - "'+n+'" property validation error:\n '+ct(a)),!0===a}))}});return Object.defineProperty(i,"_vueTypes_isLoose",{writable:!0,value:!1}),Object.defineProperty(i,"loose",{get:function(){return this._vueTypes_isLoose=!0,this}}),i}var vt=Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"widget-wrapper"},[e.widget.style?n("style",{tag:"component",attrs:{scoped:""}},[e._v("\n    "+e._s(e.widget.style)+"\n  ")]):e._e(),e._v(" "),"builder"===e.view?n("div",{staticClass:"widget-form-control"},[n(e.widgetControls[e.widget.type].builderControl,{tag:"component",attrs:{widget:e.widget,widgetControls:e.widgetControls,widgetItems:e.widgetItems,pageState:e.pageState,setWidgetState:function(t,n){return e.setWidgetState(t,n,e.widget)},getWidgetState:function(t){return e.getWidgetState(t,e.widget)},view:e.view}})],1):e._e(),e._v(" "),n("div",{ref:"widgetComponentWrapper",staticClass:"widget-component-wrapper"},[e._l(e.widget.effects,(function(t){return n(e.widgetEffectControls[t.type].display,{key:t.type,tag:"component",attrs:{properties:t.properties,wrapperRef:e.$refs.widgetComponentWrapper}})})),e._v(" "),n(e.widgetControls[e.widget.type][e.view||"display"],{tag:"component",attrs:{widget:e.widget,widgetControls:e.widgetControls,widgetItems:e.widgetItems,pageState:e.pageState,setWidgetState:function(t,n){return e.setWidgetState(t,n,e.widget)},getWidgetState:function(t){return e.getWidgetState(t,e.widget)},view:e.view,wrapperRef:e.$refs.widgetComponentWrapper,t:e.widget.t}})],2)],1)},staticRenderFns:[]},(function(e){e&&e("data-v-76487044_0",{source:".widget-component-wrapper[data-v-76487044]{position:relative}.widget-wrapper[data-v-76487044]{padding:0 10px}",map:void 0,media:void 0})}),{props:{widget:Object,widgetControls:Object,widgetItems:Object,pageState:Object,setWidgetState:Function,getWidgetState:Function,view:String},inject:["widgetEffectControls"]},"data-v-76487044",false,undefined,!1,je,void 0,void 0),ht={components:{WidgetView:vt},props:{widgetControls:Object,widgetItems:Object,excludeWidgetIds:pt(String),onlyIncludeWidgetIds:pt(String),widgetsOrder:pt(String),forParent:String},inject:["widgetControls","getPageState","getView","setPageState"],computed:{view:function(){return this.getView()},pageState:function(){return this.getPageState()},widgetItemsArr:function(){return Object.values(this.$props.widgetItems)},filteredWidgetItemsArr:function(){var e=this;return this.widgetItemsArr.filter((function(t){return(!e.forParent&&!t.parentId||t.parentId===e.forParent)&&(!e.$props.onlyIncludeWidgetIds||e.$props.onlyIncludeWidgetIds.includes(t.id))&&(!(e.excludeWidgetIds||[]).length||!e.excludeWidgetIds.includes(t.id))})).sort((function(t,n){return((e.$props.widgetsOrder||[]).includes(t.id)?e.$props.widgetsOrder.indexOf(t.id):t.order||0)-((e.$props.widgetsOrder||[]).includes(n.id)?e.$props.widgetsOrder.indexOf(n.id):n.order||0)}))}},methods:{setWidgetState:function(e,t,n){var i=this.pageState;if(void 0===t){if(!i.widgetState[n.id])return;delete i.widgetState[n.id][e]}else i.widgetState[n.id]||(i.widgetState[n.id]={}),i.widgetState[n.id][e]=t;this.setPageState(i)},getWidgetState:function(e,t){var n;return null===(n=this.pageState.widgetState[t.id])||void 0===n?void 0:n[e]}}},mt=Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.filteredWidgetItemsArr,(function(t){return n("div",{key:t.id,staticClass:"widget-container"},[n("widget-view",{attrs:{widget:t,widgetControls:e.widgetControls,widgetItems:e.widgetItems,pageState:e.pageState,setWidgetState:e.setWidgetState,getWidgetState:e.getWidgetState,view:e.view}})],1)})),0)},staticRenderFns:[]},(function(e){e&&e("data-v-301b8b22_0",{source:".widget-container[data-v-301b8b22]{position:relative}",map:void 0,media:void 0})}),ht,"data-v-301b8b22",false,undefined,!1,je,void 0,void 0),wt=mt;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function bt(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}var yt=function(e,t){return e.reduce((function(e,n){var i="[object "+n+"]";return t?e[i]=n:e[n]=i,e}),{})},_t=function(e){return e.reduce((function(e,t){return e[t]=!0,e}),{})},xt=["Array","Arguments","Object","RegExp","Symbol","Map","Set","Date","Error","Event","Generator","Promise","WeakMap","WeakSet","DocumentFragment","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","ArrayBuffer","DataView","DocumentFragment","Window","String","Number","Boolean","Function","Undefined","GeneratorFunction","BigInt","Null"],St=yt(xt,!1),Ct=yt(xt,!0),kt=_t([St.Generator,St.Promise,St.WeakMap,St.WeakSet]),It=_t([St.Map,St.Set]),Ot=_t([St.Date,St.RegExp]),Pt=_t(["bigint","boolean","function","number","string","undefined"]),jt=_t([St.Arguments,St.Array]),Et=_t([St.RegExp,St.Symbol]),$t=_t([St.Float32Array,St.Float64Array,St.Int8Array,St.Int16Array,St.Int32Array,St.Uint8Array,St.Uint8ClampedArray,St.Uint16Array,St.Uint32Array]),Wt="undefined"!=typeof Buffer&&"function"==typeof Buffer.from,Tt="function"==typeof Uint16Array;function Ft(e){return String.fromCharCode.apply(null,new Uint16Array(e))}function Rt(e){return Buffer.from(e).toString("utf8")}function Lt(e){return""}var At=Wt?Rt:Tt?Ft:Lt,Mt=/\[object ([HTML|SVG](.*)Element)\]/,Dt=Object.prototype.toString,Nt=Object.keys;function qt(e,t){return e>t}function Vt(e,t){return e[0]>t[0]}function Bt(e,t){for(var n,i,r=0;r<e.length;++r){for(i=e[r],n=r-1;~n&&t(e[n],i);--n)e[n+1]=e[n];e[n+1]=i}return e}function Ht(e){for(var t,n=Bt(Nt(e),qt),i={},r=0;r<n.length;++r)i[t=n[r]]=e[t];return i}function zt(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n+1;return 0}function Ut(e,t,n,i){if(!i){var r=typeof e;if(Pt[r])return r+"|"+e;if(null===e)return e+"|"+e}var a,o=i||Dt.call(e);return jt[o]?e:o===St.Object?Ht(e):Et[o]?Ct[o]+"|"+e.toString():It[o]?e instanceof Map?function(e,t,n){var i=[];e.forEach((function(e,r){i.push([Yt(r,t,n),Yt(e,t,n)])})),Bt(i,Vt);for(var r,a=0;a<i.length;++a)r=i[a],i[a]="["+r[0]+","+r[1]+"]";return"Map|["+i.join(",")+"]"}(e,t,n):function(e,t,n){var i=[];return e.forEach((function(e){i.push(Yt(e,t,n))})),Bt(i,qt),"Set|["+i.join(",")+"]"}(e,t,n):o===St.Date?Ct[o]+"|"+e.getTime():o===St.Error?Ct[o]+"|"+e.stack:o===St.Event?{bubbles:(a=e).bubbles,cancelBubble:a.cancelBubble,cancelable:a.cancelable,composed:a.composed,currentTarget:a.currentTarget,defaultPrevented:a.defaultPrevented,eventPhase:a.eventPhase,isTrusted:a.isTrusted,returnValue:a.returnValue,target:a.target,type:a.type}:kt[o]?Ct[o]+"|NOT_ENUMERABLE":Mt.test(o)?o.slice(8,-1)+"|"+e.outerHTML:o===St.DocumentFragment?Ct[o]+"|"+function(e){for(var t=e.children,n=[],i=0;i<t.length;++i)n.push(t[i].outerHTML);return n.join(",")}(e):$t[o]?Ct[o]+"|"+e.join(","):o===St.ArrayBuffer?Ct[o]+"|"+At(e):o===St.DataView?Ct[o]+"|"+At(e.buffer):e}function Yt(e,t,n){if(!e||"object"!=typeof e)return Ut(e,t,n);var i=Dt.call(e);return Ot[i]?Ut(e,t,n,i):JSON.stringify(e,function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=[]),function(n,i){if("object"==typeof i)if(e.length){var r=zt(e,this);0===r?e.push(this):(e.splice(r),t.splice(r)),t.push(n);var a=zt(e,i);if(0!==a)return"[~"+(t.slice(0,a).join(".")||".")+"]";e.push(i)}else e[0]=i,t[0]=n;return n&&this[n]instanceof Date?Ut(this[n],e,t,St.Date):Ut(i,e,t)}}(t,n))}function Kt(e){return function(e){for(var t,n=e.length,i=5381,r=52711;n--;)i=33*i^(t=e.charCodeAt(n)),r=33*r^t;return 4096*(i>>>0)+(r>>>0)}(Yt(e))}function Jt(e,t){return Kt(e)===Kt(t)}Jt.all=function(e){for(var t=0;t<(arguments.length<=1?0:arguments.length-1);++t)if(!Jt(e,t+1<1||arguments.length<=t+1?void 0:arguments[t+1]))return!1;return!0},Jt.any=function(e){for(var t=0;t<(arguments.length<=1?0:arguments.length-1);++t)if(Jt(e,t+1<1||arguments.length<=t+1?void 0:arguments[t+1]))return!0;return!1},Jt.not=function(e,t){return Kt(e)!==Kt(t)},Kt.is=Jt;var Gt=bt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=(n=Kt)&&n.__esModule?n:{default:n};var a=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t;var r={cache:!0};if(void 0===i&&(i=r),"function"!=typeof n?(this.value=n,this.type=this.constructor.CONSTANT):(this.calculationMethod=n,this.type=this.constructor.DYNAMIC),!this.id)throw new Error("factId required");return this.priority=parseInt(i.priority||1,10),this.options=Object.assign({},r,i),this.cacheKeyMethod=this.defaultCacheKeys,this}return i(e,[{key:"isConstant",value:function(){return this.type===this.constructor.CONSTANT}},{key:"isDynamic",value:function(){return this.type===this.constructor.DYNAMIC}},{key:"calculate",value:function(e,t){return Object.prototype.hasOwnProperty.call(this,"value")?this.value:this.calculationMethod(e,t)}},{key:"defaultCacheKeys",value:function(e,t){return{params:t,id:e}}},{key:"getCacheKey",value:function(t){if(!0===this.options.cache){var n=this.cacheKeyMethod(this.id,t);return e.hashFromObject(n)}}}],[{key:"hashFromObject",value:function(e){return(0,r.default)(e)}}]),e}();a.CONSTANT="CONSTANT",a.DYNAMIC="DYNAMIC",t.default=a})),Qt=bt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){try{("undefined"!=typeof process&&process.env&&process.env.DEBUG&&process.env.DEBUG.match(/json-rules-engine/)||"undefined"!=typeof window&&window.localStorage&&window.localStorage.debug&&window.localStorage.debug.match(/json-rules-engine/))&&console.log(e)}catch(e){}}}));var Xt=function(e){return!!e&&"object"==typeof e},Zt=bt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i=a(Qt),r=a(Xt);function a(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw new Error("Condition: constructor options required");var n=e.booleanOperator(t);if(Object.assign(this,t),n){var i=t[n];if(!Array.isArray(i))throw new Error('"'+n+'" must be an array');this.operator=n,this.priority=parseInt(t.priority,10)||1,this[n]=i.map((function(t){return new e(t)}))}else{if(!Object.prototype.hasOwnProperty.call(t,"fact"))throw new Error('Condition: constructor "fact" property required');if(!Object.prototype.hasOwnProperty.call(t,"operator"))throw new Error('Condition: constructor "operator" property required');if(!Object.prototype.hasOwnProperty.call(t,"value"))throw new Error('Condition: constructor "value" property required');Object.prototype.hasOwnProperty.call(t,"priority")&&(t.priority=parseInt(t.priority,10))}}return n(e,[{key:"toJSON",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n={};this.priority&&(n.priority=this.priority);var i=e.booleanOperator(this);return i?n[i]=this[i].map((function(e){return e.toJSON(t)})):(n.operator=this.operator,n.value=this.value,n.fact=this.fact,void 0!==this.factResult&&(n.factResult=this.factResult),void 0!==this.result&&(n.result=this.result),this.params&&(n.params=this.params),this.path&&(n.path=this.path)),t?JSON.stringify(n):n}},{key:"_getValue",value:function(e){var t=this.value;return(0,r.default)(t)&&Object.prototype.hasOwnProperty.call(t,"fact")?e.factValue(t.fact,t.params,t.path):Promise.resolve(t)}},{key:"evaluate",value:function(e,t){var n=this;if(!e)return Promise.reject(new Error("almanac required"));if(!t)return Promise.reject(new Error("operatorMap required"));if(this.isBooleanOperator())return Promise.reject(new Error("Cannot evaluate() a boolean condition"));var r=t.get(this.operator);return r?this._getValue(e).then((function(t){return e.factValue(n.fact,n.params,n.path).then((function(e){var a=r.evaluate(e,t);return(0,i.default)("condition::evaluate <"+JSON.stringify(e)+" "+n.operator+" "+JSON.stringify(t)+"?> ("+a+")"),{result:a,leftHandSideValue:e,rightHandSideValue:t,operator:n.operator}}))})):Promise.reject(new Error("Unknown operator: "+this.operator))}},{key:"booleanOperator",value:function(){return e.booleanOperator(this)}},{key:"isBooleanOperator",value:function(){return void 0!==e.booleanOperator(this)}}],[{key:"booleanOperator",value:function(e){return Object.prototype.hasOwnProperty.call(e,"any")?"any":Object.prototype.hasOwnProperty.call(e,"all")?"all":void 0}}]),e}();t.default=o})),en=bt((function(e){var t=function(){function e(e,t){return null!=t&&e instanceof t}var t,n,i;try{t=Map}catch(e){t=function(){}}try{n=Set}catch(e){n=function(){}}try{i=Promise}catch(e){i=function(){}}function r(a,s,d,c,l){"object"==typeof s&&(d=s.depth,c=s.prototype,l=s.includeNonEnumerable,s=s.circular);var u=[],p=[],f="undefined"!=typeof Buffer;return void 0===s&&(s=!0),void 0===d&&(d=1/0),function a(d,g){if(null===d)return null;if(0===g)return d;var v,h;if("object"!=typeof d)return d;if(e(d,t))v=new t;else if(e(d,n))v=new n;else if(e(d,i))v=new i((function(e,t){d.then((function(t){e(a(t,g-1))}),(function(e){t(a(e,g-1))}))}));else if(r.__isArray(d))v=[];else if(r.__isRegExp(d))v=new RegExp(d.source,o(d)),d.lastIndex&&(v.lastIndex=d.lastIndex);else if(r.__isDate(d))v=new Date(d.getTime());else{if(f&&Buffer.isBuffer(d))return v=Buffer.allocUnsafe?Buffer.allocUnsafe(d.length):new Buffer(d.length),d.copy(v),v;e(d,Error)?v=Object.create(d):void 0===c?(h=Object.getPrototypeOf(d),v=Object.create(h)):(v=Object.create(c),h=c)}if(s){var m=u.indexOf(d);if(-1!=m)return p[m];u.push(d),p.push(v)}for(var w in e(d,t)&&d.forEach((function(e,t){var n=a(t,g-1),i=a(e,g-1);v.set(n,i)})),e(d,n)&&d.forEach((function(e){var t=a(e,g-1);v.add(t)})),d){var b;h&&(b=Object.getOwnPropertyDescriptor(h,w)),b&&null==b.set||(v[w]=a(d[w],g-1))}if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(d);for(w=0;w<y.length;w++){var _=y[w];(!(S=Object.getOwnPropertyDescriptor(d,_))||S.enumerable||l)&&(v[_]=a(d[_],g-1),S.enumerable||Object.defineProperty(v,_,{enumerable:!1}))}}if(l){var x=Object.getOwnPropertyNames(d);for(w=0;w<x.length;w++){var S,C=x[w];(S=Object.getOwnPropertyDescriptor(d,C))&&S.enumerable||(v[C]=a(d[C],g-1),Object.defineProperty(v,C,{enumerable:!1}))}}return v}(a,d)}function a(e){return Object.prototype.toString.call(e)}function o(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return r.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},r.__objToStr=a,r.__isDate=function(e){return"object"==typeof e&&"[object Date]"===a(e)},r.__isArray=function(e){return"object"==typeof e&&"[object Array]"===a(e)},r.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===a(e)},r.__getRegExpFlags=o,r}();e.exports&&(e.exports=t)})),tn=bt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=(n=en)&&n.__esModule?n:{default:n};var a=function(){function e(t,n,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.conditions=(0,r.default)(t),this.event=(0,r.default)(n),this.priority=(0,r.default)(i),this.name=(0,r.default)(a),this.result=null}return i(e,[{key:"setResult",value:function(e){this.result=e}},{key:"toJSON",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={conditions:this.conditions.toJSON(!1),event:this.event,priority:this.priority,name:this.name,result:this.result};return e?JSON.stringify(t):t}}]),e}();t.default=a})),nn=bt((function(e,t){!function(t){var n=Object.hasOwnProperty,i=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},r="object"==typeof process&&"function"==typeof process.nextTick,a="function"==typeof Symbol,o="object"==typeof Reflect,s="function"==typeof setImmediate?setImmediate:setTimeout,d=a?o&&"function"==typeof Reflect.ownKeys?Reflect.ownKeys:function(e){var t=Object.getOwnPropertyNames(e);return t.push.apply(t,Object.getOwnPropertySymbols(e)),t}:Object.keys;function c(){this._events={},this._conf&&l.call(this,this._conf)}function l(e){e&&(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),e.maxListeners!==t&&(this._maxListeners=e.maxListeners),e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),e.ignoreErrors&&(this.ignoreErrors=e.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function u(e,t){var n="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(n+=" Event name: "+t+"."),"undefined"!=typeof process&&process.emitWarning){var i=new Error(n);i.name="MaxListenersExceededWarning",i.emitter=this,i.count=e,process.emitWarning(i)}else console.error(n),console.trace&&console.trace()}var p=function(e,t,n){var i=arguments.length;switch(i){case 0:return[];case 1:return[e];case 2:return[e,t];case 3:return[e,t,n];default:for(var r=new Array(i);i--;)r[i]=arguments[i];return r}};function f(e,n){for(var i={},r=e.length,a=n?value.length:0,o=0;o<r;o++)i[e[o]]=o<a?n[o]:t;return i}function g(e,t,n){var i,r;if(this._emitter=e,this._target=t,this._listeners={},this._listenersCount=0,(n.on||n.off)&&(i=n.on,r=n.off),t.addEventListener?(i=t.addEventListener,r=t.removeEventListener):t.addListener?(i=t.addListener,r=t.removeListener):t.on&&(i=t.on,r=t.off),!i&&!r)throw Error("target does not implement any known event API");if("function"!=typeof i)throw TypeError("on method must be a function");if("function"!=typeof r)throw TypeError("off method must be a function");this._on=i,this._off=r;var a=e._observers;a?a.push(this):e._observers=[this]}function v(e,i,r,a){var o=Object.assign({},i);if(!e)return o;if("object"!=typeof e)throw TypeError("options must be an object");var s,d,c,l=Object.keys(e),u=l.length;function p(e){throw Error('Invalid "'+s+'" option value'+(e?". Reason: "+e:""))}for(var f=0;f<u;f++){if(s=l[f],!a&&!n.call(i,s))throw Error('Unknown "'+s+'" option');(d=e[s])!==t&&(c=r[s],o[s]=c?c(d,p):d)}return o}function h(e,t){return"function"==typeof e&&e.hasOwnProperty("prototype")||t("value must be a constructor"),e}function m(e){var t="value must be type of "+e.join("|"),n=e.length,i=e[0],r=e[1];return 1===n?function(e,n){if(typeof e===i)return e;n(t)}:2===n?function(e,n){var a=typeof e;if(a===i||a===r)return e;n(t)}:function(i,r){for(var a=typeof i,o=n;o-- >0;)if(a===e[o])return i;r(t)}}Object.assign(g.prototype,{subscribe:function(e,t,n){var i=this,r=this._target,a=this._emitter,o=this._listeners,s=function(){var i=p.apply(null,arguments),o={data:i,name:t,original:e};if(n){var s=n.call(r,o);!1!==s&&a.emit.apply(a,[o.name].concat(i))}else a.emit.apply(a,[t].concat(i))};if(o[e])throw Error("Event '"+e+"' is already listening");this._listenersCount++,a._newListener&&a._removeListener&&!i._onNewListener?(this._onNewListener=function(n){n===t&&null===o[e]&&(o[e]=s,i._on.call(r,e,s))},a.on("newListener",this._onNewListener),this._onRemoveListener=function(n){n===t&&!a.hasListeners(n)&&o[e]&&(o[e]=null,i._off.call(r,e,s))},o[e]=null,a.on("removeListener",this._onRemoveListener)):(o[e]=s,i._on.call(r,e,s))},unsubscribe:function(e){var t,n,i,r=this,a=this._listeners,o=this._emitter,s=this._off,c=this._target;if(e&&"string"!=typeof e)throw TypeError("event must be a string");function l(){r._onNewListener&&(o.off("newListener",r._onNewListener),o.off("removeListener",r._onRemoveListener),r._onNewListener=null,r._onRemoveListener=null);var e=_.call(o,r);o._observers.splice(e,1)}if(e){if(!(t=a[e]))return;s.call(c,e,t),delete a[e],--this._listenersCount||l()}else{for(i=(n=d(a)).length;i-- >0;)e=n[i],s.call(c,e,a[e]);this._listeners={},this._listenersCount=0,l()}}});var w=m(["function"]),b=m(["object","function"]);function y(e,t,n){var i,r,a,o=0,s=new e((function(d,c,l){function u(){r&&(r=null),o&&(clearTimeout(o),o=0)}n=v(n,{timeout:0,overload:!1},{timeout:function(e,t){return("number"!=typeof(e*=1)||e<0||!Number.isFinite(e))&&t("timeout must be a positive number"),e}}),i=!n.overload&&"function"==typeof e.prototype.cancel&&"function"==typeof l;var p=function(e){u(),d(e)},f=function(e){u(),c(e)};i?t(p,f,l):(r=[function(e){f(e||Error("canceled"))}],t(p,f,(function(e){if(a)throw Error("Unable to subscribe on cancel event asynchronously");if("function"!=typeof e)throw TypeError("onCancel callback must be a function");r.push(e)})),a=!0),n.timeout>0&&(o=setTimeout((function(){var e=Error("timeout");e.code="ETIMEDOUT",o=0,s.cancel(e),c(e)}),n.timeout))}));return i||(s.cancel=function(e){if(r){for(var t=r.length,n=1;n<t;n++)r[n](e);r[0](e),r=null}}),s}function _(e){var t=this._observers;if(!t)return-1;for(var n=t.length,i=0;i<n;i++)if(t[i]._target===e)return i;return-1}function x(e,t,n,i,r){if(!n)return null;if(0===i){var a=typeof t;if("string"===a){var o,s,c=0,l=0,u=this.delimiter,p=u.length;if(-1!==(s=t.indexOf(u))){o=new Array(5);do{o[c++]=t.slice(l,s),l=s+p}while(-1!==(s=t.indexOf(u,l)));o[c++]=t.slice(l),t=o,r=c}else t=[t],r=1}else"object"===a?r=t.length:(t=[t],r=1)}var f,g,v,h,m,w,b,y=null,_=t[i],S=t[i+1];if(i===r)n._listeners&&("function"==typeof n._listeners?(e&&e.push(n._listeners),y=[n]):(e&&e.push.apply(e,n._listeners),y=[n]));else{if("*"===_){for(s=(w=d(n)).length;s-- >0;)"_listeners"!==(f=w[s])&&(b=x(e,t,n[f],i+1,r))&&(y?y.push.apply(y,b):y=b);return y}if("**"===_){for((m=i+1===r||i+2===r&&"*"===S)&&n._listeners&&(y=x(e,t,n,r,r)),s=(w=d(n)).length;s-- >0;)"_listeners"!==(f=w[s])&&("*"===f||"**"===f?(n[f]._listeners&&!m&&(b=x(e,t,n[f],r,r))&&(y?y.push.apply(y,b):y=b),b=x(e,t,n[f],i,r)):b=x(e,t,n[f],f===S?i+2:i,r),b&&(y?y.push.apply(y,b):y=b));return y}n[_]&&(y=x(e,t,n[_],i+1,r))}if((g=n["*"])&&x(e,t,g,i+1,r),v=n["**"])if(i<r)for(v._listeners&&x(e,t,v,r,r),s=(w=d(v)).length;s-- >0;)"_listeners"!==(f=w[s])&&(f===S?x(e,t,v[f],i+2,r):f===_?x(e,t,v[f],i+1,r):((h={})[f]=v[f],x(e,t,{"**":h},i+1,r)));else v._listeners?x(e,t,v,r,r):v["*"]&&v["*"]._listeners&&x(e,t,v["*"],r,r);return y}function S(e,t,n){var i,r,a=0,o=0,s=this.delimiter,d=s.length;if("string"==typeof e)if(-1!==(i=e.indexOf(s))){r=new Array(5);do{r[a++]=e.slice(o,i),o=i+d}while(-1!==(i=e.indexOf(s,o)));r[a++]=e.slice(o)}else r=[e],a=1;else r=e,a=e.length;if(a>1)for(i=0;i+1<a;i++)if("**"===r[i]&&"**"===r[i+1])return;var c,l=this.listenerTree;for(i=0;i<a;i++)if(l=l[c=r[i]]||(l[c]={}),i===a-1)return l._listeners?("function"==typeof l._listeners&&(l._listeners=[l._listeners]),n?l._listeners.unshift(t):l._listeners.push(t),!l._listeners.warned&&this._maxListeners>0&&l._listeners.length>this._maxListeners&&(l._listeners.warned=!0,u.call(this,l._listeners.length,c))):l._listeners=t,!0;return!0}function C(e,t,n,i){for(var r,a,o,s,c=d(e),l=c.length,u=e._listeners;l-- >0;)r=e[a=c[l]],o="_listeners"===a?n:n?n.concat(a):[a],s=i||"symbol"==typeof a,u&&t.push(s?o:o.join(this.delimiter)),"object"==typeof r&&C.call(this,r,t,o,s);return t}function k(e){for(var t,n,i,r=d(e),a=r.length;a-- >0;)(t=e[n=r[a]])&&(i=!0,"_listeners"===n||k(t)||delete e[n]);return i}function I(e,t,n){this.emitter=e,this.event=t,this.listener=n}function O(e,n,i){if(!0===i)o=!0;else if(!1===i)a=!0;else{if(!i||"object"!=typeof i)throw TypeError("options should be an object or true");var a=i.async,o=i.promisify,d=i.nextTick,c=i.objectify}if(a||d||o){var l=n,u=n._origin||n;if(d&&!r)throw Error("process.nextTick is not supported");o===t&&(o="AsyncFunction"===n.constructor.name),n=function(){var e=arguments,t=this,n=this.event;return o?d?Promise.resolve():new Promise((function(e){s(e)})).then((function(){return t.event=n,l.apply(t,e)})):(d?process.nextTick:s)((function(){t.event=n,l.apply(t,e)}))},n._async=!0,n._origin=u}return[n,c?new I(this,e,n):this]}function P(e){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,l.call(this,e)}I.prototype.off=function(){return this.emitter.off(this.event,this.listener),this},P.EventEmitter2=P,P.prototype.listenTo=function(e,n,r){if("object"!=typeof e)throw TypeError("target musts be an object");var a=this;function o(t){if("object"!=typeof t)throw TypeError("events must be an object");var n,i=r.reducers,o=_.call(a,e);n=-1===o?new g(a,e,r):a._observers[o];for(var s,c=d(t),l=c.length,u="function"==typeof i,p=0;p<l;p++)s=c[p],n.subscribe(s,t[s]||s,u?i:i&&i[s])}return r=v(r,{on:t,off:t,reducers:t},{on:w,off:w,reducers:b}),i(n)?o(f(n)):o("string"==typeof n?f(n.split(/\s+/)):n),this},P.prototype.stopListeningTo=function(e,t){var n=this._observers;if(!n)return!1;var i,r=n.length,a=!1;if(e&&"object"!=typeof e)throw TypeError("target should be an object");for(;r-- >0;)i=n[r],e&&i._target!==e||(i.unsubscribe(t),a=!0);return a},P.prototype.delimiter=".",P.prototype.setMaxListeners=function(e){e!==t&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},P.prototype.getMaxListeners=function(){return this._maxListeners},P.prototype.event="",P.prototype.once=function(e,t,n){return this._once(e,t,!1,n)},P.prototype.prependOnceListener=function(e,t,n){return this._once(e,t,!0,n)},P.prototype._once=function(e,t,n,i){return this._many(e,1,t,n,i)},P.prototype.many=function(e,t,n,i){return this._many(e,t,n,!1,i)},P.prototype.prependMany=function(e,t,n,i){return this._many(e,t,n,!0,i)},P.prototype._many=function(e,t,n,i,r){var a=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");function o(){return 0==--t&&a.off(e,o),n.apply(this,arguments)}return o._origin=n,this._on(e,o,i,r)},P.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||c.call(this);var e,t,n,i,r,o,s=arguments[0],d=this.wildcard;if("newListener"===s&&!this._newListener&&!this._events.newListener)return!1;if(d&&(e=s,"newListener"!==s&&"removeListener"!==s&&"object"==typeof s)){if(n=s.length,a)for(i=0;i<n;i++)if("symbol"==typeof s[i]){o=!0;break}o||(s=s.join(this.delimiter))}var l,u=arguments.length;if(this._all&&this._all.length)for(i=0,n=(l=this._all.slice()).length;i<n;i++)switch(this.event=s,u){case 1:l[i].call(this,s);break;case 2:l[i].call(this,s,arguments[1]);break;case 3:l[i].call(this,s,arguments[1],arguments[2]);break;default:l[i].apply(this,arguments)}if(d)l=[],x.call(this,l,e,this.listenerTree,0,n);else{if("function"==typeof(l=this._events[s])){switch(this.event=s,u){case 1:l.call(this);break;case 2:l.call(this,arguments[1]);break;case 3:l.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(u-1),r=1;r<u;r++)t[r-1]=arguments[r];l.apply(this,t)}return!0}l&&(l=l.slice())}if(l&&l.length){if(u>3)for(t=new Array(u-1),r=1;r<u;r++)t[r-1]=arguments[r];for(i=0,n=l.length;i<n;i++)switch(this.event=s,u){case 1:l[i].call(this);break;case 2:l[i].call(this,arguments[1]);break;case 3:l[i].call(this,arguments[1],arguments[2]);break;default:l[i].apply(this,t)}return!0}if(!this.ignoreErrors&&!this._all&&"error"===s)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},P.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||c.call(this);var e,t,n,i,r,o,s=arguments[0],d=this.wildcard;if("newListener"===s&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(d&&(e=s,"newListener"!==s&&"removeListener"!==s&&"object"==typeof s)){if(i=s.length,a)for(r=0;r<i;r++)if("symbol"==typeof s[r]){t=!0;break}t||(s=s.join(this.delimiter))}var l,u=[],p=arguments.length;if(this._all)for(r=0,i=this._all.length;r<i;r++)switch(this.event=s,p){case 1:u.push(this._all[r].call(this,s));break;case 2:u.push(this._all[r].call(this,s,arguments[1]));break;case 3:u.push(this._all[r].call(this,s,arguments[1],arguments[2]));break;default:u.push(this._all[r].apply(this,arguments))}if(d?(l=[],x.call(this,l,e,this.listenerTree,0)):l=this._events[s],"function"==typeof l)switch(this.event=s,p){case 1:u.push(l.call(this));break;case 2:u.push(l.call(this,arguments[1]));break;case 3:u.push(l.call(this,arguments[1],arguments[2]));break;default:for(n=new Array(p-1),o=1;o<p;o++)n[o-1]=arguments[o];u.push(l.apply(this,n))}else if(l&&l.length){if(l=l.slice(),p>3)for(n=new Array(p-1),o=1;o<p;o++)n[o-1]=arguments[o];for(r=0,i=l.length;r<i;r++)switch(this.event=s,p){case 1:u.push(l[r].call(this));break;case 2:u.push(l[r].call(this,arguments[1]));break;case 3:u.push(l[r].call(this,arguments[1],arguments[2]));break;default:u.push(l[r].apply(this,n))}}else if(!this.ignoreErrors&&!this._all&&"error"===s)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(u)},P.prototype.on=function(e,t,n){return this._on(e,t,!1,n)},P.prototype.prependListener=function(e,t,n){return this._on(e,t,!0,n)},P.prototype.onAny=function(e){return this._onAny(e,!1)},P.prototype.prependAny=function(e){return this._onAny(e,!0)},P.prototype.addListener=P.prototype.on,P.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},P.prototype._on=function(e,n,i,r){if("function"==typeof e)return this._onAny(e,n),this;if("function"!=typeof n)throw new Error("on only accepts instances of Function");this._events||c.call(this);var a,o=this;return r!==t&&(n=(a=O.call(this,e,n,r))[0],o=a[1]),this._newListener&&this.emit("newListener",e,n),this.wildcard?(S.call(this,e,n,i),o):(this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),i?this._events[e].unshift(n):this._events[e].push(n),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,u.call(this,this._events[e].length,e))):this._events[e]=n,o)},P.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var n,r=[];if(this.wildcard){var a="string"==typeof e?e.split(this.delimiter):e.slice();if(!(r=x.call(this,null,a,this.listenerTree,0)))return this}else{if(!this._events[e])return this;n=this._events[e],r.push({_listeners:n})}for(var o=0;o<r.length;o++){var s=r[o];if(n=s._listeners,i(n)){for(var d=-1,c=0,l=n.length;c<l;c++)if(n[c]===t||n[c].listener&&n[c].listener===t||n[c]._origin&&n[c]._origin===t){d=c;break}if(d<0)continue;return this.wildcard?s._listeners.splice(d,1):this._events[e].splice(d,1),0===n.length&&(this.wildcard?delete s._listeners:delete this._events[e]),this._removeListener&&this.emit("removeListener",e,t),this}(n===t||n.listener&&n.listener===t||n._origin&&n._origin===t)&&(this.wildcard?delete s._listeners:delete this._events[e],this._removeListener&&this.emit("removeListener",e,t))}return this.listenerTree&&k(this.listenerTree),this},P.prototype.offAny=function(e){var t,n=0,i=0;if(e&&this._all&&this._all.length>0){for(n=0,i=(t=this._all).length;n<i;n++)if(e===t[n])return t.splice(n,1),this._removeListener&&this.emit("removeListenerAny",e),this}else{if(t=this._all,this._removeListener)for(n=0,i=t.length;n<i;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},P.prototype.removeListener=P.prototype.off,P.prototype.removeAllListeners=function(e){if(e===t)return!this._events||c.call(this),this;if(this.wildcard){var n,i=x.call(this,null,e,this.listenerTree,0);if(!i)return this;for(n=0;n<i.length;n++)i[n]._listeners=null;this.listenerTree&&k(this.listenerTree)}else this._events&&(this._events[e]=null);return this},P.prototype.listeners=function(e){var n,i,r,a,o,s=this._events;if(e===t){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!s)return[];for(a=(n=d(s)).length,r=[];a-- >0;)"function"==typeof(i=s[n[a]])?r.push(i):r.push.apply(r,i);return r}if(this.wildcard){if(!(o=this.listenerTree))return[];var c=[],l="string"==typeof e?e.split(this.delimiter):e.slice();return x.call(this,c,l,o,0),c}return s&&(i=s[e])?"function"==typeof i?[i]:i:[]},P.prototype.eventNames=function(e){var t=this._events;return this.wildcard?C.call(this,this.listenerTree,[],null,e):t?d(t):[]},P.prototype.listenerCount=function(e){return this.listeners(e).length},P.prototype.hasListeners=function(e){if(this.wildcard){var n=[],i="string"==typeof e?e.split(this.delimiter):e.slice();return x.call(this,n,i,this.listenerTree,0),n.length>0}var r=this._events,a=this._all;return!!(a&&a.length||r&&(e===t?d(r).length:r[e]))},P.prototype.listenersAny=function(){return this._all?this._all:[]},P.prototype.waitFor=function(e,n){var i=this,r=typeof n;return"number"===r?n={timeout:n}:"function"===r&&(n={filter:n}),y((n=v(n,{timeout:0,filter:t,handleError:!1,Promise:Promise,overload:!1},{filter:w,Promise:h})).Promise,(function(t,r,a){function o(){var a=n.filter;if(!a||a.apply(i,arguments))if(i.off(e,o),n.handleError){var s=arguments[0];s?r(s):t(p.apply(null,arguments).slice(1))}else t(p.apply(null,arguments))}a((function(){i.off(e,o)})),i._on(e,o,!1)}),{timeout:n.timeout,overload:n.overload})};var j=P.prototype;Object.defineProperties(P,{defaultMaxListeners:{get:function(){return j._maxListeners},set:function(e){if("number"!=typeof e||e<0||Number.isNaN(e))throw TypeError("n must be a non-negative number");j._maxListeners=e},enumerable:!0},once:{value:function(e,t,n){return y((n=v(n,{Promise:Promise,timeout:0,overload:!1},{Promise:h})).Promise,(function(n,i,r){var a;if("function"==typeof e.addEventListener)return a=function(){n(p.apply(null,arguments))},r((function(){e.removeEventListener(t,a)})),void e.addEventListener(t,a,{once:!0});var o,s=function(){o&&e.removeListener("error",o),n(p.apply(null,arguments))};"error"!==t&&(o=function(n){e.removeListener(t,s),i(n)},e.once("error",o)),r((function(){o&&e.removeListener("error",o),e.removeListener(t,s)})),e.once(t,s)}),{timeout:n.timeout,overload:n.overload})},writable:!0,configurable:!0}}),Object.defineProperties(j,{_maxListeners:{value:10,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),e.exports=P}()})),rn=bt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i=o(Zt),r=o(tn),a=o(Qt);function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));"string"==typeof e&&(e=JSON.parse(e)),e&&e.conditions&&n.setConditions(e.conditions),e&&e.onSuccess&&n.on("success",e.onSuccess),e&&e.onFailure&&n.on("failure",e.onFailure),e&&(e.name||0===e.name)&&n.setName(e.name);var i=e&&e.priority||1;n.setPriority(i);var r=e&&e.event||{type:"unknown"};return n.setEvent(r),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"setPriority",value:function(e){if((e=parseInt(e,10))<=0)throw new Error("Priority must be greater than zero");return this.priority=e,this}},{key:"setName",value:function(e){if(!e&&0!==e)throw new Error('Rule "name" must be defined');return this.name=e,this}},{key:"setConditions",value:function(e){if(!Object.prototype.hasOwnProperty.call(e,"all")&&!Object.prototype.hasOwnProperty.call(e,"any"))throw new Error('"conditions" root must contain a single instance of "all" or "any"');return this.conditions=new i.default(e),this}},{key:"setEvent",value:function(e){if(!e)throw new Error("Rule: setEvent() requires event object");if(!Object.prototype.hasOwnProperty.call(e,"type"))throw new Error('Rule: setEvent() requires event object with "type" property');return this.ruleEvent={type:e.type},e.params&&(this.ruleEvent.params=e.params),this}},{key:"getEvent",value:function(){return this.ruleEvent}},{key:"getPriority",value:function(){return this.priority}},{key:"getConditions",value:function(){return this.conditions}},{key:"getEngine",value:function(){return this.engine}},{key:"setEngine",value:function(e){return this.engine=e,this}},{key:"toJSON",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={conditions:this.conditions.toJSON(!1),priority:this.priority,event:this.ruleEvent,name:this.name};return e?JSON.stringify(t):t}},{key:"prioritizeConditions",value:function(e){var t=this,n=e.reduce((function(e,n){var i=n.priority;if(!i){var r=t.engine.getFact(n.fact);i=r&&r.priority||1}return e[i]||(e[i]=[]),e[i].push(n),e}),{});return Object.keys(n).sort((function(e,t){return Number(e)>Number(t)?-1:1})).map((function(e){return n[e]}))}},{key:"evaluate",value:function(e){var t=this,n=new r.default(this.conditions,this.ruleEvent,this.priority,this.name),i=function(n,i){return Array.isArray(n)||(n=[n]),Promise.all(n.map((function(n){return function(n){if(n.isBooleanOperator()){var i=n[n.operator];return("all"===n.operator?d(i):s(i)).then((function(e){var t=!0===e;return n.result=t,t}))}return n.evaluate(e,t.engine.operators).then((function(e){var t=e.result;return n.factResult=e.leftHandSideValue,n.result=t,t}))}(n)}))).then((function(e){return(0,a.default)("rule::evaluateConditions results",e),i.call(e,(function(e){return!0===e}))}))},o=function(e,n){if(0===e.length)return Promise.resolve(!0);var r=Array.prototype.some;"all"===n&&(r=Array.prototype.every);for(var o=t.prioritizeConditions(e),s=Promise.resolve(),d=function(e){var t=o[e],d=!1;s=s.then((function(e){return"any"===n&&!0===e||d?((0,a.default)("prioritizeAndRun::detected truthy result; skipping remaining conditions"),d=!0,!0):"all"===n&&!1===e||d?((0,a.default)("prioritizeAndRun::detected falsey result; skipping remaining conditions"),d=!0,!1):i(t,r)}))},c=0;c<o.length;c++)d(c);return s},s=function(e){return o(e,"any")},d=function(e){return o(e,"all")},c=function(i){n.setResult(i);var r=i?"success":"failure";return t.emitAsync(r,n.event,e,n).then((function(){return n}))};return n.conditions.any?s(n.conditions.any).then((function(e){return c(e)})):d(n.conditions.all).then((function(e){return c(e)}))}}]),t}(o(nn).default);t.default=s})),an=bt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=function(){function e(t,n,i){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=String(t),!t)throw new Error("Missing operator name");if("function"!=typeof n)throw new Error("Missing operator callback");this.cb=n,this.factValueValidator=i,this.factValueValidator||(this.factValueValidator=function(){return!0})}return n(e,[{key:"evaluate",value:function(e,t){return this.factValueValidator(e)&&this.cb(e,t)}}]),e}();t.default=i})),on=bt((function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0}),t.UndefinedFactError=function(e){function t(){var e;n(this,t);for(var r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o];var s=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a)));return s.code="UNDEFINED_FACT",s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Error),t}()}));const{hasOwnProperty:sn}=Object.prototype;function dn(e,t){return(e=e.slice()).push(t),e}function cn(e,t){return(t=t.slice()).unshift(e),t}class ln extends Error{constructor(e){super('JSONPath should not be called with "new" (it prevents return of (unwrapped) scalar values)'),this.avoidNew=!0,this.value=e,this.name="NewError"}}function un(e,t,n,i,r){if(!(this instanceof un))try{return new un(e,t,n,i,r)}catch(e){if(!e.avoidNew)throw e;return e.value}"string"==typeof e&&(r=i,i=n,n=t,t=e,e=null);const a=e&&"object"==typeof e;if(e=e||{},this.json=e.json||n,this.path=e.path||t,this.resultType=e.resultType||"value",this.flatten=e.flatten||!1,this.wrap=!sn.call(e,"wrap")||e.wrap,this.sandbox=e.sandbox||{},this.preventEval=e.preventEval||!1,this.parent=e.parent||null,this.parentProperty=e.parentProperty||null,this.callback=e.callback||i||null,this.otherTypeCallback=e.otherTypeCallback||r||function(){throw new TypeError("You must supply an otherTypeCallback callback option with the @other() operator.")},!1!==e.autostart){const i={path:a?e.path:t};a?"json"in e&&(i.json=e.json):i.json=n;const r=this.evaluate(i);if(!r||"object"!=typeof r)throw new ln(r);return r}}un.prototype.evaluate=function(e,t,n,i){let r=this.parent,a=this.parentProperty,{flatten:o,wrap:s}=this;if(this.currResultType=this.resultType,this.currPreventEval=this.preventEval,this.currSandbox=this.sandbox,n=n||this.callback,this.currOtherTypeCallback=i||this.otherTypeCallback,t=t||this.json,(e=e||this.path)&&"object"==typeof e&&!Array.isArray(e)){if(!e.path&&""!==e.path)throw new TypeError('You must supply a "path" property when providing an object argument to JSONPath.evaluate().');if(!sn.call(e,"json"))throw new TypeError('You must supply a "json" property when providing an object argument to JSONPath.evaluate().');({json:t}=e),o=sn.call(e,"flatten")?e.flatten:o,this.currResultType=sn.call(e,"resultType")?e.resultType:this.currResultType,this.currSandbox=sn.call(e,"sandbox")?e.sandbox:this.currSandbox,s=sn.call(e,"wrap")?e.wrap:s,this.currPreventEval=sn.call(e,"preventEval")?e.preventEval:this.currPreventEval,n=sn.call(e,"callback")?e.callback:n,this.currOtherTypeCallback=sn.call(e,"otherTypeCallback")?e.otherTypeCallback:this.currOtherTypeCallback,r=sn.call(e,"parent")?e.parent:r,a=sn.call(e,"parentProperty")?e.parentProperty:a,e=e.path}if(r=r||null,a=a||null,Array.isArray(e)&&(e=un.toPathString(e)),!e&&""!==e||!t)return;const d=un.toPathArray(e);"$"===d[0]&&d.length>1&&d.shift(),this._hasParentSelector=null;const c=this._trace(d,t,["$"],r,a,n).filter((function(e){return e&&!e.isParentSelector}));return c.length?s||1!==c.length||c[0].hasArrExpr?c.reduce(((e,t)=>{const n=this._getPreferredOutput(t);return o&&Array.isArray(n)?e=e.concat(n):e.push(n),e}),[]):this._getPreferredOutput(c[0]):s?[]:void 0},un.prototype._getPreferredOutput=function(e){const t=this.currResultType;switch(t){case"all":{const t=Array.isArray(e.path)?e.path:un.toPathArray(e.path);return e.pointer=un.toPointer(t),e.path="string"==typeof e.path?e.path:un.toPathString(e.path),e}case"value":case"parent":case"parentProperty":return e[t];case"path":return un.toPathString(e[t]);case"pointer":return un.toPointer(e.path);default:throw new TypeError("Unknown result type")}},un.prototype._handleCallback=function(e,t,n){if(t){const i=this._getPreferredOutput(e);e.path="string"==typeof e.path?e.path:un.toPathString(e.path),t(i,n,e)}},un.prototype._trace=function(e,t,n,i,r,a,o,s){let d;if(!e.length)return d={path:n,value:t,parent:i,parentProperty:r,hasArrExpr:o},this._handleCallback(d,a,"value"),d;const c=e[0],l=e.slice(1),u=[];function p(e){Array.isArray(e)?e.forEach((e=>{u.push(e)})):u.push(e)}if(("string"!=typeof c||s)&&t&&sn.call(t,c))p(this._trace(l,t[c],dn(n,c),t,c,a,o));else if("*"===c)this._walk(c,l,t,n,i,r,a,((e,t,n,i,r,a,o,s)=>{p(this._trace(cn(e,n),i,r,a,o,s,!0,!0))}));else if(".."===c)p(this._trace(l,t,n,i,r,a,o)),this._walk(c,l,t,n,i,r,a,((e,t,n,i,r,a,o,s)=>{"object"==typeof i[e]&&p(this._trace(cn(t,n),i[e],dn(r,e),i,e,s,!0))}));else{if("^"===c)return this._hasParentSelector=!0,{path:n.slice(0,-1),expr:l,isParentSelector:!0};if("~"===c)return d={path:dn(n,c),value:r,parent:i,parentProperty:null},this._handleCallback(d,a,"property"),d;if("$"===c)p(this._trace(l,t,n,null,null,a,o));else if(/^(-?\d*):(-?\d*):?(\d*)$/u.test(c))p(this._slice(c,l,t,n,i,r,a));else if(0===c.indexOf("?(")){if(this.currPreventEval)throw new Error("Eval [?(expr)] prevented in JSONPath expression.");this._walk(c,l,t,n,i,r,a,((e,t,n,i,r,a,o,s)=>{this._eval(t.replace(/^\?\((.*?)\)$/u,"$1"),i[e],e,r,a,o)&&p(this._trace(cn(e,n),i,r,a,o,s,!0))}))}else if("("===c[0]){if(this.currPreventEval)throw new Error("Eval [(expr)] prevented in JSONPath expression.");p(this._trace(cn(this._eval(c,t,n[n.length-1],n.slice(0,-1),i,r),l),t,n,i,r,a,o))}else if("@"===c[0]){let e=!1;const o=c.slice(1,-2);switch(o){case"scalar":t&&["object","function"].includes(typeof t)||(e=!0);break;case"boolean":case"string":case"undefined":case"function":typeof t===o&&(e=!0);break;case"integer":!Number.isFinite(t)||t%1||(e=!0);break;case"number":Number.isFinite(t)&&(e=!0);break;case"nonFinite":"number"!=typeof t||Number.isFinite(t)||(e=!0);break;case"object":t&&typeof t===o&&(e=!0);break;case"array":Array.isArray(t)&&(e=!0);break;case"other":e=this.currOtherTypeCallback(t,n,i,r);break;case"null":null===t&&(e=!0);break;default:throw new TypeError("Unknown value type "+o)}if(e)return d={path:n,value:t,parent:i,parentProperty:r},this._handleCallback(d,a,"value"),d}else if("`"===c[0]&&t&&sn.call(t,c.slice(1))){const e=c.slice(1);p(this._trace(l,t[e],dn(n,e),t,e,a,o,!0))}else if(c.includes(",")){const e=c.split(",");for(const o of e)p(this._trace(cn(o,l),t,n,i,r,a,!0))}else!s&&t&&sn.call(t,c)&&p(this._trace(l,t[c],dn(n,c),t,c,a,o,!0))}if(this._hasParentSelector)for(let e=0;e<u.length;e++){const n=u[e];if(n&&n.isParentSelector){const s=this._trace(n.expr,t,n.path,i,r,a,o);if(Array.isArray(s)){u[e]=s[0];const t=s.length;for(let n=1;n<t;n++)e++,u.splice(e,0,s[n])}else u[e]=s}}return u},un.prototype._walk=function(e,t,n,i,r,a,o,s){if(Array.isArray(n)){const d=n.length;for(let c=0;c<d;c++)s(c,e,t,n,i,r,a,o)}else n&&"object"==typeof n&&Object.keys(n).forEach((d=>{s(d,e,t,n,i,r,a,o)}))},un.prototype._slice=function(e,t,n,i,r,a,o){if(!Array.isArray(n))return;const s=n.length,d=e.split(":"),c=d[2]&&Number.parseInt(d[2])||1;let l=d[0]&&Number.parseInt(d[0])||0,u=d[1]&&Number.parseInt(d[1])||s;l=l<0?Math.max(0,l+s):Math.min(s,l),u=u<0?Math.max(0,u+s):Math.min(s,u);const p=[];for(let e=l;e<u;e+=c){this._trace(cn(e,t),n,i,r,a,o,!0).forEach((e=>{p.push(e)}))}return p},un.prototype._eval=function(e,t,n,i,r,a){e.includes("@parentProperty")&&(this.currSandbox._$_parentProperty=a,e=e.replace(/@parentProperty/gu,"_$_parentProperty")),e.includes("@parent")&&(this.currSandbox._$_parent=r,e=e.replace(/@parent/gu,"_$_parent")),e.includes("@property")&&(this.currSandbox._$_property=n,e=e.replace(/@property/gu,"_$_property")),e.includes("@path")&&(this.currSandbox._$_path=un.toPathString(i.concat([n])),e=e.replace(/@path/gu,"_$_path")),e.includes("@root")&&(this.currSandbox._$_root=this.json,e=e.replace(/@root/gu,"_$_root")),/@([.\s)[])/u.test(e)&&(this.currSandbox._$_v=t,e=e.replace(/@([.\s)[])/gu,"_$_v$1"));try{return this.vm.runInNewContext(e,this.currSandbox)}catch(t){throw console.log(t),new Error("jsonPath: "+t.message+": "+e)}},un.cache={},un.toPathString=function(e){const t=e,n=t.length;let i="$";for(let e=1;e<n;e++)/^(~|\^|@.*?\(\))$/u.test(t[e])||(i+=/^[0-9*]+$/u.test(t[e])?"["+t[e]+"]":"['"+t[e]+"']");return i},un.toPointer=function(e){const t=e,n=t.length;let i="";for(let e=1;e<n;e++)/^(~|\^|@.*?\(\))$/u.test(t[e])||(i+="/"+t[e].toString().replace(/~/gu,"~0").replace(/\//gu,"~1"));return i},un.toPathArray=function(e){const{cache:t}=un;if(t[e])return t[e].concat();const n=[],i=e.replace(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\(\)/gu,";$&;").replace(/[['](\??\(.*?\))[\]']/gu,(function(e,t){return"[#"+(n.push(t)-1)+"]"})).replace(/\[['"]([^'\]]*)['"]\]/gu,(function(e,t){return"['"+t.replace(/\./gu,"%@%").replace(/~/gu,"%%@@%%")+"']"})).replace(/~/gu,";~;").replace(/['"]?\.['"]?(?![^[]*\])|\[['"]?/gu,";").replace(/%@%/gu,".").replace(/%%@@%%/gu,"~").replace(/(?:;)?(\^+)(?:;)?/gu,(function(e,t){return";"+t.split("").join(";")+";"})).replace(/;;;|;;/gu,";..;").replace(/;$|'?\]|'$/gu,"").split(";").map((function(e){const t=e.match(/#(\d+)/u);return t&&t[1]?n[t[1]]:e}));return t[e]=i,t[e].concat()},un.prototype.vm=r.default;var pn,fn=Object.freeze({__proto__:null,JSONPath:un}),gn=(pn=fn,pn&&pn.default||pn),vn=bt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=s(Gt),a=s(Qt),o=s(Xt);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){return(0,gn.JSONPath)({path:t,json:e,wrap:!1})}var l=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var s in d(this,e),this.factMap=new Map(t),this.factResultsCache=new Map,this.allowUndefinedFacts=Boolean(o.allowUndefinedFacts),this.pathResolver=o.pathResolver||c,this.events={success:[],failure:[]},this.ruleResults=[],i){var l=void 0;l=i[s]instanceof r.default?i[s]:new r.default(s,i[s]),this._addConstantFact(l),(0,a.default)("almanac::constructor initialized runtime fact:"+l.id+" with "+l.value+"<"+n(l.value)+">")}}return i(e,[{key:"addEvent",value:function(e,t){if(!t)throw new Error('outcome required: "success" | "failure"]');this.events[t].push(e)}},{key:"getEvents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?this.events[e]:this.events.success.concat(this.events.failure)}},{key:"addResult",value:function(e){this.ruleResults.push(e)}},{key:"getResults",value:function(){return this.ruleResults}},{key:"_getFact",value:function(e){return this.factMap.get(e)}},{key:"_addConstantFact",value:function(e){this.factMap.set(e.id,e),this._setFactValue(e,{},e.value)}},{key:"_setFactValue",value:function(e,t,n){var i=e.getCacheKey(t),r=Promise.resolve(n);return i&&this.factResultsCache.set(i,r),r}},{key:"addRuntimeFact",value:function(e,t){(0,a.default)("almanac::addRuntimeFact id:"+e);var n=new r.default(e,t);return this._addConstantFact(n)}},{key:"factValue",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=void 0,d=this._getFact(e);if(void 0===d)return this.allowUndefinedFacts?Promise.resolve(void 0):Promise.reject(new on.UndefinedFactError("Undefined fact: "+e));if(d.isConstant())s=Promise.resolve(d.calculate(i,this));else{var c=d.getCacheKey(i),l=c&&this.factResultsCache.get(c);l?(s=Promise.resolve(l),(0,a.default)("almanac::factValue cache hit for fact:"+e)):((0,a.default)("almanac::factValue cache miss for fact:"+e+"; calculating"),s=this._setFactValue(d,i,d.calculate(i,this)))}return r?((0,a.default)("condition::evaluate extracting object property "+r),s.then((function(e){if((0,o.default)(e)){var i=t.pathResolver(e,r);return(0,a.default)("condition::evaluate extracting object property "+r+", received: "+JSON.stringify(i)),i}return(0,a.default)("condition::evaluate could not compute object path("+r+") of non-object: "+e+" <"+(void 0===e?"undefined":n(e))+">; continuing with "+e),e}))):s}}]),e}();t.default=l})),hn=bt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n,i=(n=an)&&n.__esModule?n:{default:n};var r=[];function a(e){return"NaN"!==Number.parseFloat(e).toString()}r.push(new i.default("equal",(function(e,t){return e===t}))),r.push(new i.default("notEqual",(function(e,t){return e!==t}))),r.push(new i.default("in",(function(e,t){return t.indexOf(e)>-1}))),r.push(new i.default("notIn",(function(e,t){return-1===t.indexOf(e)}))),r.push(new i.default("contains",(function(e,t){return e.indexOf(t)>-1}),Array.isArray)),r.push(new i.default("doesNotContain",(function(e,t){return-1===e.indexOf(t)}),Array.isArray)),r.push(new i.default("lessThan",(function(e,t){return e<t}),a)),r.push(new i.default("lessThanInclusive",(function(e,t){return e<=t}),a)),r.push(new i.default("greaterThan",(function(e,t){return e>t}),a)),r.push(new i.default("greaterThanInclusive",(function(e,t){return e>=t}),a)),t.default=r})),mn=bt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.FINISHED=t.RUNNING=t.READY=void 0;var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i=l(Gt),r=l(rn),a=l(an),o=l(vn),s=l(nn),d=l(hn),c=l(Qt);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=t.READY="READY",g=t.RUNNING="RUNNING",v=t.FINISHED="FINISHED",h=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u(this,t);var i=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.rules=[],i.allowUndefinedFacts=n.allowUndefinedFacts||!1,i.pathResolver=n.pathResolver,i.operators=new Map,i.facts=new Map,i.status=f,e.map((function(e){return i.addRule(e)})),d.default.map((function(e){return i.addOperator(e)})),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"addRule",value:function(e){if(!e)throw new Error("Engine: addRule() requires options");var t=void 0;if(e instanceof r.default)t=e;else{if(!Object.prototype.hasOwnProperty.call(e,"event"))throw new Error('Engine: addRule() argument requires "event" property');if(!Object.prototype.hasOwnProperty.call(e,"conditions"))throw new Error('Engine: addRule() argument requires "conditions" property');t=new r.default(e)}return t.setEngine(this),this.rules.push(t),this.prioritizedRules=null,this}},{key:"updateRule",value:function(e){var t=this.rules.findIndex((function(t){return t.name===e.name}));if(!(t>-1))throw new Error("Engine: updateRule() rule not found");this.rules.splice(t,1),this.addRule(e),this.prioritizedRules=null}},{key:"removeRule",value:function(e){var t=!1;if(e instanceof r.default){var n=this.rules.indexOf(e);n>-1&&(t=Boolean(this.rules.splice(n,1).length))}else{var i=this.rules.filter((function(t){return t.name!==e}));t=i.length!==this.rules.length,this.rules=i}return t&&(this.prioritizedRules=null),t}},{key:"addOperator",value:function(e,t){var n=void 0;n=e instanceof a.default?e:new a.default(e,t),(0,c.default)("engine::addOperator name:"+n.name),this.operators.set(n.name,n)}},{key:"removeOperator",value:function(e){var t=void 0;return t=e instanceof a.default?e.name:e,this.operators.delete(t)}},{key:"addFact",value:function(e,t,n){var r=e,a=void 0;return e instanceof i.default?(r=e.id,a=e):a=new i.default(e,t,n),(0,c.default)("engine::addFact id:"+r),this.facts.set(r,a),this}},{key:"removeFact",value:function(e){var t=void 0;return t=e instanceof i.default?e.id:e,this.facts.delete(t)}},{key:"prioritizeRules",value:function(){if(!this.prioritizedRules){var e=this.rules.reduce((function(e,t){var n=t.priority;return e[n]||(e[n]=[]),e[n].push(t),e}),{});this.prioritizedRules=Object.keys(e).sort((function(e,t){return Number(e)>Number(t)?-1:1})).map((function(t){return e[t]}))}return this.prioritizedRules}},{key:"stop",value:function(){return this.status=v,this}},{key:"getFact",value:function(e){return this.facts.get(e)}},{key:"evaluateRules",value:function(e,t){var n=this;return Promise.all(e.map((function(e){return n.status!==g?((0,c.default)("engine::run status:"+n.status+"; skipping remaining rules"),Promise.resolve()):e.evaluate(t).then((function(e){return(0,c.default)("engine::run ruleResult:"+e.result),t.addResult(e),e.result?(t.addEvent(e.event,"success"),n.emitAsync("success",e.event,t,e).then((function(){return n.emitAsync(e.event.type,e.event.params,t,e)}))):(t.addEvent(e.event,"failure"),n.emitAsync("failure",e.event,t,e))}))})))}},{key:"run",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,c.default)("engine::run started"),this.status=g;var n={allowUndefinedFacts:this.allowUndefinedFacts,pathResolver:this.pathResolver},i=new o.default(this.facts,t,n),r=this.prioritizeRules(),a=Promise.resolve();return new Promise((function(t,n){r.map((function(t){return a=a.then((function(){return e.evaluateRules(t,i)})).catch(n)})),a.then((function(){e.status=v,(0,c.default)("engine::run completed");var n=i.getResults().reduce((function(e,t){return e[t.result?"results":"failureResults"].push(t),e}),{results:[],failureResults:[]}),r=n.results,a=n.failureResults;t({almanac:i,results:r,failureResults:a,events:i.getEvents("success"),failureEvents:i.getEvents("failure")})})).catch(n)}))}}]),t}(s.default);t.default=h})),wn=bt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Engine=t.Operator=t.Rule=t.Fact=void 0,t.default=function(e,t){return new n.default(e,t)};var n=o(mn),i=o(Gt),r=o(rn),a=o(an);function o(e){return e&&e.__esModule?e:{default:e}}t.Fact=i.default,t.Rule=r.default,t.Operator=a.default,t.Engine=n.default})),bn=wn,yn=function(){function e(t){var n=this,i=t.widget,r=t.pageEventListener,a=t.removeWidget,o=t.emitEvent,s=t.getState,d=t.setState,l=t.onUpdate,u=t.t;c(this,e),p(this,"_widget",void 0),p(this,"_getPageState",void 0),p(this,"_setPageState",void 0),p(this,"_widgetItems",void 0),p(this,"_update",void 0),p(this,"_t",void 0),p(this,"_emitEvent",void 0),p(this,"_pageEventListener",void 0),p(this,"_removeWidget",void 0),p(this,"_attachedListenerSets",{}),p(this,"_properties",void 0),this._t=u,this._pageEventListener=r,this._removeWidget=a,this._emitEvent=o,this._widgetItems={},this._widget=i,this._getPageState=s,this._setPageState=d,this._update=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;return l(e)},this._properties=i.properties,this.code&&s().registerWidgetCode(this.code,this.id),this.syncReflexiveListeners(),this.syncFetchPropertiesListeners()}var t,n,i,r,a,s,l;return u(e,[{key:"pageState",get:function(){return this._getPageState()}},{key:"emitEvent",value:(l=d(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._emitEvent(t,n,this));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return l.apply(this,arguments)})},{key:"t",get:function(){return this._t}},{key:"id",get:function(){return this._widget.id}},{key:"order",get:function(){return this._widget.order}},{key:"widget",get:function(){return this._widget}},{key:"effects",get:function(){return this._widget.effects}},{key:"type",get:function(){return this._widget.type}},{key:"code",get:function(){return this._widget.code}},{key:"style",get:function(){return this._widget.style}},{key:"properties",get:function(){return this._properties}},{key:"parentId",get:function(){return this._widget.parent}},{key:"parent",get:function(){return this._widget.parent},set:function(e){this._widget.parent=e}},{key:"reflexiveRules",get:function(){return this._widget.reflexiveRules}},{key:"validationRules",get:function(){return this._widget.validationRules}},{key:"setListenerSet",value:function(e,t,n){var i=this;this._attachedListenerSets[e]?this._attachedListenerSets[e].events.forEach((function(t){i._pageEventListener.remove(t,i._attachedListenerSets[e].fn)})):this._attachedListenerSets[e]={events:[],fn:function(){return null}},null!=t&&t.length?(this._attachedListenerSets[e].events=t,this._attachedListenerSets[e].fn=n,this._attachedListenerSets[e].events.forEach((function(t){i._pageEventListener.add(t,i._attachedListenerSets[e].fn)}))):delete this._attachedListenerSets[e]}},{key:"syncFetchPropertiesListeners",value:function(){var e,t=this;this.setListenerSet("fetchProperties",(null===(e=this.widget.fetchPropertiesOnWidgetsChange)||void 0===e?void 0:e.map((function(e){return"".concat(e,"_change")})))||[],d(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.callFetchPropertiesApi();case 2:case"end":return e.stop()}}),e)}))))}},{key:"syncReflexiveListeners",value:function(){var e,t=this;this.setListenerSet("reflexives",(null===(e=this.reflexiveRules)||void 0===e?void 0:e.map((function(e){return"".concat(e.fact,"_change")})))||[],(function(){return t.runReflexives()})),this.runReflexives()}},{key:"callFetchPropertiesApi",value:(s=d(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.widget.fetchPropertiesApi){e.next=2;break}return e.abrupt("return");case 2:return t={currentProperties:this.properties,originalProperties:this.widget.properties},e.next=5,fetch(this.widget.fetchPropertiesApi,{method:"POST",body:JSON.stringify(t)});case 5:if((n=e.sent).ok){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,n.json();case 10:this._properties=e.sent;case 11:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"setProperty",value:function(e,t){this._widget.properties[e]=t,this._update(this)}},{key:"setEffectProperties",value:function(e,t){this._widget.effects=(this.effects||[]).map((function(n){return n.type===e?o(o({},n),{},{properties:t}):n})),this._update(this)}},{key:"update",value:function(){this._update()}},{key:"addEffect",value:function(e){var t,n;this.effects||(this._widget.effects=[]),null!==(t=this.effects)&&void 0!==t&&t.some((function(t){return t.type===e.type}))||(null===(n=this.effects)||void 0===n||n.push(e),this._update())}},{key:"removeEffect",value:function(e){var t;this._widget.effects=null===(t=this._widget.effects)||void 0===t?void 0:t.filter((function(t){return t.type!==e})),this._update()}},{key:"emitListener",value:function(e,t){this._pageEventListener.emit("".concat(this.id,"_").concat(e),t,{widgetItem:this}),this.code&&this._pageEventListener.emit("".concat(this.code,"_").concat(e),t,{widgetItem:this})}},{key:"destroyed",value:function(){}},{key:"removeWidget",value:function(){this.parentId&&this._widgetItems[this.parentId].removeChild(this),this.destroyed(),this._removeWidget(this.id)}},{key:"setWidgetItems",value:function(e){this._widgetItems=e}},{key:"setLoading",value:function(e){var t=this;this.setState("loading",e),this.getParents().forEach((function(n){n.setChildLoading(t.id,e)}))}},{key:"validate",value:(a=d(regeneratorRuntime.mark((function e(t,n){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=new bn.Engine(void 0,{allowUndefinedFacts:!0})).addRule({conditions:{all:t},event:{type:"isTruthy"}}),e.next=4,i.run(n);case 4:return e.abrupt("return",e.sent.events.some((function(e){return"isTruthy"===e.type})));case 5:case"end":return e.stop()}}),e)}))),function(e,t){return a.apply(this,arguments)})},{key:"runValidations",value:(r=d(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getValidationErrors();case 2:return t=e.sent,this.setState("errors",t),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"_getValidationErrors",value:(i=d(regeneratorRuntime.mark((function e(){var t,n,i,r,a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=!(null!==(t=this.validationRules)&&void 0!==t&&t.length),e.t0){e.next=5;break}return e.next=4,this.isReflexive();case 4:e.t0=!e.sent;case 5:if(!e.t0){e.next=7;break}return e.abrupt("return",null);case 7:return n=this.getState("response"),i=Object.keys(this.pageState.widgetState).reduce((function(e,t){var n=a.pageState.widgetState[t];return"question"===n.type&&(e[a._widgetItems[t].code||a._widgetItems[t].id]=n.response),e}),{}),e.next=11,Promise.all(this.validationRules.map(function(){var e=d(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.validate(t.conditions,o(o({properties:a.properties},i),{},{response:void 0===n||""===n?null:n}));case 2:if(e.sent){e.next=5;break}return e.abrupt("return",{err:t.error});case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 11:return r=e.sent.filter((function(e){return e})),e.abrupt("return",r.length?r:null);case 13:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"addValidation",value:function(e){var t;null===(t=this.validationRules)||void 0===t||t.push(e),this._update()}},{key:"setChildLoading",value:function(e,t){var n=this.getState("childLoadings")||{};t?n[e]=t:delete n[e],Object.keys(n).length?this.setState("childLoadings",n):this.setState("childLoadings",void 0)}},{key:"childLoadings",value:function(){return this.getState("childLoadings")}},{key:"hasChildLoading",value:function(){return Object.keys(this.childLoadings()||{}).length>0}},{key:"setChildErrors",value:function(e,t){var n=this.getState("childErrors")||{};t?n[e]=t:delete n[e],Object.keys(n).length?this.setState("childErrors",n):this.setState("childErrors",void 0)}},{key:"childErrors",value:function(){return this.getState("childErrors")}},{key:"hasChildErrors",value:function(){return Object.keys(this.childErrors()||{}).length>0}},{key:"runReflexives",value:(n=d(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.isReflexive();case 2:if(t=!e.sent,n=!!this.getState("reflexiveHide"),t===n){e.next=7;break}return e.next=7,this.runValidations();case 7:this.setState("reflexiveHide",t);case 8:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"isReflexive",value:(t=d(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=this.reflexiveRules)&&void 0!==t&&t.length){e.next=2;break}return e.abrupt("return",!0);case 2:return e.abrupt("return",this.validate(this.reflexiveRules,this.reflexiveRules.reduce((function(e,t){var i,r=n.pageState.widgetCodeToIdMap[t.fact],a=null===(i=n.pageState.widgetState[r])||void 0===i?void 0:i.response;return e[t.fact]=a,e}),{})));case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"setState",value:function(e,t){this._getPageState().setWidgetState(this.id,e,t),this._setPageState(this.pageState)}},{key:"getState",value:function(e){return this._getPageState().getWidgetState(this.id,e)}},{key:"getParentIds",value:function(){return e.getParentIds(this.id,this._widgetItems)}},{key:"getParents",value:function(){var e=this;return this.getParentIds().map((function(t){return e._widgetItems[t]}))}},{key:"getParent",value:function(){return this._widgetItems[this.parentId||""]||null}},{key:"getChildrenIds",value:function(e,t){return[]}},{key:"getChildren",value:function(e,t){var n=this;return this.getChildrenIds(e,t).map((function(e){return n._widgetItems[e]}))}},{key:"addChild",value:function(e,t){e.parent=this.id}},{key:"removeChild",value:function(e){e.parent=void 0}}],[{key:"getParentIds",value:function(t,n){var i=n[t];return null!=i&&i.parentId?[i.parentId].concat(x(e.getParentIds(i.parentId,n)||[])):[]}}]),e}(),_n={props:{widget:Object,widgetControls:Object,widgetItems:Object,pageState:Object,setWidgetState:Function,getWidgetState:Function,view:String},inject:["widgetEffectControls","setPageState"],methods:{onWidgetSelect:function(){this.$props.pageState.interactiveState.selectedWidgetId=this.$props.widget.id,this.setPageState(this.$props.pageState)}}},xn=_n,Sn=function(e){e&&e("data-v-cde56c1a_0",{source:".widget-component-wrapper[data-v-cde56c1a]{position:relative}.widget-component-wrapper.selected[data-v-cde56c1a]{background-color:#fff;border:1px solid #86d5fa;border-radius:8px;padding:0 10px;margin:-1px -11px -1px -11px}.widget-wrapper[data-v-cde56c1a]{padding:0 10px}.widget-builder-control[data-v-cde56c1a]{position:absolute;top:-10px;left:10px;opacity:0;transition:opacity .2s;z-index:10}.widget-builder-control.hovered[data-v-cde56c1a]{opacity:1}",map:void 0,media:void 0})},Cn=Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"widget-wrapper",on:{click:function(t){return t.stopPropagation(),e.onWidgetSelect(t)}}},[e.widget.style?n("style",{tag:"component",attrs:{scoped:""}},[e._v("\n    "+e._s(e.widget.style)+"\n  ")]):e._e(),e._v(" "),"builder"===e.view&&e.widgetControls[e.widget.type].builderControl?n("div",{staticClass:"widget-builder-control",class:{hovered:e.pageState.interactiveState.hoveredWidgetId===e.widget.id}},[n(e.widgetControls[e.widget.type].builderControl,{tag:"component",attrs:{widget:e.widget,widgetControls:e.widgetControls,widgetItems:e.widgetItems,pageState:e.pageState,setWidgetState:function(t,n){return e.setWidgetState(t,n,e.widget)},getWidgetState:function(t){return e.getWidgetState(t,e.widget)},view:e.view}})],1):e._e(),e._v(" "),n("div",{ref:"widgetComponentWrapper",staticClass:"widget-component-wrapper",class:{selected:e.pageState.interactiveState.selectedWidgetId===e.widget.id,unselected:e.pageState.interactiveState.selectedWidgetId&&e.pageState.interactiveState.selectedWidgetId!==e.widget.id}},[e._l(e.widget.effects,(function(t){return n(e.widgetEffectControls[t.type].display,{key:t.type,tag:"component",attrs:{properties:t.properties,wrapperRef:e.$refs.widgetComponentWrapper}})})),e._v(" "),n(e.widgetControls[e.widget.type][e.view||"display"],{tag:"component",attrs:{widget:e.widget,widgetControls:e.widgetControls,widgetItems:e.widgetItems,pageState:e.pageState,setWidgetState:function(t,n){return e.setWidgetState(t,n,e.widget)},getWidgetState:function(t){return e.getWidgetState(t,e.widget)},view:e.view,wrapperRef:e.$refs.widgetComponentWrapper,t:e.widget.t}})],2)],1)},staticRenderFns:[]},Sn,xn,"data-v-cde56c1a",false,undefined,!1,je,void 0,void 0),kn=Cn,In={components:{WidgetView:kn},props:{widgetControls:Object,widgetItems:Object,excludeWidgetIds:pt(String),onlyIncludeWidgetIds:pt(String),forParent:String},inject:["widgetControls","getPageState","getView","setPageState","removeWidget"],data:function(){return{hoveredWidgetId:-1,openedAddOptionsIndex:-1}},computed:{view:function(){return this.getView()},pageState:function(){return this.getPageState()},widgetItemsArr:function(){return Object.values(this.$props.widgetItems)},filteredWidgetItemsArr:function(){var e=this;return this.widgetItemsArr.filter((function(t){return(!e.forParent&&!t.parentId||t.parentId===e.forParent)&&(!e.$props.onlyIncludeWidgetIds||e.$props.onlyIncludeWidgetIds.includes(t.id))&&(!(e.excludeWidgetIds||[]).length||!e.excludeWidgetIds.includes(t.id))})).sort((function(e,t){return(e.order||0)-(t.order||0)}))}},methods:{toggleShowAddOptions:function(e,t,n){this.$data.openedAddOptionsIndex=this.$data.openedAddOptionsIndex===n?-1:n},addWidget:function(e,t,n,i){this.widgetControls[t].create(),this.$data.openedAddOptionsIndex=-1},onDnDPlaceholderMouseDown:function(e,t){this.pageState.interactiveState.draggingWidgetId=t,this.setPageState(this.pageState)},onDnDPlaceholderMouseUp:function(e,t){this.pageState.interactiveState.draggingWidgetId="",this.setPageState(this.pageState)},onMouseEnter:function(e,t){e.stopPropagation(),this.$data.hoveredWidgetId=t,this.pageState.interactiveState.hoveredWidgetId=t,this.setPageState(this.pageState)},onMouseLeave:function(e,t){this.$data.hoveredWidgetId===t&&(this.$data.hoveredWidgetId=-1,this.pageState.interactiveState.hoveredWidgetId="",this.setPageState(this.pageState))},setWidgetState:function(e,t,n){var i=this.pageState;if(void 0===t){if(!i.widgetState[n.id])return;delete i.widgetState[n.id][e]}else i.widgetState[n.id]||(i.widgetState[n.id]={}),i.widgetState[n.id][e]=t;this.setPageState(i)},getWidgetState:function(e,t){var n;return null===(n=this.pageState.widgetState[t.id])||void 0===n?void 0:n[e]}}},On=In,Pn=function(e){e&&e("data-v-1bdc9e34_0",{source:".widget-container[data-v-1bdc9e34]{position:relative}.widget-container.notDragging[data-v-1bdc9e34]{opacity:.4}.widget-container.dragging[data-v-1bdc9e34]{opacity:1}.widget-form-control[data-v-1bdc9e34]{position:absolute;top:-40px;left:0}.add-line[data-v-1bdc9e34]{position:relative;padding:10px 0;margin:-10.5px 0;opacity:0;transition:opacity .2s;z-index:10}.add-line[data-v-1bdc9e34]:hover{opacity:1}.add-line .line[data-v-1bdc9e34]{width:100%;height:1px;background-color:#b5b5b5;cursor:pointer}.add-line .add-button[data-v-1bdc9e34]{position:absolute;top:-2px;left:-10px;width:20px;height:20px;background-color:#fff;border:1px solid #cdcdcd;border-radius:4px;display:flex;justify-content:center;align-items:center;padding-top:2px;box-shadow:0 0 10px 10px #fff;cursor:pointer;transition:background-color .3s}.add-line.opened .add-button[data-v-1bdc9e34]{background-color:#f71414;border:1px solid #f71414;color:#fff}.add-line.opened .add-button[data-v-1bdc9e34]:hover{background-color:#dc1212;border:1px solid #dc1212}.add-line .add-button span[data-v-1bdc9e34]{transition:all .3s}.add-line.opened .add-button span[data-v-1bdc9e34]{transform:rotate(45deg)}.add-line .add-button[data-v-1bdc9e34]:hover{background-color:#eaeaea}.add-line .add-options-wrapper[data-v-1bdc9e34]{margin-left:15px;position:absolute;top:-2px;left:0;width:100%;display:none}.add-line .add-options-wrapper.open[data-v-1bdc9e34]{display:block}.add-line .add-options-inner-wrapper[data-v-1bdc9e34]{width:100%;padding-bottom:10px;overflow-x:auto;display:flex;flex-direction:row}.add-line .add-options-wrapper a[data-v-1bdc9e34]{padding:2px 4px;cursor:pointer;background-color:#fff;border:1px solid #e8e8e8;border-radius:4px}.widget-container .dnd-placeholder[data-v-1bdc9e34]{width:20px;height:25px;padding-bottom:2px;background-color:#fafafa;border:1px dashed #dadada;cursor:grab;font-size:9pt;display:flex;justify-content:center;align-items:center;border-radius:4px}.widget-container .dnd-placeholder[data-v-1bdc9e34]:hover{background-color:#eaeaea}.left-actions-wrapper[data-v-1bdc9e34]{position:absolute;top:15px;left:-40px;padding:10px;opacity:0;transition:opacity .2s;width:25px;display:flex;flex-direction:column;align-items:center}.widget-container.hovering>.left-actions-wrapper[data-v-1bdc9e34]{opacity:1}.delete-button[data-v-1bdc9e34]{font-size:12px;margin:2px 0;padding:1px 0;cursor:pointer;color:red}",map:void 0,media:void 0})},jn=Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.filteredWidgetItemsArr,(function(t,i){return n("div",{key:t.id,staticClass:"widget-container",class:{hovering:e.hoveredWidgetId===t.id,dragging:e.pageState.interactiveState.draggingWidgetId===t.id,notDragging:e.pageState.interactiveState.draggingWidgetId&&e.pageState.interactiveState.draggingWidgetId!==t.id},on:{mouseenter:function(n){return n.stopPropagation(),i=n,e.onMouseEnter(i,t.id);var i},mouseleave:function(n){return n.stopPropagation(),i=n,e.onMouseLeave(i,t.id);var i}}},[n("div",{staticClass:"left-actions-wrapper"},[n("a",{staticClass:"dnd-placeholder",on:{mousedown:function(n){return e.onDnDPlaceholderMouseDown(n,t.id)},mouseup:function(n){return e.onDnDPlaceholderMouseUp(n,t.id)}}},[e._v("\n        ↑↓\n      ")]),e._v(" "),n("a",{staticClass:"delete-button",on:{click:function(){return t.removeWidget()}}},[e._v("\n        🗑\n      ")])]),e._v(" "),n("div",{staticClass:"add-line",class:{opened:e.openedAddOptionsIndex===i}},[n("div",{staticClass:"line",on:{click:function(n){return n.stopPropagation(),r=n,e.toggleShowAddOptions(r,t,i);var r}}}),e._v(" "),n("a",{staticClass:"add-button",on:{click:function(n){return n.stopPropagation(),r=n,e.toggleShowAddOptions(r,t,i);var r}}},[n("span",[e._v("+")])]),e._v(" "),n("div",{staticClass:"add-options-wrapper",class:{open:e.openedAddOptionsIndex===i}},[n("div",{staticClass:"add-options-inner-wrapper"},e._l(Object.keys(e.widgetControls),(function(r){return n("a",{key:r,on:{click:function(n){return e.addWidget(n,r,t,i)}}},[e._v("\n            "+e._s(r)+"\n          ")])})),0)])]),e._v(" "),n("widget-view",{attrs:{widget:t,widgetControls:e.widgetControls,widgetItems:e.widgetItems,pageState:e.pageState,setWidgetState:e.setWidgetState,getWidgetState:e.getWidgetState,view:e.view}}),e._v(" "),i===e.filteredWidgetItemsArr.length-1?n("div",{staticClass:"add-line",class:{opened:e.openedAddOptionsIndex===i+1}},[n("div",{staticClass:"line",on:{click:function(n){return n.stopPropagation(),r=n,e.toggleShowAddOptions(r,t,i+1);var r}}}),e._v(" "),n("a",{staticClass:"add-button",on:{click:function(n){return n.stopPropagation(),r=n,e.toggleShowAddOptions(r,t,i+1);var r}}},[n("span",[e._v("+")])]),e._v(" "),n("div",{staticClass:"add-options-wrapper",class:{open:e.openedAddOptionsIndex===i+1}},[n("div",{staticClass:"add-options-inner-wrapper"},e._l(Object.keys(e.widgetControls),(function(r){return n("a",{key:r,on:{click:function(n){return e.addWidget(n,r,t,i+1)}}},[e._v("\n            "+e._s(r)+"\n          ")])})),0)])]):e._e()],1)})),0)},staticRenderFns:[]},Pn,On,"data-v-1bdc9e34",false,undefined,!1,je,void 0,void 0),En=jn,$n={components:{WidgetsLayout:wt,BuilderWidgetsLayout:En},props:{widget:Object,widgetControls:Object,widgetItems:Object,pageState:Object,setWidgetState:Function,getWidgetState:Function,view:String,wrapperRef:HTMLDivElement,t:Function},data:function(){return{sortedPages:[]}},computed:{currentPageIndex:function(){var e,t;return(null===(e=this.pageState.widgetState)||void 0===e||null===(t=e[this.$props.widget.id])||void 0===t?void 0:t.currentPageIndex)||0}},watch:{currentPageIndex:{handler:function(){var e=this.$props.widget.getState("viewedIndices");this.$props.widget.setState("viewedIndices",x(new Set([].concat(x(e||[]),[this.currentPageIndex]))))},immediate:!0},"widget.properties.pages":{handler:function(){this.$data.sortedPages=this.$props.widget.getSortedPages()},immediate:!0}}},Wn=$n,Tn=function(e){e&&e("data-v-37b95a70_0",{source:".pages-menu-wrapper[data-v-37b95a70]{display:flex;flex-direction:row;justify-content:center;margin:10px 0}.pages-menu-item[data-v-37b95a70]{display:inline-block;padding:10px 20px;cursor:pointer;text-align:center}.pages-menu-item.unopened[data-v-37b95a70]{opacity:.3;cursor:default}.pages-menu-item.active[data-v-37b95a70]{border-bottom:3px solid #03a9f4}.pages-menu-item.errors[data-v-37b95a70]{border-color:red}.back-forward-wrapper[data-v-37b95a70]{display:flex;flex-direction:row;justify-content:space-between}.back-forward-button[data-v-37b95a70]{padding:10px 20px;margin:10px;border:1px solid transparent;background-color:#03a9f4;color:#fff;cursor:pointer}.back-forward-button.errors[data-v-37b95a70]{background-color:red;color:#fff;opacity:.2;cursor:default}",map:void 0,media:void 0})},Fn=Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.widget.properties.tabsVisible?n("div",{staticClass:"pages-menu-wrapper"},e._l(e.sortedPages,(function(t,i){return n("a",{key:i,staticClass:"pages-menu-item",class:{active:e.currentPageIndex===i,errors:e.widget.pageIndexHasErrors(i,{allChildPages:!0}),unopened:!(e.widget.getState("viewedIndices")||[]).includes(i)},on:{click:function(){return e.widget.onChangePageIndex(i)}}},[e._v("\n      "+e._s(e.t(t.labelKey,e.widget.id))+"\n    ")])})),0):e._e(),e._v(" "),n("div",{staticClass:"pages-content-item"},[n("builder-widgets-layout",{attrs:{widgetItems:e.widgetItems,excludeWidgetIds:[e.widget.id],onlyIncludeWidgetIds:e.sortedPages.length&&e.currentPageIndex>-1?e.sortedPages[e.currentPageIndex].children:[],forParent:e.widget.id}})],1),e._v(" "),e.widget.properties.navigationVisible?n("div",{staticClass:"back-forward-wrapper"},[n("div",[e.widget.hasPreviousButton()?n("button",{staticClass:"back-forward-button",on:{click:function(){return e.widget.toPreviousPage()}}},[e._v("\n        "+e._s(e.t("__"+e.widget.previousButtonType(),e.widget.id))+"\n      ")]):e._e()]),e._v(" "),n("div",[e.widget.hasNextButton()?n("button",{staticClass:"back-forward-button",class:{errors:e.widget.pageIndexHasErrors(e.currentPageIndex)},on:{click:function(){return e.widget.toNextPage()}}},[e._v("\n        "+e._s(e.t("__"+e.widget.nextButtonType(),e.widget.id))+"\n      ")]):e._e()])]):e._e()])},staticRenderFns:[]},Tn,Wn,"data-v-37b95a70",false,undefined,!1,je,void 0,void 0),Rn=Fn,Ln={props:{widget:Object,t:Function},inject:["updateWidget","setMessage","getLocale"],methods:{setPageLabel:function(e,t){this.setMessage({id:this.$props.widget.id,locale:this.getLocale(),key:this.$props.widget.properties.pages[e].labelKey,value:t})},setProperty:function(e,t){this.widget.setProperty(e,t)}}},An=Ln,Mn=function(e){e&&e("data-v-48a49774_0",{source:".section[data-v-48a49774]{padding:15px 5px}label[data-v-48a49774]{display:block;padding:5px 0}.page-item[data-v-48a49774]{padding:5px 0;display:flex;flex-direction:row;justify-content:space-between}.page-item input[data-v-48a49774]{flex:1;border-width:0 0 1px 0;outline:0}.page-item .delete-page-button[data-v-48a49774]{padding-right:5px;padding-left:5px}",map:void 0,media:void 0})},Dn=Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"section"},[n("label",[e._v("Pages")]),e._v(" "),n("div",{staticClass:"pages-list-wrapper"},e._l(e.widget.properties.pages,(function(t,i){return n("div",{key:i,staticClass:"page-item"},[n("input",{attrs:{type:"text"},domProps:{value:e.t(t.labelKey)},on:{change:function(t){return e.setPageLabel(i,t.target.value)}}}),e._v(" "),n("a",{staticClass:"delete-page-button",on:{click:function(){return e.widget.removeWidget()}}},[e._v("🗑")])])})),0)]),e._v(" "),n("div",{staticClass:"section"},[n("label",[e._v("Options")]),e._v(" "),n("label",[n("input",{attrs:{type:"checkbox"},domProps:{checked:e.widget.properties.hasCompleteButton},on:{change:function(t){return e.setProperty("hasCompleteButton",t.target.checked)}}}),e._v("\n      has complete button\n    ")]),e._v(" "),n("label",[n("input",{attrs:{type:"checkbox"},domProps:{checked:e.widget.properties.tabsVisible},on:{change:function(t){return e.setProperty("tabsVisible",t.target.checked)}}}),e._v("\n      show tabs\n    ")]),e._v(" "),n("label",[n("input",{attrs:{type:"checkbox"},domProps:{checked:e.widget.properties.navigationVisible},on:{change:function(t){return e.setProperty("navigationVisible",t.target.checked)}}}),e._v("\n      show navigation\n    ")]),e._v(" "),n("label",[n("input",{attrs:{type:"checkbox"},domProps:{checked:e.widget.properties.navigationIntegrateChildrenPages},on:{change:function(t){return e.setProperty("navigationIntegrateChildrenPages",t.target.checked)}}}),e._v("\n      integrate children pages\n    ")])])])},staticRenderFns:[]},Mn,An,"data-v-48a49774",false,undefined,!1,je,void 0,void 0),Nn=Dn,qn={components:{WidgetsLayout:wt},props:{widget:Object,widgetControls:Object,widgetItems:Object,pageState:Object,setWidgetState:Function,getWidgetState:Function,view:String,wrapperRef:HTMLDivElement,t:Function},data:function(){return{sortedPages:[]}},computed:{currentPageIndex:function(){var e,t;return(null===(e=this.pageState.widgetState)||void 0===e||null===(t=e[this.$props.widget.id])||void 0===t?void 0:t.currentPageIndex)||0}},watch:{currentPageIndex:{handler:function(){var e=this.$props.widget.getState("viewedIndices");this.$props.widget.setState("viewedIndices",x(new Set([].concat(x(e||[]),[this.currentPageIndex]))))},immediate:!0},"widget.properties.pages":{handler:function(){this.$data.sortedPages=this.$props.widget.getSortedPages()},immediate:!0}}},Vn=qn,Bn=function(e){e&&e("data-v-f939f234_0",{source:".pages-menu-wrapper[data-v-f939f234]{display:flex;flex-direction:row;justify-content:center;margin:10px 0}.pages-menu-item[data-v-f939f234]{display:inline-block;padding:10px 20px;cursor:pointer;text-align:center}.pages-menu-item.unopened[data-v-f939f234]{opacity:.3;cursor:default}.pages-menu-item.active[data-v-f939f234]{border-bottom:3px solid #03a9f4}.pages-menu-item.errors[data-v-f939f234]{border-color:red}.back-forward-wrapper[data-v-f939f234]{display:flex;flex-direction:row;justify-content:space-between}.back-forward-button[data-v-f939f234]{padding:10px 20px;margin:10px;border:1px solid transparent;background-color:#03a9f4;color:#fff;cursor:pointer}.back-forward-button.errors[data-v-f939f234]{background-color:red;color:#fff;opacity:.2;cursor:default}.back-forward-button.submitting[data-v-f939f234]{opacity:.2}",map:void 0,media:void 0})},Hn=Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.widget.properties.tabsVisible?n("div",{staticClass:"pages-menu-wrapper"},e._l(e.sortedPages,(function(t,i){return n("a",{key:i,staticClass:"pages-menu-item",class:{active:e.currentPageIndex===i,errors:e.widget.pageIndexHasErrors(i,{allChildPages:!0}),unopened:!(e.widget.getState("viewedIndices")||[]).includes(i)},attrs:{disabled:!(e.widget.getState("viewedIndices")||[]).includes(i)},on:{click:function(){return(e.widget.getState("viewedIndices")||[]).includes(i)&&e.widget.onChangePageIndex(i)}}},[e._v("\n      "+e._s(e.t(t.labelKey,e.widget.id))+"\n    ")])})),0):e._e(),e._v(" "),n("div",{staticClass:"pages-content-item"},[n("widgets-layout",{attrs:{widgetItems:e.widgetItems,excludeWidgetIds:[e.widget.id],onlyIncludeWidgetIds:e.sortedPages.length&&e.currentPageIndex>-1?e.sortedPages[e.currentPageIndex].children:void 0,widgetsOrder:e.sortedPages.length&&e.currentPageIndex>-1?e.sortedPages[e.currentPageIndex].children:void 0,forParent:e.widget.id}})],1),e._v(" "),e.widget.properties.navigationVisible?n("div",{staticClass:"back-forward-wrapper"},[n("div",[e.widget.hasPreviousButton()?n("button",{staticClass:"back-forward-button",attrs:{disabled:e.widget.pageIndexHasLoadings(e.currentPageIndex)||e.widget.isSubmitting},on:{click:function(){return e.widget.toPreviousPage()}}},[e._v("\n        "+e._s(e.t("__"+e.widget.previousButtonType(),e.widget.id))+"\n      ")]):e._e()]),e._v(" "),n("div",[e.widget.hasNextButton()?n("button",{staticClass:"back-forward-button",class:{errors:e.widget.pageIndexHasErrors(e.currentPageIndex),submitting:e.widget.isSubmitting},attrs:{disabled:e.widget.pageIndexHasLoadings(e.currentPageIndex)||e.widget.pageIndexHasErrors(e.currentPageIndex)||e.widget.isSubmitting},on:{click:function(){return e.widget.toNextPage()}}},[e._v("\n        "+e._s(e.t("__"+e.widget.nextButtonType(),e.widget.id))+"\n      ")]):e._e()])]):e._e()])},staticRenderFns:[]},Bn,Vn,"data-v-f939f234",false,undefined,!1,je,void 0,void 0),zn=Hn,Un=function(e){f(i,e);var t,n=w(i);function i(e){var t;return c(this,i),p(h(t=n.call(this,e)),"isSubmitting",!1),t}return u(i,[{key:"getSortedPages",value:function(){return this.properties.pages}},{key:"isWidgetIdInWidgetIds",value:function(e,t){var n=this;return t.some((function(t){return t===e||n.isWidgetIdInWidgetIds(e,n._widgetItems[t].getChildrenIds())}))}},{key:"getChildIndexByWidgetId",value:function(e){var t=this;return this.getSortedPages().findIndex((function(n){return t.isWidgetIdInWidgetIds(e,n.children)}))}},{key:"getChildrenIds",value:function(e,t){var n=this;return this.getSortedPages().filter((function(e,i){var r;return null!=t&&null!==(r=t.inPageIndices)&&void 0!==r&&r.length?t.inPageIndices.includes(i):null!=t&&t.currentPageIndexOnly?i===n.currentPageIndex:e})).reduce((function(i,r){return[].concat(x(i),x(r.children),x(null!=e&&e.deep?r.children.reduce((function(i,r){return[].concat(x(i),x(n._widgetItems[r].getChildrenIds(e,t)))}),[]):[]))}),[])}},{key:"setChildLoading",value:function(e,t){y(g(i.prototype),"setChildLoading",this).call(this,e,t);var n,r=this.getState("pageIdxLoadings")||{},a=this.getChildIndexByWidgetId(e);if(-1===a)throw new Error("child widget not in paging");t?(r[a]||(r[a]={}),r[a][e]=t):(null===(n=r[a])||void 0===n||delete n[e],Object.keys(r[a]||{}).length||delete r[a]);this.setState("pageIdxLoadings",Object.keys(r).length?r:void 0)}},{key:"pageIndexHasLoadings",value:function(e,t){var n=this.getState("pageIdxLoadings")||{};if(!Object.keys(n||[]).length)return!1;if(!Object.keys(n[e]||{}).length)return!1;var i=this.properties.navigationIntegrateChildrenPages?this.getChildrenPagesWidgets({first:!0,inPageIndices:[this.currentPageIndex]}):null;return!(i&&(null==i||!i.properties.detachParentIntegration)&&"none"!==(null==i?void 0:i.nextButtonType()))||(null!=t&&t.allChildPages?i.hasChildLoading():i.currentPageIndexHasLoadings(t))}},{key:"currentPageIndexHasLoadings",value:function(e){return this.pageIndexHasLoadings(this.currentPageIndex,e)}},{key:"setChildErrors",value:function(e,t){y(g(i.prototype),"setChildErrors",this).call(this,e,t);var n,r=this.getState("pageIdxErrors")||{},a=this.getChildIndexByWidgetId(e);if(-1===a)throw new Error("child widget not in paging");t?(r[a]||(r[a]={}),r[a][e]=t):(null===(n=r[a])||void 0===n||delete n[e],Object.keys(r[a]||{}).length||delete r[a]);this.setState("pageIdxErrors",Object.keys(r).length?r:void 0)}},{key:"addChild",value:function(e,t){y(g(i.prototype),"addChild",this).call(this,e,t),this._widget.properties.pages[(null==t?void 0:t.pageIdx)||0].children.splice((null==t?void 0:t.childIdx)||0,0,e.id)}},{key:"removeChild",value:function(e){y(g(i.prototype),"removeChild",this).call(this,e),this._widget.properties.pages.forEach((function(t){t.children=t.children.filter((function(t){return t!==e.id}))})),this._update(this)}},{key:"onChangePageIndex",value:function(e){var t=this.getSortedPages();e<0||e>t.length-1||this.setState("currentPageIndex",e)}},{key:"currentPageIndex",get:function(){return this.getState("currentPageIndex")||0}},{key:"getParentPagesWidgets",value:function(e){var t=this.getParents().filter((function(e){return"pages"===e.type}));return null!=e&&e.first?t[0]:t}},{key:"getChildrenPagesWidgets",value:function(e){var t=this.getChildren({deep:!0},{inPageIndices:null==e?void 0:e.inPageIndices}).filter((function(e){return"pages"===e.type}));return null!=e&&e.first?t[0]:t}},{key:"pageIndexHasErrors",value:function(e,t){var n=this,i=this.getState("pageIdxErrors")||{};if(!Object.keys(i||[]).length)return!1;if(!Object.keys(i[e]||{}).filter((function(e){return!(null!=t&&t.skipPristine&&n._widgetItems[e].getState("pristine"))})).length)return!1;var r=this.properties.navigationIntegrateChildrenPages?this.getChildrenPagesWidgets({first:!0,inPageIndices:[this.currentPageIndex]}):null;return!(r&&(null==r||!r.properties.detachParentIntegration)&&"none"!==(null==r?void 0:r.nextButtonType()))||(null!=t&&t.allChildPages?r.hasChildErrors():r.currentPageIndexHasErrors(t))}},{key:"currentPageIndexHasErrors",value:function(e){return this.pageIndexHasErrors(this.currentPageIndex,e)}},{key:"toNextPage",value:(t=d(regeneratorRuntime.mark((function e(){var t,n,i,r,a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.getChildren({deep:!0},{currentPageIndexOnly:!0}),e.next=3,Promise.all(t.map(function(){var e=d(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.getState("pristine")&&(t.setState("pristine",!1),t.setState("dirty",!0),t.update()),e.abrupt("return",t.runValidations());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:if(e.sent.some((function(e){return e}))){e.next=20;break}if("complete"!==(n=this.nextButtonType())){e.next=14;break}return i=this.properties.pages.map((function(e,t){return a.pageIndexHasErrors(t,{allChildPages:!0})})),this.isSubmitting=!0,e.next=11,this.emitEvent("pages_complete",{pageErrors:i,hasErrors:i.some((function(e){return e})),pageWidget:this});case 11:this.isSubmitting=!1,e.next=20;break;case 14:if("none"!==n){e.next=18;break}return e.abrupt("return");case 18:!(r=this.properties.navigationIntegrateChildrenPages?this.getChildrenPagesWidgets({first:!0,inPageIndices:[this.currentPageIndex]}):null)||null!=r&&r.properties.detachParentIntegration||"none"===(null==r?void 0:r.nextButtonType())?this.onChangePageIndex(this.currentPageIndex+1):r.toNextPage();case 20:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"toPreviousPage",value:function(){if("none"!==this.previousButtonType()){var e=this.properties.navigationIntegrateChildrenPages?this.getChildrenPagesWidgets({first:!0,inPageIndices:[this.currentPageIndex]}):null;!e||null!=e&&e.properties.detachParentIntegration||"none"===(null==e?void 0:e.previousButtonType())?this.onChangePageIndex(this.currentPageIndex-1):e.toPreviousPage()}}},{key:"previousButtonType",value:function(){var e=this.currentPageIndex<=0,t=this.getChildrenPagesWidgets({first:!0});return this.properties.navigationIntegrateChildrenPages&&t&&!t.properties.detachParentIntegration&&e?t.previousButtonType():e?"none":"previous"}},{key:"nextButtonType",value:function(){var e=this.currentPageIndex>=this._widget.properties.pages.length-1,t=this.properties.navigationIntegrateChildrenPages?this.getChildrenPagesWidgets({first:!0}):null;return this.properties.navigationIntegrateChildrenPages&&t&&"none"!==t.nextButtonType()&&!t.properties.detachParentIntegration&&e?t.nextButtonType():e?this.properties.hasCompleteButton?"complete":"none":"next"}},{key:"hasPreviousButton",value:function(){return!!this.properties.navigationVisible&&"none"!==this.previousButtonType()}},{key:"hasNextButton",value:function(){return!!this.properties.navigationVisible&&"none"!==this.nextButtonType()}}]),i}(yn),Yn={name:"PagesReadOnly",components:{WidgetsLayout:wt},props:{widget:Object,widgetControls:Object,widgetItems:Object,pageState:Object,setWidgetState:Function,getWidgetState:Function,view:String,wrapperRef:HTMLDivElement,t:Function},data:function(){return{sortedPages:this.$props.widget.getSortedPages()}}},Kn=Yn,Jn=function(e){e&&e("data-v-2b3f76d4_0",{source:".page-wrapper[data-v-2b3f76d4]{display:flex;flex-direction:row}.page-wrapper[data-v-2b3f76d4]>:last-child{flex:1}.page-label[data-v-2b3f76d4]{padding:0 10px 0 0}.question-label[data-v-2b3f76d4]{font-weight:700}.questions-wrapper[data-v-2b3f76d4]{display:flex;flex-direction:row;flex-wrap:wrap}.question[data-v-2b3f76d4]{width:33%}",map:void 0,media:void 0})},Gn=Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.sortedPages,(function(t,i){return n("div",{key:i,staticClass:"page-wrapper"},[e.widget.getParentPagesWidgets({first:!0})?e._e():n("div",{staticClass:"page-label"},[e._v("\n      "+e._s(e.t(t.labelKey,e.widget.id))+"\n    ")]),e._v(" "),n("div",[n("div",{staticClass:"questions-wrapper"},[e._l(t.children.filter((function(t){return["question"].includes(e.widgetItems[t].type)})),(function(t){return[e.t("__label",t)?n("div",{key:t,staticClass:"question"},[n("label",{staticClass:"question-label"},[e._v(e._s(e.t("__label",t)))]),e._v(" "),n("p",[e._v(e._s(e.pageState.widgetState[t].response))])]):e._e()]}))],2),e._v(" "),e._l(t.children.filter((function(t){return["pages"].includes(e.widgetItems[t].type)})),(function(t){return n("pages-read-only",{key:t,attrs:{widget:e.widgetItems[t],widgets:e.widgets,widgetItems:e.widgetItems,pageState:e.pageState,setWidgetState:e.setWidgetState}})}))],2)])})),0)},staticRenderFns:[]},Jn,Kn,"data-v-2b3f76d4",false,undefined,!1,je,void 0,void 0),Qn=Gn,Xn=Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tree-level-wrapper"},e._l(e.filteredWidgetItems,(function(t){return n("div",{key:t.id,staticClass:"tree-item",style:{marginLeft:10*(e.level||0)+"px"}},[n("div",{staticClass:"tree-item-box"},[n("span",{staticClass:"drag-icon"},[e._v("☷")]),e._v(" "),n("p",[e._v(e._s(t.type))]),e._v(" "),n("small",[e._v(e._s(t.code))])]),e._v(" "),e.widgetControls[t.type].widgetTree?[n(e.widgetControls[t.type].widgetTree,{tag:"component",attrs:{widgetItems:e.widgetItems,widgetItem:t,parentId:t.id,level:1}})]:[n("builder-widget-tree",{attrs:{widgetItems:e.widgetItems,parentId:t.id,level:1}})]],2)})),0)},staticRenderFns:[]},(function(e){e&&e("data-v-13a6db36_0",{source:".tree-item-box[data-v-13a6db36]{border:1px solid #f2f2f2;border-radius:4px;padding:5px;margin:2px 0;display:flex;flex-direction:row;align-items:center}.tree-item-box>*[data-v-13a6db36]{margin:0;margin-right:5px}.tree-item-box small[data-v-13a6db36]{color:#a1a1a1}.drag-icon[data-v-13a6db36]{cursor:grab}.drag-icon[data-v-13a6db36]:active{cursor:grabbing}",map:void 0,media:void 0})}),{name:"BuilderWidgetTree",props:{widgetItems:Object,parentId:String,listIds:Array,level:Number},inject:["widgetControls"],data:function(){return{filteredWidgetItems:[]}},computed:{changes:function(){return{listIds:this.$props.listIds,parentId:this.$props.parentId}}},watch:{changes:{handler:function(e){var t=this,n=e.listIds,i=e.parentId;this.$data.filteredWidgetItems=n?n.map((function(e){return t.$props.widgetItems[e]})):Object.values(this.$props.widgetItems).filter((function(e){return e.parentId===i}))},immediate:!0}}},"data-v-13a6db36",false,undefined,!1,je,void 0,void 0),Zn={create:function(e){return{id:qe(),type:"pages",properties:o({pages:[{labelKey:"",children:[]}],navigationVisible:!0,tabsVisible:!0,hasCompleteButton:!1,navigationIntegrateChildrenPages:!1,detachParentIntegration:!1},e)}},display:zn,builder:Rn,builderForm:Nn,readOnly:Qn,widgetItem:Un,widgetTree:Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.widgetItem.properties.pages,(function(t,i){return n("div",{key:i},[n("div",{staticClass:"page-label"},[n("small",[n("input",{domProps:{value:e.t(e.widgetItem.id+"."+t.labelKey)},on:{change:function(t){return e.onPageLabelChange(i,t.target.value)}}})])]),e._v(" "),n("builder-widget-tree",{attrs:{widgetItems:e.widgetItems,level:1,listIds:t.children}})],1)})),0)},staticRenderFns:[]},(function(e){e&&e("data-v-01d02769_0",{source:".page-label[data-v-01d02769]{padding:6px}.page-label input[data-v-01d02769]{border:none;outline:0}",map:void 0,media:void 0})}),{components:{BuilderWidgetTree:Xn},props:{widgetItems:Object,widgetItem:Object,parentId:String,level:Number},inject:["t","setMessage","getLocale"],methods:{onPageLabelChange:function(e,t){this.setMessage({id:this.$props.widgetItem.id,locale:this.getLocale(),key:this.$props.widgetItem.properties.pages[e].labelKey,value:t})}}},"data-v-01d02769",false,undefined,!1,je,void 0,void 0)},ei={props:{widget:Object,widgetControls:Object,widgetItems:Object,pageState:Object,setWidgetState:Function,getWidgetState:Function,view:String,wrapperRef:HTMLDivElement,t:Function},inject:["questionControls","widgetControls","getPageState","setPageState","getLocale","setMessage"],created:function(){var e,t,n,i,r,a=o({},null===(e=this.$props.widget)||void 0===e?void 0:e.getState());(null===(t=this.widget)||void 0===t||t.setState("type","question"),void 0===(null==a?void 0:a.touched))&&(null===(n=this.widget)||void 0===n||n.setState("touched",!1),null===(i=this.widget)||void 0===i||i.setState("pristine",!0),null===(r=this.widget)||void 0===r||r.setState("dirty",!1))},mounted:function(){var e=this;this.$nextTick((function(){e.$refs.labelInput&&(e.$refs.labelInput.style.height="",e.$refs.labelInput.style.height=e.$refs.labelInput.scrollHeight+"px")}))},methods:{updateText:function(e,t){this.setMessage({id:this.$props.widget.id,locale:this.getLocale(),key:"__".concat(e),value:t.replaceAll(/\n|\r/g,"")})},onChange:function(e,t){var n=this;this.widget.setState("response",e),t||(this.widget.setState("touched",!0),this.widget.setState("pristine",!1),this.widget.setState("dirty",!0),d(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.$props.widget.runValidations();case 2:n.$props.widget.emitListener("change");case 3:case"end":return e.stop()}}),e)})))())}}},ti=Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.widget.getState("reflexiveHide")?e._e():n("div",[n("div",{staticClass:"question-wrapper"},[e.widget.properties.hideLabel?e._e():n("label",{class:{errors:(e.getWidgetState("errors")||[]).length},attrs:{for:e.widget.code||e.widget.id}},[n("textarea",{ref:"labelInput",staticClass:"text-input",attrs:{oninput:'this.style.height = "";this.style.height = this.scrollHeight + "px"'},domProps:{value:e.t("__label",e.widget.id)},on:{input:function(t){return e.updateText("label",t.target.value)}}})]),e._v(" "),n("div",[n(e.questionControls[e.widget.properties.control].display,{tag:"component",attrs:{properties:e.widget.properties.controlProperties,widget:e.widget,widgetItems:e.widgetItems,onChange:e.onChange,value:e.widget.getState("response"),setWidgetState:e.setWidgetState,getWidgetState:e.getWidgetState,view:e.view,errors:e.getWidgetState("errors"),t:function(t,n){return e.t("control_"+t,n)}}}),e._v(" "),e._l(e.getWidgetState("errors"),(function(t){return n("span",{key:t,staticClass:"error"},[e._v(e._s(e.t(t,e.widget.id)))])}))],2)])])},staticRenderFns:[]},(function(e){e&&e("data-v-2a1b7fb2_0",{source:".question-wrapper[data-v-2a1b7fb2]{width:100%;display:flex;flex-direction:row}.question-wrapper>label[data-v-2a1b7fb2]{flex:1;max-width:300px;border-right:1px solid #393939;padding:20px 0;margin-right:20px}.question-wrapper>label.errors[data-v-2a1b7fb2]{color:red}.question-wrapper>div[data-v-2a1b7fb2]{flex:2;padding:20px 0}.error[data-v-2a1b7fb2]{display:block;color:red;margin-top:10px}.text-input[data-v-2a1b7fb2]{font-size:inherit;font-weight:inherit;font-family:inherit;border:none;outline:0;width:100%;background-color:transparent;resize:none;min-height:10px;margin-bottom:-15px}",map:void 0,media:void 0})}),ei,"data-v-2a1b7fb2",false,undefined,!1,je,void 0,void 0),ni=Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.widget.getState("reflexiveHide")?e._e():n("div",[n("div",{staticClass:"question-wrapper"},[e.widget.properties.hideLabel?e._e():n("label",{class:{errors:(e.getWidgetState("errors")||[]).length},attrs:{for:e.widget.code||e.widget.id}},[e._v(e._s(e.t("__label",e.widget.id)))]),e._v(" "),n("div",[n(e.questionControls[e.widget.properties.control].display,{tag:"component",attrs:{properties:e.widget.properties.controlProperties,widget:e.widget,widgetItems:e.widgetItems,onChange:e.onChange,value:e.widget.getState("response"),setWidgetState:e.setWidgetState,getWidgetState:e.getWidgetState,view:e.view,errors:e.getWidgetState("errors"),t:function(t,n){return e.t("control_"+t,n)}}}),e._v(" "),e.getWidgetState("dirty")?e._l(e.getWidgetState("errors"),(function(t){return n("span",{key:t,staticClass:"error"},[e._v(e._s(e.t(t)))])})):e._e()],2)])])},staticRenderFns:[]},(function(e){e&&e("data-v-1c36d998_0",{source:".question-wrapper[data-v-1c36d998]{width:100%;display:flex;flex-direction:row}.question-wrapper>label[data-v-1c36d998]{flex:1;max-width:300px;border-right:1px solid #393939;padding:20px 0;margin-right:20px}.question-wrapper>label.errors[data-v-1c36d998]{color:red}.question-wrapper>div[data-v-1c36d998]{flex:2;padding:20px 0}.error[data-v-1c36d998]{display:block;color:red}@media only screen and (max-width:600px){.question-wrapper[data-v-1c36d998]{flex-direction:column}.question-wrapper>label[data-v-1c36d998]{border-right:none;padding:10px 0 5px 0}.question-wrapper>label.errors[data-v-1c36d998]{color:#000}.question-wrapper>div[data-v-1c36d998]{padding:5px 0 10px 0}}",map:void 0,media:void 0})}),{props:{widget:Object,widgetControls:Object,widgetItems:Object,pageState:Object,setWidgetState:Function,getWidgetState:Function,view:String,wrapperRef:HTMLDivElement,t:Function},inject:["questionControls","widgetControls","setPageState"],created:function(){var e=o({},this.$props.widget.getState());this.widget.setState("type","question"),void 0===(null==e?void 0:e.touched)&&(this.widget.setState("touched",!1),this.widget.setState("pristine",!0),this.widget.setState("dirty",!1))},unmounted:function(){},methods:{onChange:function(e,t){var n=this;this.widget.setState("response",e),t||(this.widget.setState("touched",!0),this.widget.setState("pristine",!1),this.widget.setState("dirty",!0),d(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.$props.widget.runValidations();case 2:n.$props.widget.emitListener("change");case 3:case"end":return e.stop()}}),e)})))())}}},"data-v-1c36d998",false,undefined,!1,je,void 0,void 0),ii=function(e){f(r,e);var t,n,i=w(r);function r(e){var t;return c(this,r),p(h(t=i.call(this,e)),"questionControlErrors",[]),t}return u(r,[{key:"setQuestionErrors",value:(n=d(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.questionControlErrors=t,e.next=3,this.runValidations();case 3:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"runValidations",value:(t=d(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=[],e.t1=x,e.next=4,y(g(r.prototype),"runValidations",this).call(this);case 4:if(e.t2=e.sent,e.t2){e.next=7;break}e.t2=[];case 7:return e.t3=e.t2,e.t4=(0,e.t1)(e.t3),e.t5=x(this.questionControlErrors),t=e.t0.concat.call(e.t0,e.t4,e.t5),this.setState("errors",t),this._setPageState(this.pageState),t.length||(t=null),this.setState("valid",!t),this.setState("hasErrors",!!t),(this.getParentIds()||[]).forEach((function(e){n._widgetItems[e].setChildErrors(n.id,t)})),e.abrupt("return",t);case 19:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),r}(yn),ri={create:function(e){return{id:qe(),type:"question",properties:o({responseType:"",hideLabel:!1,control:"",controlProperties:{}},e)}},display:ni,builder:ti,readOnly:Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.getWidgetState("reflexiveHide")?e._e():n("div",[n("div",{staticClass:"question-wrapper"},[e.widget.properties.hideLabel?e._e():n("label",[e._v(e._s(e.t("__label",e.widget.id)))]),e._v(" "),n("div",[n(e.questionControls[e.widget.properties.control].readOnly,{tag:"component",attrs:{properties:e.widget.properties.controlProperties,widget:e.widget,onChange:e.onChange,value:e.getWidgetState("response"),setWidgetState:e.setWidgetState,getWidgetState:e.getWidgetState,view:e.view,t:e.t}})],1)])])},staticRenderFns:[]},(function(e){e&&e("data-v-5a073ee4_0",{source:".question-wrapper[data-v-5a073ee4]{width:100%;display:flex;flex-direction:row;padding:10px 10px}.question-wrapper>label[data-v-5a073ee4]{flex:1;max-width:300px;border-right:1px solid #393939;padding:10px 0}.question-wrapper>div[data-v-5a073ee4]{flex:2;padding:10px 20px}",map:void 0,media:void 0})}),{props:{widget:Object,widgetControls:Object,widgetItems:Object,pageState:Object,setWidgetState:Function,getWidgetState:Function,view:String,wrapperRef:HTMLDivElement,t:Function},inject:["questionControls","widgetControls","getPageState","setPageState"],created:function(){},unmounted:function(){},computed:{pageState:function(){return this.getPageState()}},methods:{onChange:function(e){this.setWidgetState("response",e)}}},"data-v-5a073ee4",false,undefined,!1,je,void 0,void 0),widgetItem:ii},ai={components:{BuilderWidgetsLayout:En,WidgetsLayout:wt},props:{widget:Object,widgetControls:Object,widgetItems:Object,pageState:Object,setWidgetState:Function,getWidgetState:Function,view:String,wrapperRef:HTMLDivElement,t:Function},inject:["getLocale","setMessage"],setup:function(){},computed:{label:function(){return this.t("__label",this.$props.widget.id)},childErrors:function(){var e;return null===(e=this.$props.widget.getState())||void 0===e?void 0:e.childErrors},hasChildErrors:function(){return this.$props.widget.hasChildErrors()}},methods:{updateText:function(e,t){this.setMessage({id:this.$props.widget.id,locale:this.getLocale(),key:"__".concat(e),value:t.replaceAll(/\n|\r/g,"")})},isShowLabel:function(e){return this.$props.widget.properties.hasLabel&&this.$props.widget.properties.labelPosition===e}}},oi=Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"section-wrapper",class:{errors:e.hasChildErrors}},[n("label",[n("input",{staticClass:"text-input",attrs:{type:"text"},domProps:{value:e.label},on:{input:function(t){return e.updateText("label",t.target.value)}}})]),e._v(" "),n("builder-widgets-layout",{attrs:{widgetControls:e.widgetControls,widgetItems:e.widgetItems,forParent:e.widget.id}})],1)},staticRenderFns:[]},(function(e){e&&e("data-v-4a65cc6a_0",{source:".section-wrapper[data-v-4a65cc6a]{position:relative;border:1px solid #a9a9a9;min-height:30px;padding:10px;margin:10px 0;border-radius:8px}.section-wrapper>label[data-v-4a65cc6a]{position:absolute;top:0;left:10px;transform:translateY(-50%);background-color:#fff;padding:1px 10px;z-index:10}.section-wrapper.errors[data-v-4a65cc6a]{border-color:red}.text-input[data-v-4a65cc6a]{font-size:inherit;font-weight:inherit;font-family:inherit;border:none;outline:0;width:100%;background-color:transparent;resize:none;min-height:10px;margin-bottom:-15px}",map:void 0,media:void 0})}),ai,"data-v-4a65cc6a",false,undefined,!1,je,void 0,void 0),si=Oe({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v("section builder form")])},staticRenderFns:[]},undefined,{props:{widget:Object},inject:["updateWidget"]},undefined,false,undefined,!1,void 0,void 0,void 0),di=Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"section-wrapper",class:{errors:e.hasChildErrors}},[e.label?n("label",[e._v(e._s(e.label))]):e._e(),e._v(" "),n("widgets-layout",{attrs:{widgetControls:e.widgetControls,widgetItems:e.widgetItems,forParent:e.widget.id}})],1)},staticRenderFns:[]},(function(e){e&&e("data-v-fc5d7d18_0",{source:".section-wrapper[data-v-fc5d7d18]{position:relative;border:1px solid #a9a9a9;min-height:30px;padding:10px;margin:10px 0;border-radius:8px}.section-wrapper>label[data-v-fc5d7d18]{position:absolute;top:0;left:10px;transform:translateY(-50%);background-color:#fff;padding:10px}.section-wrapper.errors[data-v-fc5d7d18]{border-color:red}@media only screen and (max-width:600px){.section-wrapper label[data-v-fc5d7d18]{font-size:10pt}}",map:void 0,media:void 0})}),{components:{WidgetsLayout:wt},props:{widget:Object,widgetControls:Object,widgetItems:Object,pageState:Object,setWidgetState:Function,getWidgetState:Function,view:String,wrapperRef:HTMLDivElement,t:Function},setup:function(){},computed:{label:function(){return this.t("__label",this.$props.widget.id)},childErrors:function(){var e;return null===(e=this.$props.widget.getState())||void 0===e?void 0:e.childErrors},hasChildErrors:function(){return this.$props.widget.hasChildErrors()}},methods:{isShowLabel:function(e){return this.$props.widget.properties.hasLabel&&this.$props.widget.properties.labelPosition===e}}},"data-v-fc5d7d18",false,undefined,!1,je,void 0,void 0),ci=Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"section-wrapper"},[e.label?n("label",[e._v(e._s(e.label))]):e._e(),e._v(" "),n("widgets-layout",{attrs:{widgetControls:e.widgetControls,widgetItems:e.widgetItems,forParent:e.widget.id}})],1)},staticRenderFns:[]},(function(e){e&&e("data-v-1110d5b7_0",{source:".section-wrapper[data-v-1110d5b7]{position:relative;border:1px solid #a9a9a9;min-height:30px;padding:10px;margin:10px;border-radius:8px}.section-wrapper>label[data-v-1110d5b7]{position:absolute;top:0;left:10px;transform:translateY(-50%);background-color:#fff;padding:10px}",map:void 0,media:void 0})}),{components:{WidgetsLayout:wt},props:{widget:Object,widgetControls:Object,widgetItems:Object,pageState:Object,setWidgetState:Function,getWidgetState:Function,view:String,wrapperRef:HTMLDivElement,t:Function},setup:function(){},computed:{label:function(){return this.t("__label",this.$props.widget.id)}},methods:{isShowLabel:function(e){return this.$props.widget.properties.hasLabel&&this.$props.widget.properties.labelPosition===e}}},"data-v-1110d5b7",false,undefined,!1,je,void 0,void 0),li=function(e){f(n,e);var t=w(n);function n(e){return c(this,n),t.call(this,e)}return u(n,[{key:"getChildrenIds",value:function(){return this.properties.children}},{key:"addChild",value:function(e,t){y(g(n.prototype),"addChild",this).call(this,e,t),this._widget.properties.children.splice((null==t?void 0:t.idx)||0,0,e.id)}},{key:"removeChild",value:function(e){y(g(n.prototype),"removeChild",this).call(this,e);var t=this._widget.properties.children.findIndex((function(t){return t===e.id}));t>-1&&this._widget.properties.children.splice(t,1)}}]),n}(yn),ui={create:function(e){return{id:qe(),type:"section",properties:o({children:[]},e)}},display:di,builder:oi,builderForm:si,readOnly:ci,widgetItem:li},pi={props:{widget:Object,widgetControls:Object,widgetItems:Object,pageState:Object,setWidgetState:Function,getWidgetState:Function,view:String,wrapperRef:HTMLDivElement,t:Function},inject:["getLocale","setMessage"],setup:function(){},computed:{label:function(){return this.t("__label",this.$props.widget.id)}},methods:{updateText:function(e,t){this.setMessage({id:this.$props.widget.id,locale:this.getLocale(),key:"__".concat(e),value:t.replaceAll(/\n|\r/g,"")})},isShowLabel:function(e){return this.$props.widget.properties.hasLabel&&this.$props.widget.properties.labelPosition===e}}},fi=Oe({render:function(){var e,t,n,i=this,r=i.$createElement,a=i._self._c||r;return a("div",{staticClass:"line-wrapper",class:{vertical:"vertical"===i.widget.properties.dir}},[i.isShowLabel("start")?a("label",{class:(e={},e[i.widget.properties.labelPosition||"start"]=!0,e)},[a("input",{staticClass:"text-input",attrs:{type:"text"},domProps:{value:i.label},on:{input:function(e){return i.updateText("label",e.target.value)}}})]):i._e(),i._v(" "),a("div",{staticClass:"line"}),i._v(" "),i.isShowLabel("center")?a("label",{class:(t={},t[i.widget.properties.labelPosition||"start"]=!0,t)},[a("input",{staticClass:"text-input",attrs:{type:"text"},domProps:{value:i.label},on:{input:function(e){return i.updateText("label",e.target.value)}}})]):i._e(),i._v(" "),a("div",{staticClass:"line"}),i._v(" "),i.isShowLabel("end")?a("label",{class:(n={},n[i.widget.properties.labelPosition||"start"]=!0,n)},[a("input",{staticClass:"text-input",attrs:{type:"text"},domProps:{value:i.label},on:{input:function(e){return i.updateText("label",e.target.value)}}})]):i._e()])},staticRenderFns:[]},(function(e){e&&e("data-v-468e5b4b_0",{source:".line-wrapper[data-v-468e5b4b]{display:flex;flex-direction:row;align-items:center;padding:10px 0}.line-wrapper.vertical[data-v-468e5b4b]{flex-direction:column}.line-wrapper .line[data-v-468e5b4b]{flex:1;background-color:#a0a0a0;height:1px}.line-wrapper.vertical .line[data-v-468e5b4b]{width:1px}.line-wrapper label[data-v-468e5b4b]{padding:10px;background-color:rgba(255,255,255,.5);border-radius:10px}.line-wrapper label.start[data-v-468e5b4b]{padding-left:0}.line-wrapper label.end[data-v-468e5b4b]{padding-right:0}.text-input[data-v-468e5b4b]{font-size:inherit;font-weight:inherit;font-family:inherit;border:none;outline:0;width:100%;background-color:transparent;resize:none;min-height:10px;margin-bottom:-15px}.start .text-input[data-v-468e5b4b]{text-align:left}.center .text-input[data-v-468e5b4b]{text-align:center}.end .text-input[data-v-468e5b4b]{text-align:right}.line-wrapper.vertical .text-input[data-v-468e5b4b]{text-align:center}",map:void 0,media:void 0})}),pi,"data-v-468e5b4b",false,undefined,!1,je,void 0,void 0),gi=Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"fieldItem"},[n("label",{staticClass:"label"},[e._v("Label Position")]),e._v(" "),n("div",{staticClass:"button-group"},[n("button",{staticClass:"button-item",class:{active:"start"===e.widget.properties.labelPosition},on:{click:function(){return e.setLabelPosition("start")}}},[e._v("\n        start\n      ")]),e._v(" "),n("button",{staticClass:"button-item",class:{active:"center"===e.widget.properties.labelPosition},on:{click:function(){return e.setLabelPosition("center")}}},[e._v("\n        center\n      ")]),e._v(" "),n("button",{staticClass:"button-item",class:{active:"end"===e.widget.properties.labelPosition},on:{click:function(){return e.setLabelPosition("end")}}},[e._v("\n        end\n      ")])])])])},staticRenderFns:[]},(function(e){e&&e("data-v-73701104_0",{source:".fieldItem[data-v-73701104]{padding:10px}.fieldItem>.label[data-v-73701104]{display:block;padding:10px 0}.button-group[data-v-73701104]{position:relative;display:flex;flex-direction:row;border-radius:4px;overflow:hidden;width:100%;max-width:300px}.button-item[data-v-73701104]{padding:5px 10px;border:none;flex:1;cursor:pointer}.button-item.active[data-v-73701104]{background-color:#03a9f4;color:#fff}",map:void 0,media:void 0})}),{props:{widget:{type:yn,required:!0}},inject:["updateWidget"],methods:{setLabelPosition:function(e){this.$props.widget.properties.labelPosition=e,this.updateWidget(this.$props.widget)}}},"data-v-73701104",false,undefined,!1,je,void 0,void 0),vi={create:function(e){return{id:qe(),type:"separator",properties:o({dir:"horizontal",hasLabel:!0,labelPosition:"start"},e)}},display:Oe({render:function(){var e,t,n,i=this,r=i.$createElement,a=i._self._c||r;return a("div",{staticClass:"line-wrapper",class:{vertical:"vertical"===i.widget.properties.dir}},[i.isShowLabel("start")?a("label",{class:(e={},e[i.widget.properties.labelPosition||"start"]=!0,e)},[i._v(i._s(i.label))]):i._e(),i._v(" "),a("div",{staticClass:"line"}),i._v(" "),i.isShowLabel("center")?a("label",{class:(t={},t[i.widget.properties.labelPosition||"start"]=!0,t)},[i._v(i._s(i.label))]):i._e(),i._v(" "),a("div",{staticClass:"line"}),i._v(" "),i.isShowLabel("end")?a("label",{class:(n={},n[i.widget.properties.labelPosition||"start"]=!0,n)},[i._v(i._s(i.label))]):i._e()])},staticRenderFns:[]},(function(e){e&&e("data-v-badef04e_0",{source:".line-wrapper[data-v-badef04e]{display:flex;flex-direction:row;align-items:center;padding:10px 0}.line-wrapper.vertical[data-v-badef04e]{flex-direction:column}.line-wrapper .line[data-v-badef04e]{flex:1;background-color:#a0a0a0;height:1px}.line-wrapper.vertical .line[data-v-badef04e]{width:1px}.line-wrapper label[data-v-badef04e]{padding:10px;background-color:rgba(255,255,255,.5);border-radius:10px}.line-wrapper label.start[data-v-badef04e]{padding-left:0}.line-wrapper label.end[data-v-badef04e]{padding-right:0}@media only screen and (max-width:600px){.line-wrapper label[data-v-badef04e]{font-size:10pt}}",map:void 0,media:void 0})}),{props:{widget:Object,widgetControls:Object,widgetItems:Object,pageState:Object,setWidgetState:Function,getWidgetState:Function,view:String,wrapperRef:HTMLDivElement,t:Function},setup:function(){},computed:{label:function(){return this.t("__label",this.$props.widget.id)}},methods:{isShowLabel:function(e){return this.$props.widget.properties.hasLabel&&this.$props.widget.properties.labelPosition===e}}},"data-v-badef04e",false,undefined,!1,je,void 0,void 0),builder:fi,builderForm:gi,readOnly:Oe({render:function(){var e,t,n,i=this,r=i.$createElement,a=i._self._c||r;return a("div",{staticClass:"line-wrapper",class:{vertical:"vertical"===i.widget.properties.dir}},[i.isShowLabel("start")?a("label",{class:(e={},e[i.widget.properties.labelPosition||"start"]=!0,e)},[i._v(i._s(i.label))]):i._e(),i._v(" "),a("div",{staticClass:"line"}),i._v(" "),i.isShowLabel("center")?a("label",{class:(t={},t[i.widget.properties.labelPosition||"start"]=!0,t)},[i._v(i._s(i.label))]):i._e(),i._v(" "),a("div",{staticClass:"line"}),i._v(" "),i.isShowLabel("end")?a("label",{class:(n={},n[i.widget.properties.labelPosition||"start"]=!0,n)},[i._v(i._s(i.label))]):i._e()])},staticRenderFns:[]},(function(e){e&&e("data-v-3d962365_0",{source:".line-wrapper[data-v-3d962365]{display:flex;flex-direction:row;align-items:center;padding:10px}.line-wrapper.vertical[data-v-3d962365]{flex-direction:column}.line-wrapper .line[data-v-3d962365]{flex:1;background-color:#a0a0a0;height:1px}.line-wrapper.vertical .line[data-v-3d962365]{width:1px}.line-wrapper label[data-v-3d962365]{padding:10px;background-color:rgba(255,255,255,.5);border-radius:10px}.line-wrapper label.start[data-v-3d962365]{padding-left:0}.line-wrapper label.end[data-v-3d962365]{padding-right:0}",map:void 0,media:void 0})}),{props:{widget:Object,widgetControls:Object,widgetItems:Object,pageState:Object,setWidgetState:Function,getWidgetState:Function,view:String,wrapperRef:HTMLDivElement,t:Function},setup:function(){},computed:{label:function(){return this.t("__label",this.$props.widget.id)}},methods:{isShowLabel:function(e){return this.$props.widget.properties.hasLabel&&this.$props.widget.properties.labelPosition===e}}},"data-v-3d962365",false,undefined,!1,je,void 0,void 0)},hi=Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(e.widget.properties.tagType,{tag:"component",staticClass:"text"},[n("input",{staticClass:"text-input",attrs:{type:"text"},domProps:{value:e.t("__label",e.widget.id)},on:{input:e.onTextChange}})])},staticRenderFns:[]},(function(e){e&&e("data-v-15c1b313_0",{source:".text-input[data-v-15c1b313]{font-size:inherit;font-family:inherit;font-weight:inherit;outline:0;border:none;width:100%;background-color:transparent}",map:void 0,media:void 0})}),{props:{widget:Object,widgetControls:Object,widgetItems:Object,pageState:Object,setWidgetState:Function,getWidgetState:Function,view:String,wrapperRef:HTMLDivElement,t:Function},inject:["getLocale","setMessage"],methods:{onTextChange:function(e){this.setMessage({id:this.$props.widget.id,locale:this.getLocale(),key:"__label",value:e.target.value})}}},"data-v-15c1b313",false,undefined,!1,je,void 0,void 0),mi=Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"control-wrapper"},[n("a",{staticClass:"tag-selection",class:{selected:"h1"===e.widget.properties.tagType},on:{click:function(t){return e.setTagType("h1")}}},[e._v("H1")]),e._v(" "),n("a",{staticClass:"tag-selection",class:{selected:"h2"===e.widget.properties.tagType},on:{click:function(t){return e.setTagType("h2")}}},[e._v("H2")]),e._v(" "),n("a",{staticClass:"tag-selection",class:{selected:"h3"===e.widget.properties.tagType},on:{click:function(t){return e.setTagType("h3")}}},[e._v("H3")]),e._v(" "),n("a",{staticClass:"tag-selection",class:{selected:"h4"===e.widget.properties.tagType},on:{click:function(t){return e.setTagType("h4")}}},[e._v("H4")]),e._v(" "),n("a",{staticClass:"tag-selection",class:{selected:"h5"===e.widget.properties.tagType},on:{click:function(t){return e.setTagType("h5")}}},[e._v("H5")]),e._v(" "),n("a",{staticClass:"tag-selection",class:{selected:"h6"===e.widget.properties.tagType},on:{click:function(t){return e.setTagType("h6")}}},[e._v("H6")]),e._v(" "),n("a",{staticClass:"tag-selection",class:{selected:"p"===e.widget.properties.tagType},on:{click:function(t){return e.setTagType("p")}}},[e._v("Paragraph")]),e._v(" "),n("a",{staticClass:"tag-selection",class:{selected:"small"===e.widget.properties.tagType},on:{click:function(t){return e.setTagType("small")}}},[e._v("Small")])])},staticRenderFns:[]},(function(e){e&&e("data-v-07c4de14_0",{source:".control-wrapper[data-v-07c4de14]{display:flex;flex-direction:row;border-radius:8px;border:1px solid #e8e8e8;background-color:#fff;overflow:hidden}.tag-selection[data-v-07c4de14]{height:30px;min-width:40px;padding:0 5px;display:flex;align-items:center;justify-content:center;cursor:pointer}.tag-selection[data-v-07c4de14]:hover{background-color:#e8e8e8}.tag-selection.selected[data-v-07c4de14]{background-color:#03a9f4;color:#fff}",map:void 0,media:void 0})}),{props:{widget:Object,widgets:Object,widgetItems:Object,pageState:Object,setWidgetState:Function},inject:["updateWidget"],methods:{setTagType:function(e){this.widget.properties.tagType=e,this.updateWidget(this.widget)}}},"data-v-07c4de14",false,undefined,!1,je,void 0,void 0),wi={alert:Ve,header:ze,html:Ye,pages:Zn,question:ri,section:ui,separator:vi,text:{create:function(e){return{id:qe(),type:"text",properties:o({tagType:"p"},e)}},display:Oe({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)(e.widget.properties.tagType,{tag:"component",staticClass:"text"},[e._v(e._s(e.t("__label",e.widget.id)))])},staticRenderFns:[]},undefined,{props:{properties:Object,widget:Object,onChange:Function,value:String,t:Function}},"data-v-21b106bc",false,undefined,!1,void 0,void 0,void 0),builder:hi,builderControl:mi,readOnly:Oe({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)(e.widget.properties.tagType,{tag:"component",staticClass:"text"},[e._v(e._s(e.t("__label",e.widget.id)))])},staticRenderFns:[]},(function(e){e&&e("data-v-2400e2ea_0",{source:".text[data-v-2400e2ea]{padding:0 10px}",map:void 0,media:void 0})}),{},"data-v-2400e2ea",false,undefined,!1,je,void 0,void 0)}},bi=function(){function e(t){var n=t.display,i=t.form,r=t.name,a=t.key,o=t.create;c(this,e),p(this,"_display",void 0),p(this,"_form",void 0),p(this,"_name",void 0),p(this,"_key",void 0),p(this,"_create",void 0),this._create=o,this._key=a,this._name=r,this._display=n,this._form=i}return u(e,[{key:"create",get:function(){return this._create}},{key:"display",get:function(){return this._display}},{key:"form",get:function(){return this._form}},{key:"name",get:function(){return this._name}},{key:"key",get:function(){return this._key}}]),e}(),yi=new bi({key:"anchor",name:"Anchor",create:function(e){return{type:this.key,properties:o({id:"",top:0},e)}},display:Oe({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("a",{staticClass:"anchor",style:{top:(e.properties.top||0)+"px"},attrs:{id:this.$props.properties.id}})},staticRenderFns:[]},(function(e){e&&e("data-v-4044acf0_0",{source:"a.anchor[data-v-4044acf0]{position:absolute;top:0;left:0}",map:void 0,media:void 0})}),{props:{wrapperRef:HTMLDivElement,properties:Object}},"data-v-4044acf0",false,undefined,!1,je,void 0,void 0),form:Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"field-wrapper"},[n("label",{attrs:{for:"id"}},[e._v("ID")]),e._v(" "),n("input",{attrs:{id:"id",type:"text"},domProps:{value:e.properties.id},on:{change:function(t){return e.onChange("id",t.target.value)}}})]),e._v(" "),n("div",{staticClass:"field-wrapper"},[n("label",{attrs:{for:"top"}},[e._v("Position from top (px)")]),e._v(" "),n("input",{attrs:{id:"top",type:"number"},domProps:{value:e.properties.top},on:{change:function(t){return e.onChange("top",parseFloat(t.target.value))}}})])])},staticRenderFns:[]},(function(e){e&&e("data-v-a38cb820_0",{source:".field-wrapper[data-v-a38cb820]{padding:5px 0 15px 0}.field-wrapper.row[data-v-a38cb820]{display:flex;flex-direction:row;align-items:center}.field-wrapper>label[data-v-a38cb820]{display:block;margin-bottom:3px;font-size:9pt}.field-wrapper.row>label[data-v-a38cb820]{margin-right:5px}.field-wrapper select[data-v-a38cb820]{padding:5px;border-width:0 0 1px 0}.field-wrapper input[data-v-a38cb820]{padding:5px;border-width:0 0 1px 0}.field-row[data-v-a38cb820]{display:flex;flex-direction:row}",map:void 0,media:void 0})}),{props:{effect:Object,properties:Object,widgetItem:Object},methods:{onChange:function(e,t){this.$emit("onPropertiesChange",o(o({},this.$props.properties),{},p({},e,t)))}}},"data-v-a38cb820",false,undefined,!1,je,void 0,void 0)});
/*! @license is-dom-node v1.0.4

	Copyright 2018 Fisssion LLC.

	Permission is hereby granted, free of charge, to any person obtaining a copy
	of this software and associated documentation files (the "Software"), to deal
	in the Software without restriction, including without limitation the rights
	to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	copies of the Software, and to permit persons to whom the Software is
	furnished to do so, subject to the following conditions:

	The above copyright notice and this permission notice shall be included in all
	copies or substantial portions of the Software.

	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
	SOFTWARE.

*/
function _i(e){return"object"==typeof window.Node?e instanceof window.Node:null!==e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName}
/*! @license is-dom-node-list v1.2.1

	Copyright 2018 Fisssion LLC.

	Permission is hereby granted, free of charge, to any person obtaining a copy
	of this software and associated documentation files (the "Software"), to deal
	in the Software without restriction, including without limitation the rights
	to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	copies of the Software, and to permit persons to whom the Software is
	furnished to do so, subject to the following conditions:

	The above copyright notice and this permission notice shall be included in all
	copies or substantial portions of the Software.

	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
	SOFTWARE.

*/
/*! @license Tealight v0.3.6

	Copyright 2018 Fisssion LLC.

	Permission is hereby granted, free of charge, to any person obtaining a copy
	of this software and associated documentation files (the "Software"), to deal
	in the Software without restriction, including without limitation the rights
	to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	copies of the Software, and to permit persons to whom the Software is
	furnished to do so, subject to the following conditions:

	The above copyright notice and this permission notice shall be included in all
	copies or substantial portions of the Software.

	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
	SOFTWARE.

*/
function xi(e,t){if(void 0===t&&(t=document),e instanceof Array)return e.filter(_i);if(_i(e))return[e];if(function(e){var t=Object.prototype.toString.call(e);return"object"==typeof window.NodeList?e instanceof window.NodeList:null!==e&&"object"==typeof e&&"number"==typeof e.length&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(t)&&(0===e.length||_i(e[0]))}(e))return Array.prototype.slice.call(e);if("string"==typeof e)try{var n=t.querySelectorAll(e);return Array.prototype.slice.call(n)}catch(e){return[]}return[]}
/*! @license Rematrix v0.3.0

	Copyright 2018 Julian Lloyd.

	Permission is hereby granted, free of charge, to any person obtaining a copy
	of this software and associated documentation files (the "Software"), to deal
	in the Software without restriction, including without limitation the rights
	to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	copies of the Software, and to permit persons to whom the Software is
	furnished to do so, subject to the following conditions:

	The above copyright notice and this permission notice shall be included in
	all copies or substantial portions of the Software.

	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
	THE SOFTWARE.
*/function Si(e){if(e.constructor!==Array)throw new TypeError("Expected array.");if(16===e.length)return e;if(6===e.length){var t=Ci();return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}throw new RangeError("Expected array with either 6 or 16 values.")}function Ci(){for(var e=[],t=0;t<16;t++)t%5==0?e.push(1):e.push(0);return e}function ki(e,t){for(var n=Si(e),i=Si(t),r=[],a=0;a<4;a++)for(var o=[n[a],n[a+4],n[a+8],n[a+12]],s=0;s<4;s++){var d=4*s,c=[i[d],i[d+1],i[d+2],i[d+3]],l=o[0]*c[0]+o[1]*c[1]+o[2]*c[2]+o[3]*c[3];r[a+d]=l}return r}function Ii(e){if("string"==typeof e){var t=e.match(/matrix(3d)?\(([^)]+)\)/);if(t)return Si(t[2].split(", ").map(parseFloat))}return Ci()}function Oi(e,t){var n=Ci();return n[0]=e,n[5]="number"==typeof t?t:e,n}
/*! @license miniraf v1.0.0

	Copyright 2018 Fisssion LLC.

	Permission is hereby granted, free of charge, to any person obtaining a copy
	of this software and associated documentation files (the "Software"), to deal
	in the Software without restriction, including without limitation the rights
	to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	copies of the Software, and to permit persons to whom the Software is
	furnished to do so, subject to the following conditions:

	The above copyright notice and this permission notice shall be included in all
	copies or substantial portions of the Software.

	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
	SOFTWARE.

*/
var Pi,ji=(Pi=Date.now(),function(e){var t=Date.now();t-Pi>16?(Pi=t,e(t)):setTimeout((function(){return ji(e)}),0)}),Ei=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||ji,$i={delay:0,distance:"0",duration:600,easing:"cubic-bezier(0.5, 0, 0, 1)",interval:0,opacity:0,origin:"bottom",rotate:{x:0,y:0,z:0},scale:1,cleanup:!1,container:document.documentElement,desktop:!0,mobile:!0,reset:!1,useDelay:"always",viewFactor:0,viewOffset:{top:0,right:0,bottom:0,left:0},afterReset:function(){},afterReveal:function(){},beforeReset:function(){},beforeReveal:function(){}};var Wi={success:function(){document.documentElement.classList.add("sr"),document.body?document.body.style.height="100%":document.addEventListener("DOMContentLoaded",(function(){document.body.style.height="100%"}))},failure:function(){return document.documentElement.classList.remove("sr"),{clean:function(){},destroy:function(){},reveal:function(){},sync:function(){},get noop(){return!0}}}};function Ti(e){return null!==e&&e instanceof Object&&(e.constructor===Object||"[object Object]"===Object.prototype.toString.call(e))}function Fi(e,t){if(Ti(e))return Object.keys(e).forEach((function(n){return t(e[n],n,e)}));if(e instanceof Array)return e.forEach((function(n,i){return t(n,i,e)}));throw new TypeError("Expected either an array or object literal.")}function Ri(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(this.constructor.debug&&console){var i="%cScrollReveal: "+e;t.forEach((function(e){return i+="\n — "+e})),console.log(i,"color: #ea654b;")}}function Li(){var e=this,t={active:[],stale:[]},n={active:[],stale:[]},i={active:[],stale:[]};try{Fi(xi("[data-sr-id]"),(function(e){var n=parseInt(e.getAttribute("data-sr-id"));t.active.push(n)}))}catch(e){throw e}Fi(this.store.elements,(function(e){-1===t.active.indexOf(e.id)&&t.stale.push(e.id)})),Fi(t.stale,(function(t){return delete e.store.elements[t]})),Fi(this.store.elements,(function(e){-1===i.active.indexOf(e.containerId)&&i.active.push(e.containerId),e.hasOwnProperty("sequence")&&-1===n.active.indexOf(e.sequence.id)&&n.active.push(e.sequence.id)})),Fi(this.store.containers,(function(e){-1===i.active.indexOf(e.id)&&i.stale.push(e.id)})),Fi(i.stale,(function(t){var n=e.store.containers[t].node;n.removeEventListener("scroll",e.delegate),n.removeEventListener("resize",e.delegate),delete e.store.containers[t]})),Fi(this.store.sequences,(function(e){-1===n.active.indexOf(e.id)&&n.stale.push(e.id)})),Fi(n.stale,(function(t){return delete e.store.sequences[t]}))}var Ai=function(){var e={},t=document.documentElement.style;function n(n,i){if(void 0===i&&(i=t),n&&"string"==typeof n){if(e[n])return e[n];if("string"==typeof i[n])return e[n]=n;if("string"==typeof i["-webkit-"+n])return e[n]="-webkit-"+n;throw new RangeError('Unable to find "'+n+'" style property.')}throw new TypeError("Expected a string.")}return n.clearCache=function(){return e={}},n}();function Mi(e){var t=window.getComputedStyle(e.node),n=t.position,i=e.config,r={},a=(e.node.getAttribute("style")||"").match(/[\w-]+\s*:\s*[^;]+\s*/gi)||[];r.computed=a?a.map((function(e){return e.trim()})).join("; ")+";":"",r.generated=a.some((function(e){return e.match(/visibility\s?:\s?visible/i)}))?r.computed:a.concat(["visibility: visible"]).map((function(e){return e.trim()})).join("; ")+";";var o,s,d,c=parseFloat(t.opacity),l=isNaN(parseFloat(i.opacity))?parseFloat(t.opacity):parseFloat(i.opacity),u={computed:c!==l?"opacity: "+c+";":"",generated:c!==l?"opacity: "+l+";":""},p=[];if(parseFloat(i.distance)){var f="top"===i.origin||"bottom"===i.origin?"Y":"X",g=i.distance;"top"!==i.origin&&"left"!==i.origin||(g=/^-/.test(g)?g.substr(1):"-"+g);var v=g.match(/(^-?\d+\.?\d?)|(em$|px$|%$)/g),h=v[0];switch(v[1]){case"em":g=parseInt(t.fontSize)*h;break;case"px":g=h;break;case"%":g="Y"===f?e.node.getBoundingClientRect().height*h/100:e.node.getBoundingClientRect().width*h/100;break;default:throw new RangeError("Unrecognized or missing distance unit.")}"Y"===f?p.push(function(e){var t=Ci();return t[13]=e,t}(g)):p.push(function(e){var t=Ci();return t[12]=e,t}(g))}i.rotate.x&&p.push((o=i.rotate.x,s=Math.PI/180*o,(d=Ci())[5]=d[10]=Math.cos(s),d[6]=d[9]=Math.sin(s),d[9]*=-1,d)),i.rotate.y&&p.push(function(e){var t=Math.PI/180*e,n=Ci();return n[0]=n[10]=Math.cos(t),n[2]=n[8]=Math.sin(t),n[2]*=-1,n}(i.rotate.y)),i.rotate.z&&p.push(function(e){var t=Math.PI/180*e,n=Ci();return n[0]=n[5]=Math.cos(t),n[1]=n[4]=Math.sin(t),n[4]*=-1,n}(i.rotate.z)),1!==i.scale&&(0===i.scale?p.push(Oi(2e-4)):p.push(Oi(i.scale)));var m={};if(p.length){m.property=Ai("transform"),m.computed={raw:t[m.property],matrix:Ii(t[m.property])},p.unshift(m.computed.matrix);var w=p.reduce(ki);m.generated={initial:m.property+": matrix3d("+w.join(", ")+");",final:m.property+": matrix3d("+m.computed.matrix.join(", ")+");"}}else m.generated={initial:"",final:""};var b={};if(u.generated||m.generated.initial){b.property=Ai("transition"),b.computed=t[b.property],b.fragments=[];var y=i.delay,_=i.duration,x=i.easing;u.generated&&b.fragments.push({delayed:"opacity "+_/1e3+"s "+x+" "+y/1e3+"s",instant:"opacity "+_/1e3+"s "+x+" 0s"}),m.generated.initial&&b.fragments.push({delayed:m.property+" "+_/1e3+"s "+x+" "+y/1e3+"s",instant:m.property+" "+_/1e3+"s "+x+" 0s"}),b.computed&&!b.computed.match(/all 0s|none 0s/)&&b.fragments.unshift({delayed:b.computed,instant:b.computed});var S=b.fragments.reduce((function(e,t,n){return e.delayed+=0===n?t.delayed:", "+t.delayed,e.instant+=0===n?t.instant:", "+t.instant,e}),{delayed:"",instant:""});b.generated={delayed:b.property+": "+S.delayed+";",instant:b.property+": "+S.instant+";"}}else b.generated={delayed:"",instant:""};return{inline:r,opacity:u,position:n,transform:m,transition:b}}function Di(e,t){t.split(";").forEach((function(t){var n=t.split(":"),i=n[0],r=n.slice(1);i&&r&&(e.style[i.trim()]=r.join(":"))}))}function Ni(e){var t,n=this;try{Fi(xi(e),(function(e){var i=e.getAttribute("data-sr-id");if(null!==i){t=!0;var r=n.store.elements[i];r.callbackTimer&&window.clearTimeout(r.callbackTimer.clock),Di(r.node,r.styles.inline.generated),e.removeAttribute("data-sr-id"),delete n.store.elements[i]}}))}catch(e){return Ri.call(this,"Clean failed.",e.message)}if(t)try{Li.call(this)}catch(e){return Ri.call(this,"Clean failed.",e.message)}}function qi(){var e=this;Fi(this.store.elements,(function(e){Di(e.node,e.styles.inline.generated),e.node.removeAttribute("data-sr-id")})),Fi(this.store.containers,(function(t){var n=t.node===document.documentElement?window:t.node;n.removeEventListener("scroll",e.delegate),n.removeEventListener("resize",e.delegate)})),this.store={containers:{},elements:{},history:[],sequences:{}}}function Vi(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(Ti(e))return Fi(t,(function(t){Fi(t,(function(t,n){Ti(t)?(e[n]&&Ti(e[n])||(e[n]={}),Vi(e[n],t)):e[n]=t}))})),e;throw new TypeError("Target must be an object literal.")}function Bi(e){return void 0===e&&(e=navigator.userAgent),/Android|iPhone|iPad|iPod/i.test(e)}var Hi,zi=(Hi=0,function(){return Hi++});function Ui(){var e=this;Li.call(this),Fi(this.store.elements,(function(e){var t=[e.styles.inline.generated];e.visible?(t.push(e.styles.opacity.computed),t.push(e.styles.transform.generated.final),e.revealed=!0):(t.push(e.styles.opacity.generated),t.push(e.styles.transform.generated.initial),e.revealed=!1),Di(e.node,t.filter((function(e){return""!==e})).join(" "))})),Fi(this.store.containers,(function(t){var n=t.node===document.documentElement?window:t.node;n.addEventListener("scroll",e.delegate),n.addEventListener("resize",e.delegate)})),this.delegate(),this.initTimeout=null}function Yi(e,t){void 0===t&&(t={});var n=t.pristine||this.pristine,i="always"===e.config.useDelay||"onload"===e.config.useDelay&&n||"once"===e.config.useDelay&&!e.seen,r=e.visible&&!e.revealed,a=!e.visible&&e.revealed&&e.config.reset;return t.reveal||r?Ki.call(this,e,i):t.reset||a?Ji.call(this,e):void 0}function Ki(e,t){var n=[e.styles.inline.generated,e.styles.opacity.computed,e.styles.transform.generated.final];t?n.push(e.styles.transition.generated.delayed):n.push(e.styles.transition.generated.instant),e.revealed=e.seen=!0,Di(e.node,n.filter((function(e){return""!==e})).join(" ")),Gi.call(this,e,t)}function Ji(e){var t=[e.styles.inline.generated,e.styles.opacity.generated,e.styles.transform.generated.initial,e.styles.transition.generated.instant];e.revealed=!1,Di(e.node,t.filter((function(e){return""!==e})).join(" ")),Gi.call(this,e)}function Gi(e,t){var n=this,i=t?e.config.duration+e.config.delay:e.config.duration,r=e.revealed?e.config.beforeReveal:e.config.beforeReset,a=e.revealed?e.config.afterReveal:e.config.afterReset,o=0;e.callbackTimer&&(o=Date.now()-e.callbackTimer.start,window.clearTimeout(e.callbackTimer.clock)),r(e.node),e.callbackTimer={start:Date.now(),clock:window.setTimeout((function(){a(e.node),e.callbackTimer=null,e.revealed&&!e.config.reset&&e.config.cleanup&&Ni.call(n,e.node)}),i-o)}}function Qi(e,t){if(void 0===t&&(t=this.pristine),!e.visible&&e.revealed&&e.config.reset)return Yi.call(this,e,{reset:!0});var n=this.store.sequences[e.sequence.id],i=e.sequence.index;if(n){var r=new Zi(n,"visible",this.store),a=new Zi(n,"revealed",this.store);if(n.models={visible:r,revealed:a},!a.body.length){var o=n.members[r.body[0]],s=this.store.elements[o];if(s)return er.call(this,n,r.body[0],-1,t),er.call(this,n,r.body[0],1,t),Yi.call(this,s,{reveal:!0,pristine:t})}if(!n.blocked.head&&i===[].concat(a.head).pop()&&i>=[].concat(r.body).shift())return er.call(this,n,i,-1,t),Yi.call(this,e,{reveal:!0,pristine:t});if(!n.blocked.foot&&i===[].concat(a.foot).shift()&&i<=[].concat(r.body).pop())return er.call(this,n,i,1,t),Yi.call(this,e,{reveal:!0,pristine:t})}}function Xi(e){var t=Math.abs(e);if(isNaN(t))throw new RangeError("Invalid sequence interval.");this.id=zi(),this.interval=Math.max(t,16),this.members=[],this.models={},this.blocked={head:!1,foot:!1}}function Zi(e,t,n){var i=this;this.head=[],this.body=[],this.foot=[],Fi(e.members,(function(e,r){var a=n.elements[e];a&&a[t]&&i.body.push(r)})),this.body.length&&Fi(e.members,(function(e,r){var a=n.elements[e];a&&!a[t]&&(r<i.body[0]?i.head.push(r):i.foot.push(r))}))}function er(e,t,n,i){var r=this,a=["head",null,"foot"][1+n],o=e.members[t+n],s=this.store.elements[o];e.blocked[a]=!0,setTimeout((function(){e.blocked[a]=!1,s&&Qi.call(r,s,i)}),e.interval)}function tr(e,t,n){var i=this;void 0===t&&(t={}),void 0===n&&(n=!1);var r,a=[],o=t.interval||$i.interval;try{o&&(r=new Xi(o));var s=xi(e);if(!s.length)throw new Error("Invalid reveal target.");var d=s.reduce((function(e,n){var o={},s=n.getAttribute("data-sr-id");s?(Vi(o,i.store.elements[s]),Di(o.node,o.styles.inline.computed)):(o.id=zi(),o.node=n,o.seen=!1,o.revealed=!1,o.visible=!1);var d=Vi({},o.config||i.defaults,t);if(!d.mobile&&Bi()||!d.desktop&&!Bi())return s&&Ni.call(i,o),e;var c,l=xi(d.container)[0];if(!l)throw new Error("Invalid container.");return l.contains(n)?(c=function(e){var t=[],n=arguments.length-1;for(;n-- >0;)t[n]=arguments[n+1];var i=null;return Fi(t,(function(t){Fi(t,(function(t){null===i&&t.node===e&&(i=t.id)}))})),i}(l,a,i.store.containers),null===c&&(c=zi(),a.push({id:c,node:l})),o.config=d,o.containerId=c,o.styles=Mi(o),r&&(o.sequence={id:r.id,index:r.members.length},r.members.push(o.id)),e.push(o),e):e}),[]);Fi(d,(function(e){i.store.elements[e.id]=e,e.node.setAttribute("data-sr-id",e.id)}))}catch(e){return Ri.call(this,"Reveal failed.",e.message)}Fi(a,(function(e){i.store.containers[e.id]={id:e.id,node:e.node}})),r&&(this.store.sequences[r.id]=r),!0!==n&&(this.store.history.push({target:e,options:t}),this.initTimeout&&window.clearTimeout(this.initTimeout),this.initTimeout=window.setTimeout(Ui.bind(this),0))}function nr(){var e=this;Fi(this.store.history,(function(t){tr.call(e,t.target,t.options,!0)})),Ui.call(this)}var ir=Math.sign||function(e){return(e>0)-(e<0)||+e};function rr(e,t){var n=t?e.node.clientHeight:e.node.offsetHeight,i=t?e.node.clientWidth:e.node.offsetWidth,r=0,a=0,o=e.node;do{isNaN(o.offsetTop)||(r+=o.offsetTop),isNaN(o.offsetLeft)||(a+=o.offsetLeft),o=o.offsetParent}while(o);return{bounds:{top:r,right:a+i,bottom:r+n,left:a},height:n,width:i}}function ar(e){var t,n;return e.node===document.documentElement?(t=window.pageYOffset,n=window.pageXOffset):(t=e.node.scrollTop,n=e.node.scrollLeft),{top:t,left:n}}function or(e){void 0===e&&(e={});var t=this.store.containers[e.containerId];if(t){var n=Math.max(0,Math.min(1,e.config.viewFactor)),i=e.config.viewOffset,r=e.geometry.bounds.top+e.geometry.height*n,a=e.geometry.bounds.right-e.geometry.width*n,o=e.geometry.bounds.bottom-e.geometry.height*n,s=e.geometry.bounds.left+e.geometry.width*n,d=t.geometry.bounds.top+t.scroll.top+i.top,c=t.geometry.bounds.right+t.scroll.left-i.right,l=t.geometry.bounds.bottom+t.scroll.top-i.bottom,u=t.geometry.bounds.left+t.scroll.left+i.left;return r<l&&a>u&&o>d&&s<c||"fixed"===e.styles.position}}function sr(e,t){var n=this;void 0===e&&(e={type:"init"}),void 0===t&&(t=this.store.elements),Ei((function(){var i="init"===e.type||"resize"===e.type;Fi(n.store.containers,(function(e){i&&(e.geometry=rr.call(n,e,!0));var t=ar.call(n,e);e.scroll&&(e.direction={x:ir(t.left-e.scroll.left),y:ir(t.top-e.scroll.top)}),e.scroll=t})),Fi(t,(function(e){(i||void 0===e.geometry)&&(e.geometry=rr.call(n,e)),e.visible=or.call(n,e)})),Fi(t,(function(e){e.sequence?Qi.call(n,e):Yi.call(n,e)})),n.pristine=!1}))}var dr,cr,lr,ur,pr,fr,gr,vr;function hr(e){var t;if(void 0===e&&(e={}),void 0===this||Object.getPrototypeOf(this)!==hr.prototype)return new hr(e);if(!hr.isSupported())return Ri.call(this,"Instantiation failed.","This browser is not supported."),Wi.failure();try{t=Vi({},fr||$i,e)}catch(e){return Ri.call(this,"Invalid configuration.",e.message),Wi.failure()}try{if(!xi(t.container)[0])throw new Error("Invalid container.")}catch(e){return Ri.call(this,e.message),Wi.failure()}return!(fr=t).mobile&&Bi()||!fr.desktop&&!Bi()?(Ri.call(this,"This device is disabled.","desktop: "+fr.desktop,"mobile: "+fr.mobile),Wi.failure()):(Wi.success(),this.store={containers:{},elements:{},history:[],sequences:{}},this.pristine=!0,dr=dr||sr.bind(this),cr=cr||qi.bind(this),lr=lr||tr.bind(this),ur=ur||Ni.bind(this),pr=pr||nr.bind(this),Object.defineProperty(this,"delegate",{get:function(){return dr}}),Object.defineProperty(this,"destroy",{get:function(){return cr}}),Object.defineProperty(this,"reveal",{get:function(){return lr}}),Object.defineProperty(this,"clean",{get:function(){return ur}}),Object.defineProperty(this,"sync",{get:function(){return pr}}),Object.defineProperty(this,"defaults",{get:function(){return fr}}),Object.defineProperty(this,"version",{get:function(){return"4.0.9"}}),Object.defineProperty(this,"noop",{get:function(){return!1}}),vr||(vr=this))}hr.isSupported=function(){return function(){var e=document.documentElement.style;return"transform"in e||"WebkitTransform"in e}()&&function(){var e=document.documentElement.style;return"transition"in e||"WebkitTransition"in e}()},Object.defineProperty(hr,"debug",{get:function(){return gr||!1},set:function(e){return gr="boolean"==typeof e?e:gr}}),hr();var mr,wr={props:{wrapperRef:HTMLDivElement,properties:Object},data:function(){return{initialized:!1}},unmounted:function(){this.$props.wrapperRef&&hr().clean(this.$props.wrapperRef)},computed:{watchWrapperPropsChange:function(){return{properties:this.$props.properties,wrapperRef:this.$props.wrapperRef}}},watch:{watchWrapperPropsChange:{handler:function(e){var t=e.properties,n=e.wrapperRef;n&&(hr().clean(n),hr(t).reveal(n))},immediate:!0}}},br=wr,yr=Oe({render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]},undefined,br,undefined,false,undefined,!1,void 0,void 0,void 0),_r=yr,xr={props:{effect:Object,properties:Object,widgetItem:Object},methods:{onChange:function(e,t){this.$emit("onPropertiesChange",o(o({},this.$props.properties),{},p({},e,t)))}}},Sr=xr,Cr=function(e){e&&e("data-v-3e4d4309_0",{source:".field-wrapper[data-v-3e4d4309]{padding:5px 0 15px 0}.field-wrapper.row[data-v-3e4d4309]{display:flex;flex-direction:row;align-items:center}.field-wrapper>label[data-v-3e4d4309]{display:block;margin-bottom:3px;font-size:9pt}.field-wrapper.row>label[data-v-3e4d4309]{margin-right:5px}.field-wrapper select[data-v-3e4d4309]{padding:5px;border-width:0 0 1px 0}.field-wrapper input[data-v-3e4d4309]{padding:5px;border-width:0 0 1px 0}.field-row[data-v-3e4d4309]{display:flex;flex-direction:row}.flex-1[data-v-3e4d4309]{flex:1}",map:void 0,media:void 0})},kr=Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"field-wrapper row"},[n("label",{attrs:{for:"origin"}},[e._v("Origin")]),e._v(" "),n("select",{attrs:{id:"origin"},on:{change:function(t){return e.onChange("origin",t.target.value)}}},[n("option",{attrs:{value:"left"},domProps:{selected:"left"===e.properties.origin}},[e._v("\n        left\n      ")]),e._v(" "),n("option",{attrs:{value:"right"},domProps:{selected:"right"===e.properties.origin}},[e._v("\n        right\n      ")]),e._v(" "),n("option",{attrs:{value:"top"},domProps:{selected:"top"===e.properties.origin}},[e._v("top")]),e._v(" "),n("option",{attrs:{value:"bottom"},domProps:{selected:"bottom"===e.properties.origin}},[e._v("\n        bottom\n      ")])])]),e._v(" "),n("div",{staticClass:"field-wrapper"},[n("label",{attrs:{for:"delay"}},[e._v("Delay (ms)")]),e._v(" "),n("input",{attrs:{id:"delay",type:"number"},domProps:{value:e.properties.delay},on:{change:function(t){return e.onChange("delay",parseFloat(t.target.value))}}})]),e._v(" "),n("div",{staticClass:"field-wrapper"},[n("label",{attrs:{for:"duration"}},[e._v("Duration (ms)")]),e._v(" "),n("input",{attrs:{id:"duration",type:"number"},domProps:{value:e.properties.duration},on:{change:function(t){return e.onChange("duration",parseFloat(t.target.value))}}})]),e._v(" "),n("div",{staticClass:"field-wrapper"},[n("label",{attrs:{for:"distance"}},[e._v("Distance")]),e._v(" "),n("div",{staticClass:"field-row"},[n("input",{attrs:{id:"distance",type:"number"},domProps:{value:e.properties.distance.replace(/%|px/,"")},on:{change:function(t){return e.onChange("distance",t.target.value+e.properties.distance.replace(/^\d+/,""))}}}),e._v(" "),n("select",{on:{change:function(t){return e.onChange("distance",e.properties.distance.replace(/%|px/,"")+t.target.value)}}},[n("option",{attrs:{value:"%"},domProps:{selected:/%$/.test(e.properties.distance)}},[e._v("\n          %\n        ")]),e._v(" "),n("option",{attrs:{value:"px"},domProps:{selected:/px$/.test(e.properties.distance)}},[e._v("\n          px\n        ")])])])])])},staticRenderFns:[]},Cr,Sr,"data-v-3e4d4309",false,undefined,!1,je,void 0,void 0),Ir=kr,Or=new bi({key:"reveal",name:"Reveal",create:function(e){return{type:this.key,properties:o({delay:100,duration:300,distance:"300px",origin:"left"},e)}},display:_r,form:Ir}),Pr={anchor:yi,reveal:Or},jr=u((function e(t){var n=t.builder,i=t.display,r=t.readOnly;c(this,e),p(this,"builder",void 0),p(this,"display",void 0),p(this,"readOnly",void 0),p(this,"tags",void 0),this.builder=n,this.display=i,this.readOnly=r,this.tags=[]})),Er={props:{properties:Object,widget:Object,onChange:Function,value:String,setWidgetState:Function,getWidgetState:Function,view:String,errors:Array,t:Function},data:function(){return{options:[]}},watch:p({},"properties.options",{handler:function(){var e=this;this.$data.options=this.$props.properties.options.map((function(t){return{value:t.value,label:e.t(t.labelKey,e.$props.widget.id)}}))},immediate:!0}),computed:{selectedValue:function(){var e=this;return this.$data.options.find((function(t){return t.value===e.$props.value}))}},methods:{onSelectChange:function(e){this.$props.onChange(e)}}},$r=Er,Wr=function(e){e&&e("data-v-0ad7d30f_0",{source:".button-group-wrapper[data-v-0ad7d30f]{display:inline-flex;flex-direction:row;border:1px solid #000;border-radius:8px;overflow:hidden}button[data-v-0ad7d30f]{border:1px solid transparent;cursor:pointer;background-color:#fff}button[data-v-0ad7d30f]:not(.isLast){border-right-color:#000}button.selected[data-v-0ad7d30f]{background-color:#03a9f4;color:#fff}",map:void 0,media:void 0})},Tr=Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"button-group-wrapper"},e._l(e.options,(function(t,i){return n("button",{key:t.value,class:{isLast:i===e.options.length-1,selected:e.value===t.value},on:{click:function(){return e.onSelectChange(t.value)}}},[e._v("\n    "+e._s(t.label)+"\n  ")])})),0)},staticRenderFns:[]},Wr,$r,"data-v-0ad7d30f",false,undefined,!1,je,void 0,void 0),Fr=Tr,Rr={props:{properties:Object,widget:Object,onChange:Function,value:String,setWidgetState:Function,getWidgetState:Function,view:String,errors:Array,t:Function},data:function(){return{translatedLabel:""}},methods:{getLabelByValue:function(e){var t;return this.t((null===(t=this.$props.properties.options.find((function(t){return t.value===e})))||void 0===t?void 0:t.labelKey)||"",this.$props.widget.id)}},watch:{value:{handler:function(e){this.$data.translatedLabel=this.getLabelByValue(e)},immediate:!0}}},Lr=Rr,Ar=Oe({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v("\n  "+e._s(e.translatedLabel)+"\n")])},staticRenderFns:[]},undefined,Lr,undefined,false,undefined,!1,void 0,void 0,void 0),Mr=Ar,Dr=new jr({display:Fr,readOnly:Mr}),Nr={props:{properties:Object,widget:Object,onChange:Function,value:String,setWidgetState:Function,getWidgetState:Function,view:String,errors:Array,t:Function},methods:{onToggle:function(e){var t,n;null===(t=(n=this.$props).onChange)||void 0===t||t.call(n,e.target.checked)}}},qr=Nr,Vr=Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("label",[n("input",{attrs:{type:"checkbox",name:e.widget.id},domProps:{checked:e.value},on:{click:e.onToggle}}),e._v("\n    "+e._s(e.t("__checkboxLabel",e.widget.id))+"\n  ")])])},staticRenderFns:[]},undefined,qr,undefined,false,undefined,!1,void 0,void 0,void 0),Br=Vr,Hr={props:{properties:Object,widget:Object,onChange:Function,value:Boolean,setWidgetState:Function,getWidgetState:Function,view:String,errors:Array,t:Function},methods:{onToggle:function(e){var t,n;null===(t=(n=this.$props).onChange)||void 0===t||t.call(n,e.target.checked)}}},zr=Hr,Ur=Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("label",[n("input",{attrs:{type:"checkbox",name:e.widget.id},domProps:{checked:e.value},on:{click:e.onToggle}}),e._v("\n    "+e._s(e.t("__checkboxLabel"))+"\n  ")])])},staticRenderFns:[]},undefined,zr,undefined,false,undefined,!1,void 0,void 0,void 0),Yr=Ur,Kr={props:{properties:Object,widget:Object,onChange:Function,value:String,setWidgetState:Function,getWidgetState:Function,view:String,errors:Array,t:Function}},Jr=Kr,Gr=Oe({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v("\n  "+e._s(!!e.value)+"\n")])},staticRenderFns:[]},undefined,Jr,undefined,false,undefined,!1,void 0,void 0,void 0),Qr=Gr,Xr=new jr({builder:Br,display:Yr,readOnly:Qr}),Zr=bt((function(e,t){e.exports=function(){var e=1e3,t=6e4,n=36e5,i="millisecond",r="second",a="minute",o="hour",s="day",d="week",c="month",l="quarter",u="year",p="date",f="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},m=function(e,t,n){var i=String(e);return!i||i.length>=t?e:""+Array(t+1-i.length).join(n)+e},w={s:m,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),i=Math.floor(n/60),r=n%60;return(t<=0?"+":"-")+m(i,2,"0")+":"+m(r,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var i=12*(n.year()-t.year())+(n.month()-t.month()),r=t.clone().add(i,c),a=n-r<0,o=t.clone().add(i+(a?-1:1),c);return+(-(i+(n-r)/(a?r-o:o-r))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:u,w:d,d:s,D:p,h:o,m:a,s:r,ms:i,Q:l}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",y={};y[b]=h;var _=function(e){return e instanceof k},x=function e(t,n,i){var r;if(!t)return b;if("string"==typeof t){var a=t.toLowerCase();y[a]&&(r=a),n&&(y[a]=n,r=a);var o=t.split("-");if(!r&&o.length>1)return e(o[0])}else{var s=t.name;y[s]=t,r=s}return!i&&r&&(b=r),r||!i&&b},S=function(e,t){if(_(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new k(n)},C=w;C.l=x,C.i=_,C.w=function(e,t){return S(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var k=function(){function h(e){this.$L=x(e.locale,null,!0),this.parse(e)}var m=h.prototype;return m.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(C.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var i=t.match(g);if(i){var r=i[2]-1||0,a=(i[7]||"0").substring(0,3);return n?new Date(Date.UTC(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,a)):new Date(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,a)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},m.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},m.$utils=function(){return C},m.isValid=function(){return!(this.$d.toString()===f)},m.isSame=function(e,t){var n=S(e);return this.startOf(t)<=n&&n<=this.endOf(t)},m.isAfter=function(e,t){return S(e)<this.startOf(t)},m.isBefore=function(e,t){return this.endOf(t)<S(e)},m.$g=function(e,t,n){return C.u(e)?this[t]:this.set(n,e)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(e,t){var n=this,i=!!C.u(t)||t,l=C.p(e),f=function(e,t){var r=C.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return i?r:r.endOf(s)},g=function(e,t){return C.w(n.toDate()[e].apply(n.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},v=this.$W,h=this.$M,m=this.$D,w="set"+(this.$u?"UTC":"");switch(l){case u:return i?f(1,0):f(31,11);case c:return i?f(1,h):f(0,h+1);case d:var b=this.$locale().weekStart||0,y=(v<b?v+7:v)-b;return f(i?m-y:m+(6-y),h);case s:case p:return g(w+"Hours",0);case o:return g(w+"Minutes",1);case a:return g(w+"Seconds",2);case r:return g(w+"Milliseconds",3);default:return this.clone()}},m.endOf=function(e){return this.startOf(e,!1)},m.$set=function(e,t){var n,d=C.p(e),l="set"+(this.$u?"UTC":""),f=(n={},n[s]=l+"Date",n[p]=l+"Date",n[c]=l+"Month",n[u]=l+"FullYear",n[o]=l+"Hours",n[a]=l+"Minutes",n[r]=l+"Seconds",n[i]=l+"Milliseconds",n)[d],g=d===s?this.$D+(t-this.$W):t;if(d===c||d===u){var v=this.clone().set(p,1);v.$d[f](g),v.init(),this.$d=v.set(p,Math.min(this.$D,v.daysInMonth())).$d}else f&&this.$d[f](g);return this.init(),this},m.set=function(e,t){return this.clone().$set(e,t)},m.get=function(e){return this[C.p(e)]()},m.add=function(i,l){var p,f=this;i=Number(i);var g=C.p(l),v=function(e){var t=S(f);return C.w(t.date(t.date()+Math.round(e*i)),f)};if(g===c)return this.set(c,this.$M+i);if(g===u)return this.set(u,this.$y+i);if(g===s)return v(1);if(g===d)return v(7);var h=(p={},p[a]=t,p[o]=n,p[r]=e,p)[g]||1,m=this.$d.getTime()+i*h;return C.w(m,this)},m.subtract=function(e,t){return this.add(-1*e,t)},m.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||f;var i=e||"YYYY-MM-DDTHH:mm:ssZ",r=C.z(this),a=this.$H,o=this.$m,s=this.$M,d=n.weekdays,c=n.months,l=function(e,n,r,a){return e&&(e[n]||e(t,i))||r[n].substr(0,a)},u=function(e){return C.s(a%12||12,e,"0")},p=n.meridiem||function(e,t,n){var i=e<12?"AM":"PM";return n?i.toLowerCase():i},g={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:C.s(s+1,2,"0"),MMM:l(n.monthsShort,s,c,3),MMMM:l(c,s),D:this.$D,DD:C.s(this.$D,2,"0"),d:String(this.$W),dd:l(n.weekdaysMin,this.$W,d,2),ddd:l(n.weekdaysShort,this.$W,d,3),dddd:d[this.$W],H:String(a),HH:C.s(a,2,"0"),h:u(1),hh:u(2),a:p(a,o,!0),A:p(a,o,!1),m:String(o),mm:C.s(o,2,"0"),s:String(this.$s),ss:C.s(this.$s,2,"0"),SSS:C.s(this.$ms,3,"0"),Z:r};return i.replace(v,(function(e,t){return t||g[e]||r.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(i,p,f){var g,v=C.p(p),h=S(i),m=(h.utcOffset()-this.utcOffset())*t,w=this-h,b=C.m(this,h);return b=(g={},g[u]=b/12,g[c]=b,g[l]=b/3,g[d]=(w-m)/6048e5,g[s]=(w-m)/864e5,g[o]=w/n,g[a]=w/t,g[r]=w/e,g)[v]||w,f?b:C.a(b)},m.daysInMonth=function(){return this.endOf(c).$D},m.$locale=function(){return y[this.$L]},m.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),i=x(e,t,!0);return i&&(n.$L=i),n},m.clone=function(){return C.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},h}(),I=k.prototype;return S.prototype=I,[["$ms",i],["$s",r],["$m",a],["$H",o],["$W",s],["$M",c],["$y",u],["$D",p]].forEach((function(e){I[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),S.extend=function(e,t){return e.$i||(e(t,k,S),e.$i=!0),S},S.locale=x,S.isDayjs=_,S.unix=function(e){return S(1e3*e)},S.en=y[b],S.Ls=y,S.p={},S}()})),ea=function(e){if(e)return e.toLocaleString("en-CA",{year:"numeric",month:"2-digit",day:"2-digit"})},ta=function(e){if(e){if(e instanceof Date)return e;var t=Date.parse(e);return isNaN(t)?/^Date.now(\(\))*$/.test(e)||/^new Date(\(\))*$/.test(e)?new Date:/(^dayjs|^[\w]+\([^\)]*\))/.test(e)?e.split(".").reduce((function(e,t){var n,i=t.match(/([\w]+)\(([^\)]*)\)/);return i?"dayjs"===i[1]?i[2]?Zr(i[2]):e:(n=e)[i[1]].apply(n,x(i[2].split(/\s*,\s*/).map((function(e){var t=parseFloat(e);return isNaN(t)?e.replaceAll(/[\'\"]+/g,""):t})))):e}),Zr()).toDate():void 0:new Date(t)}},na={props:{properties:Object,widget:Object,onChange:Function,value:String,setWidgetState:Function,getWidgetState:Function,view:String,errors:Array,t:Function},created:function(){this.$props.value||this.$props.onChange(this.$data.defaultDate)},data:function(){return{defaultDate:ea(ta(this.$props.properties.defaultDate)),minDate:ea(ta(this.$props.properties.minDate)),maxDate:ea(ta(this.$props.properties.maxDate))}},methods:{onDateChange:function(e){this.$props.onChange(e.target.value)}}},ia=na,ra=function(e){e&&e("data-v-6c12e245_0",{source:".radio-item[data-v-6c12e245]{margin-right:10px}",map:void 0,media:void 0})},aa=Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("input",{attrs:{type:"date",min:e.minDate,max:e.maxDate},domProps:{value:e.value||e.defaultDate},on:{change:e.onDateChange}})])},staticRenderFns:[]},ra,ia,"data-v-6c12e245",false,undefined,!1,je,void 0,void 0),oa=aa,sa={props:{properties:Object,widget:Object,onChange:Function,value:String,setWidgetState:Function,getWidgetState:Function,view:String,errors:Array,t:Function},computed:{label:function(){var e=this,t=this.$props.widget.properties.controlProperties.options.find((function(t){return t.value===e.$props.value}));return null!=t&&t.labelKey?this.t(t.labelKey,this.$props.widget.id):""}}},da=sa,ca=Oe({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v("\n  "+e._s(e.value)+"\n")])},staticRenderFns:[]},undefined,da,undefined,false,undefined,!1,void 0,void 0,void 0),la=ca,ua=new jr({display:oa,readOnly:la}),pa={props:{properties:Object,widget:Object,widgetItems:Object,onChange:Function,value:String,setWidgetState:Function,getWidgetState:Function,view:String,errors:Array,t:Function},inject:["pageEventListener","getPageState"],data:function(){return{options:[],attachedDependentCodeListeners:[]}},created:function(){},unmounted:function(){var e=this;this.attachedDependentCodeListeners.forEach((function(t){var n=_(t,2),i=n[0],r=n[1];e.pageEventListener.remove(i,r)}))},watch:p({},"properties.options",{handler:function(){var e=this;return d(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=function e(t){return x(new Set(t.reduce((function(t,n){return n.any?[].concat(x(t),x(e(n.any))):n.all?[].concat(x(t),x(e(n.all))):[].concat(x(t),[n.fact])}),[])))},i=x(new Set(e.$props.widget.properties.controlProperties.options.reduce((function(e,t){var i;return[].concat(x(e),x(null!==(i=t.conditions)&&void 0!==i&&i.length?n(t.conditions):[]))}),[]))),e.widget.setListenerSet("options",i.map((function(e){return"".concat(e,"_change")})),(function(){return e.setFilteredOptions()})),e.setFilteredOptions();case 4:case"end":return t.stop()}}),t)})))()},immediate:!0}),computed:{selectedValue:function(){var e=this;return this.$data.options.find((function(t){return t.value===e.$props.value}))}},methods:{setFilteredOptions:function(){var e=this;return d(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getFilteredOptions();case 2:e.$data.options=t.sent.map((function(t){return{value:t.value,label:e.t(t.labelKey)}}));case 3:case"end":return t.stop()}}),t)})))()},getFilteredOptions:function(){var e=this;return d(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object.keys(e.$props.widgetItems).reduce((function(t,n){var i,r,a=null===(i=e.getPageState())||void 0===i||null===(r=i.widgetState[n])||void 0===r?void 0:r.response;return a&&(t[n]=a,e.$props.widgetItems[n].code&&(t[e.$props.widgetItems[n].code||""]=a)),t}),{}),t.next=3,Promise.all(e.$props.widget.properties.controlProperties.options.map(function(){var t=d(regeneratorRuntime.mark((function t(i){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=!(null!==(r=i.conditions)&&void 0!==r&&r.length),t.t0){t.next=5;break}return t.next=4,e.$props.widget.validate(i.conditions,n);case 4:t.t0=t.sent;case 5:if(!t.t0){t.next=9;break}t.t1=i,t.next=10;break;case 9:t.t1=null;case 10:return t.abrupt("return",t.t1);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 3:return t.abrupt("return",t.sent.filter((function(e){return e})));case 4:case"end":return t.stop()}}),t)})))()},onSelectChange:function(e){this.$props.onChange(e.target.value)}}},fa=pa,ga=function(e){e&&e("data-v-2cf26aaa_0",{source:".radio-item[data-v-2cf26aaa]{margin-right:10px}",map:void 0,media:void 0})},va=Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("select",{domProps:{value:e.value||""},on:{change:e.onSelectChange}},[n("option",{attrs:{value:"",disabled:""}},[e._v(e._s(e.t("__placeholder")))]),e._v(" "),e._l(e.options,(function(t){return n("option",{key:t.value,domProps:{value:t.value,selected:e.value===t.value}},[e._v("\n      "+e._s(t.label)+"\n    ")])}))],2)])},staticRenderFns:[]},ga,fa,"data-v-2cf26aaa",false,undefined,!1,je,void 0,void 0),ha=va,ma={props:{properties:Object,widget:Object,onChange:Function,value:String,setWidgetState:Function,getWidgetState:Function,view:String,errors:Array,t:Function},data:function(){return{translatedLabel:""}},methods:{getLabelByValue:function(e){var t;return this.t((null===(t=this.$props.properties.options.find((function(t){return t.value===e})))||void 0===t?void 0:t.labelKey)||"",this.$props.widget.id)}},watch:{value:{handler:function(e){this.$data.translatedLabel=this.getLabelByValue(e)},immediate:!0}}},wa=ma,ba=Oe({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v("\n  "+e._s(e.translatedLabel)+"\n")])},staticRenderFns:[]},undefined,wa,undefined,false,undefined,!1,void 0,void 0,void 0),ya=ba,_a=new jr({display:ha,readOnly:ya}),xa={props:{properties:Object,widget:Object,onChange:Function,value:Number,setWidgetState:Function,getWidgetState:Function,view:String,errors:Array,t:Function},created:function(){var e;void 0===this.$props.value&&void 0!==(null===(e=this.$props.properties)||void 0===e?void 0:e.default)&&this.changeValue(this.$props.properties.default,!0)},computed:{step:function(){return this.$props.properties.step||1},numValue:function(){var e,t;return void 0!==this.$props.value?this.$props.value:void 0!==(null===(e=this.$props.properties)||void 0===e?void 0:e.default)?this.$props.properties.default:void 0!==(null===(t=this.$props.properties)||void 0===t?void 0:t.min)?this.$props.properties.min:0}},methods:{changeValue:function(e,t){var n,i,r,a,o,s;if(!/^[^0-9]+$/.test(e.toString())){var d=parseInt(e.toString(),10);void 0!==(null===(n=this.$props.properties)||void 0===n?void 0:n.min)&&d<(null===(i=this.$props.properties)||void 0===i?void 0:i.min)&&(d=this.$props.properties.min),void 0!==(null===(r=this.$props.properties)||void 0===r?void 0:r.max)&&d>(null===(a=this.$props.properties)||void 0===a?void 0:a.max)&&(d=this.$props.properties.max),null===(o=(s=this.$props).onChange)||void 0===o||o.call(s,d,t)}}}},Sa=xa,Ca=function(e){e&&e("data-v-2d5d2b73_0",{source:"input[data-v-2d5d2b73]::-webkit-inner-spin-button,input[data-v-2d5d2b73]::-webkit-outer-spin-button{-webkit-appearance:none;-moz-appearance:textfield;margin:0}",map:void 0,media:void 0})},ka=Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("button",{on:{click:function(){return e.changeValue(e.numValue-e.step)}}},[e._v("-")]),e._v(" "),n("input",{attrs:{type:"number",step:e.step},domProps:{value:e.numValue},on:{keyup:function(t){return e.changeValue(t.target.value)}}}),e._v(" "),n("button",{on:{click:function(){return e.changeValue(e.numValue+e.step)}}},[e._v("+")])])},staticRenderFns:[]},Ca,Sa,"data-v-2d5d2b73",false,undefined,!1,je,void 0,void 0),Ia=ka,Oa={props:{properties:Object,widget:Object,onChange:Function,value:String,setWidgetState:Function,getWidgetState:Function,view:String,errors:Array,t:Function}},Pa=Oa,ja=Oe({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v("\n  "+e._s(e.value||e.widget.properties.controlProperties.default)+"\n")])},staticRenderFns:[]},undefined,Pa,undefined,false,undefined,!1,void 0,void 0,void 0),Ea=ja,$a=new jr({builder:Ia,display:Ia,readOnly:Ea}),Wa={props:{properties:Object,widget:Object,onChange:Function,value:String,setWidgetState:Function,getWidgetState:Function,view:String,errors:Array,t:Function},methods:{onSelect:function(e){this.$props.onChange(e.target.value)}}},Ta=Wa,Fa=function(e){e&&e("data-v-5d95758c_0",{source:".radio-item[data-v-5d95758c]{margin-right:10px}",map:void 0,media:void 0})},Ra=Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.properties.options,(function(t){return n("label",{key:t.value,staticClass:"radio-item"},[n("input",{attrs:{type:"radio",name:e.widget.id},domProps:{checked:e.value===t.value,value:t.value},on:{change:e.onSelect}}),e._v("\n    "+e._s(e.t(t.labelKey,e.widget.id))+"\n  ")])})),0)},staticRenderFns:[]},Fa,Ta,"data-v-5d95758c",false,undefined,!1,je,void 0,void 0),La=Ra,Aa={props:{properties:Object,widget:Object,onChange:Function,value:String,setWidgetState:Function,getWidgetState:Function,view:String,errors:Array,t:Function},computed:{label:function(){var e=this,t=this.$props.widget.properties.controlProperties.options.find((function(t){return t.value===e.$props.value}));return null!=t&&t.labelKey?this.t(t.labelKey,this.$props.widget.id):""}}},Ma=Aa,Da=Oe({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v("\n  "+e._s(e.label)+"\n")])},staticRenderFns:[]},undefined,Ma,undefined,false,undefined,!1,void 0,void 0,void 0),Na=Da,qa=new jr({builder:La,display:La,readOnly:Na}),Va={props:{properties:Object,widget:Object,onChange:Function,value:String,setWidgetState:Function,getWidgetState:Function,view:String,errors:Array,t:Function},methods:{onTextChange:function(e){this.$props.onChange(e.target.value)}}},Ba=Va,Ha=function(e){e&&e("data-v-e3a99f28_0",{source:".textInput[data-v-e3a99f28]::-webkit-inner-spin-button,.textInput[data-v-e3a99f28]::-webkit-outer-spin-button{-webkit-appearance:none;-moz-appearance:textfield;margin:0}.textInput[data-v-e3a99f28]{min-height:42px}",map:void 0,media:void 0})},za=Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.properties.multiline?e._e():n("input",{staticClass:"textInput",attrs:{type:"text"},domProps:{value:e.value},on:{input:e.onTextChange}}),e._v(" "),e.properties.multiline?n("textarea",{staticClass:"textInput",domProps:{value:e.value},on:{input:e.onTextChange}}):e._e()])},staticRenderFns:[]},Ha,Ba,"data-v-e3a99f28",false,undefined,!1,je,void 0,void 0),Ua=za,Ya={props:{properties:Object,widget:Object,onChange:Function,value:String,setWidgetState:Function,getWidgetState:Function,view:String,errors:Array,t:Function}},Ka=Ya,Ja=Oe({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v("\n  "+e._s(e.value||e.widget.properties.controlProperties.default)+"\n")])},staticRenderFns:[]},undefined,Ka,undefined,false,undefined,!1,void 0,void 0,void 0),Ga=Ja,Qa=new jr({display:Ua,readOnly:Ga}),Xa={buttonGroup:Dr,checkbox:Xr,datePicker:ua,dropdown:_a,numberPicker:$a,radio:qa,text:Qa},Za=function(){function e(t){var n=t.widgetState,i=t.interactiveState,r=t.widgetCodeToIdMap,a=t.widgetIdToCodeMap;c(this,e),p(this,"_widgetState",void 0),p(this,"_interactiveState",void 0),p(this,"_widgetCodeToIdMap",void 0),p(this,"_widgetIdToCodeMap",void 0),this._widgetState=n||{},this._interactiveState=i||{},this._widgetCodeToIdMap=r||{},this._widgetIdToCodeMap=a||{}}return u(e,[{key:"interactiveState",get:function(){return this._interactiveState}},{key:"widgetState",get:function(){return this._widgetState}},{key:"widgetCodeToIdMap",get:function(){return this._widgetCodeToIdMap}},{key:"widgetIdToCodeMap",get:function(){return this._widgetIdToCodeMap}},{key:"getWidgetIdByCode",value:function(e){return this._widgetCodeToIdMap[e]}},{key:"getWidgetCodeById",value:function(e){return this._widgetIdToCodeMap[e]}},{key:"onUpdate",value:function(){}},{key:"getWidgetState",value:function(e,t){var n;return t?null===(n=this._widgetState[e])||void 0===n?void 0:n[t]:this._widgetState[e]}},{key:"setWidgetState",value:function(e,t,n){var i;(this._widgetState[e]||(this._widgetState[e]={}),void 0===n)?null===(i=this._widgetState[e])||void 0===i||delete i[t]:this._widgetState[e][t]=n}},{key:"clearWidgetState",value:function(e,t){this.setWidgetState(e,t)}},{key:"registerWidgetCode",value:function(e,t){this._widgetCodeToIdMap[e]=t,this._widgetIdToCodeMap[t]=e,this.setWidgetState(t,"code",e)}},{key:"unregisterWidgetCode",value:function(e){delete this._widgetCodeToIdMap[e]}}],[{key:"from",value:function(t){return new e(t instanceof e?{widgetState:t.widgetState,interactiveState:t.interactiveState,widgetCodeToIdMap:t.widgetCodeToIdMap,widgetIdToCodeMap:t.widgetIdToCodeMap}:{widgetState:t._widgetState,interactiveState:t._interactiveState,widgetCodeToIdMap:t._widgetCodeToIdMap,widgetIdToCodeMap:t._widgetIdToCodeMap})}}]),e}(),eo={},to=function(e){eo[e]||(eo[e]={cached:[],result:null});for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n.length?((n.length!==eo[e].cached.length||n.some((function(t,n){return t!==eo[e].cached[n]})))&&(eo[e].cached=n,Array.isArray(n[0])?eo[e].result=n.reduce((function(e,t){return[].concat(x(e),x(t))}),[]):eo[e].result=n.reduce((function(e,t){return o(o({},e),t)}),{})),eo[e].result):null},no=function(){function e(t){c(this,e),p(this,"_listenerFns",{}),p(this,"_emitEvent",void 0),this._emitEvent=t.emitEvent}return u(e,[{key:"addChangeListener",value:function(e,t){this.add("".concat(e,"_change"),t)}},{key:"add",value:function(e,t){this._listenerFns[e]||(this._listenerFns[e]=[]),this._listenerFns[e].push(t)}},{key:"remove",value:function(e,t){this._listenerFns[e]&&(this._listenerFns[e]=this._listenerFns[e].filter((function(e){return e!==t})))}},{key:"emit",value:function(e,t,n){(this._listenerFns[e]||[]).forEach((function(e){return e()})),null!=n&&n.toExternal&&this._emitEvent(e,t,n.widgetItem)}}]),e}(),io={components:{WidgetsLayout:wt},props:{languages:Object,page:Object,onPageChange:Function,state:ft(Za).isRequired,onStateChange:Function,widgetControls:Object,questionControls:Object,plugins:pt(gt({widgetControls:Object,widgetEffectControls:Object,questionControls:Object})),view:String,configs:gt({widgets:gt({disableInternalControls:lt(),blacklist:pt(ut()),whitelist:pt(ut()),filters:Object}),questionControls:gt({disableInternalControls:lt(),blacklist:pt(ut()),whitelist:pt(ut()),filters:Object})})},data:function(){return{widgetItems:{},pageEventListener:new no({emitEvent:this.emitEvent})}},computed:{widgetItemsArr:function(){return this.$props.page.widgets},combWidgetControls:function(){var e,t;return to.apply(void 0,["widgetControls",null!==(e=this.$props.configs)&&void 0!==e&&e.widgets.disableInternalControls?{}:wi].concat(x(null===(t=this.$props.plugins||[])||void 0===t?void 0:t.map((function(e){return e.widgetControls}))),[this.$props.widgetControls]))},combWidgetEffectControls:function(){var e,t;return to.apply(void 0,["widgetEffectControls",null!==(e=this.$props.configs)&&void 0!==e&&e.widgetEffectControls.disableInternalControls?{}:Pr].concat(x(null===(t=this.$props.plugins||[])||void 0===t?void 0:t.map((function(e){return e.widgetEffectControls}))),[this.$props.widgetEffectControls]))},combQuestionControls:function(){var e,t;return to.apply(void 0,["questionControls",null!==(e=this.$props.configs)&&void 0!==e&&e.questionControls.disableInternalControls?{}:Xa].concat(x(null===(t=this.$props.plugins||[])||void 0===t?void 0:t.map((function(e){return e.questionControls}))),[this.$props.questionControls]))},pageState:function(){return this.$props.state}},watch:{"page.widgets":{handler:function(e){var t=this;this.$data.widgetItems=e.reduce((function(e,n){var i,r=(null===(i=t.combWidgetControls[n.type])||void 0===i?void 0:i.widgetItem)||yn;return e[n.id]=new r({widget:n,pageEventListener:t.pageEventListener,emitEvent:t.emitEvent,t:function(e,i){return t.t("".concat(n.id,".").concat(e),i)},getState:function(){return t.$props.state},setState:function(e){t.$emit("onStateChange",e)},onUpdate:function(e){var n,i;null===(n=(i=t.$props).onPageChange)||void 0===n||n.call(i,o(o({},t.$props.page),{},{widgets:Object.values(o(o({},t.$data.widgetItems),{},p({},e.id,e)))}))}}),e}),{}),Object.values(this.$data.widgetItems).forEach((function(e){e.setWidgetItems(t.$data.widgetItems)}))},immediate:!0,deep:!0}},methods:{t:function(e,t){var n=("string"==typeof e?e.split("."):e).reduce((function(e,t){return"string"==typeof e?e:null==e?void 0:e[t]}),this.languages);return null==n?void 0:n.replace(/(\{(\w+)\})/g,(function(e,n,i){return(t||{})[i]}))},emitEvent:function(e,t,n){var i=this;return d(regeneratorRuntime.mark((function r(){var a,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!Array.isArray(i.$listeners.event)){r.next=5;break}return r.next=3,Promise.all(i.$listeners.event.map((function(r){return r({name:e,value:t,widget:n,pageState:i.pageState,widgetItems:i.$data.widgetItems})})));case 3:r.next=7;break;case 5:return r.next=7,null===(a=(o=i.$listeners).event)||void 0===a?void 0:a.call(o,{name:e,value:t,widget:n,pageState:i.pageState,widgetItems:i.$data.widgetItems});case 7:case"end":return r.stop()}}),r)})))()}},provide:function(){var e=this;return{getView:function(){return e.$props.view},t:this.t,pageEventListener:this.pageEventListener,languages:this.$props.languages,getPageState:function(){return e.$props.state},setPageState:function(t){e.$emit("onStateChange",t)},emitEvent:this.emitEvent,widgetEffectControls:this.combWidgetEffectControls,widgetControls:this.combWidgetControls,questionControls:this.combQuestionControls}}},ro=io,ao=function(e){e&&e("data-v-62e300fa_0",{source:".main-wrapper[data-v-62e300fa]{font-family:Arial,Helvetica,sans-serif}",map:void 0,media:void 0})},oo=Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main-wrapper"},[n("widgets-layout",{attrs:{widgetControls:e.combWidgetControls,widgetItems:e.widgetItems}})],1)},staticRenderFns:[]},ao,ro,"data-v-62e300fa",false,undefined,!1,je,void 0,void 0),so=oo,co={props:{position:{type:String,default:"left"},isOpen:{type:Boolean,default:!0},paneWidth:{type:Number,default:300}}},lo=co,uo=function(e){e&&e("data-v-105a3195_0",{source:".pane-wrapper[data-v-105a3195]{display:flex;flex-direction:row;align-items:stretch;height:100%;position:relative}.pane-outside-wrapper[data-v-105a3195]{flex:1;position:relative}.pane-content-wrapper[data-v-105a3195]{position:absolute;top:0;height:100%;z-index:10;background-color:#fff;box-shadow:0 0 4px -2px #000;overflow:hidden;display:flex;flex-direction:column}.pane-content-wrapper.left[data-v-105a3195]{left:0}.pane-content-wrapper.right[data-v-105a3195]{right:0}",map:void 0,media:void 0})},po=Oe({render:function(){var e,t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"pane-wrapper",class:{isOpen:t.isOpen}},["left"===t.position?i("div",{staticClass:"pane-content-wrapper left",style:{width:t.paneWidth+"px"}},[t._t("pane-content")],2):t._e(),t._v(" "),i("div",{staticClass:"pane-outside-wrapper",style:(e={},e["left"===t.position?"marginLeft":"marginRight"]=t.paneWidth+"px",e)},[t._t("default")],2),t._v(" "),"right"===t.position?i("div",{staticClass:"pane-content-wrapper right",style:{width:t.paneWidth+"px"}},[t._t("pane-content")],2):t._e()])},staticRenderFns:[]},uo,lo,"data-v-105a3195",false,undefined,!1,je,void 0,void 0),fo=po,go={components:{BuilderWidgetTree:Xn},props:{widgetItems:Object,selectedWidgetItem:Object},inject:["widgetControls"]},vo=go,ho=function(e){e&&e("data-v-5b86d73a_0",{source:".wrapper[data-v-5b86d73a]{display:flex;flex-direction:row;flex-wrap:wrap;height:auto}.widget-item[data-v-5b86d73a]{display:block;width:33%;border:1px solid #f2f2f2;border-radius:4px;padding:5px;box-sizing:border-box}",map:void 0,media:void 0})},mo=Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrapper"},[e._l(e.widgetControls,(function(t,i){return[n("a",{key:i,staticClass:"widget-item"},[e._v("\n      "+e._s(i)+"\n    ")])]}))],2)},staticRenderFns:[]},ho,vo,"data-v-5b86d73a",false,undefined,!1,je,void 0,void 0),wo=mo,bo={props:{panelType:String,widgetItems:Object}},yo=bo,_o=Oe({render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]},undefined,yo,undefined,false,undefined,!1,void 0,void 0,void 0),xo=function(){function e(t){var n=t.form,i=t.header,r=t.name,a=t.key;c(this,e),p(this,"_form",void 0),p(this,"_header",void 0),p(this,"_name",void 0),p(this,"_key",void 0),this._form=n,this._header=i,this._name=r,this._key=a}return u(e,[{key:"form",get:function(){return this._form}},{key:"header",get:function(){return this._header}},{key:"name",get:function(){return this._name}},{key:"key",get:function(){return this._key}}]),e}(),So=new xo({key:"addWidget",name:"Add Widget",form:wo,header:_o}),Co=new xo({key:"effects",name:"Effects",form:Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.selectedWidgetItem?n("div",{staticClass:"existing-effects-wrapper"},e._l(e.selectedWidgetItem.effects,(function(t){return n("div",{key:t.type,staticClass:"effect-wrapper"},[n("a",{staticClass:"remove-effect-button",on:{click:function(){return e.removeEffect(t)}}},[e._v("🗑")]),e._v(" "),n("h6",{staticClass:"effect-header"},[e._v("\n        "+e._s(e.widgetEffectControls[t.type].name)+"\n      ")]),e._v(" "),n(e.widgetEffectControls[t.type].form,{tag:"component",attrs:{effect:t,properties:t.properties,widgetItem:e.selectedWidgetItem},on:{onPropertiesChange:function(n){return e.onPropertiesChange(t.type,n)}}})],1)})),0):e._e()])},staticRenderFns:[]},(function(e){e&&e("data-v-36bbc32a_0",{source:".effect-wrapper[data-v-36bbc32a]{position:relative;background-color:#fdfdfd;padding:0 5px 10px 5px}.effect-wrapper[data-v-36bbc32a]:not(:last-child){margin-bottom:1px}.remove-effect-button[data-v-36bbc32a]{position:absolute;top:0;right:0;padding:1px 10px;cursor:pointer;font-size:9pt}.effect-header[data-v-36bbc32a]{margin:0 -5px 0 -5px;padding:5px;background-color:#bcdff0}",map:void 0,media:void 0})}),{props:{widgetItems:Object,selectedWidgetItem:Object},inject:["widgetEffectControls"],methods:{onPropertiesChange:function(e,t){this.$props.selectedWidgetItem.setEffectProperties(e,t)},removeEffect:function(e){this.$props.selectedWidgetItem.removeEffect(e.type)}}},"data-v-36bbc32a",false,undefined,!1,je,void 0,void 0),header:Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.selectedWidgetItem?n("div",[n("select",{on:{change:e.onAddEffect}},[n("option",{staticClass:"default",attrs:{value:"",disabled:"",selected:""}},[e._v("+")]),e._v(" "),e._l(e.panelSectionsAvailable,(function(t){return n("option",{key:t.key,domProps:{value:t.key}},[e._v("\n      "+e._s(t.name)+"\n    ")])}))],2)]):e._e()},staticRenderFns:[]},(function(e){e&&e("data-v-801e96fe_0",{source:"select[data-v-801e96fe]{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:1px 6px;border-radius:4px;border:none;background-color:transparent;cursor:pointer}select option.default[data-v-801e96fe]{text-align:right}",map:void 0,media:void 0})}),{props:{panelType:String,widgetItems:Object,selectedWidgetItem:Object},inject:["widgetEffectControls"],data:function(){return{panelSections:$o}},computed:{panelSectionsAvailable:function(){var e=this;return this.$props.selectedWidgetItem?Object.keys(this.widgetEffectControls).reduce((function(t,n){var i,r,a,o;return(null===(i=e.$props.selectedWidgetItem)||void 0===i||null===(r=i.effects)||void 0===r||!r.length||null!==(a=e.$props.selectedWidgetItem)&&void 0!==a&&null!==(o=a.effects)&&void 0!==o&&o.every((function(e){return e.type!==n})))&&t.push(e.widgetEffectControls[n]),t}),[]):[]}},methods:{onAddEffect:function(e){var t=e.target.value;e.target.value="",this.widgetEffectControls[t]&&this.$props.selectedWidgetItem.addEffect(this.widgetEffectControls[t].create())}}},"data-v-801e96fe",false,undefined,!1,je,void 0,void 0)}),ko=Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.selectedWidgetItem?n("div",e._l(e.selectedWidgetItem.reflexiveRules,(function(t,i){return n("div",{key:i,staticClass:"condition-wrapper"},[n("label",[e._v("condition "+e._s(i+1))]),e._v(" "),n("div",{staticClass:"condition-fields-wrapper"},[n("input",{attrs:{type:"text"},domProps:{value:t.fact}}),e._v(" "),n("select",[n("option",{attrs:{value:"in"},domProps:{selected:"in"===t.operator}},[e._v("in")]),e._v(" "),n("option",{attrs:{value:"equal"},domProps:{selected:"equal"===t.operator}},[e._v("\n          equals\n        ")]),e._v(" "),n("option",{attrs:{value:"notEqual"},domProps:{selected:"notEqual"===t.operator}},[e._v("\n          not equal\n        ")]),e._v(" "),n("option",{attrs:{value:"greaterThanInclusive"},domProps:{selected:"greaterThanInclusive"===t.operator}},[e._v("\n          >=\n        ")]),e._v(" "),n("option",{attrs:{value:"lessThanInclusive"},domProps:{selected:"lessThanInclusive"===t.operator}},[e._v("\n          "+e._s("<=")+"\n        ")])]),e._v(" "),n("input",{attrs:{type:"text"},domProps:{value:e.conditionValue(t.value)}})])])})),0):e._e()},staticRenderFns:[]},(function(e){e&&e("data-v-5a3c7b40_0",{source:"input[data-v-5a3c7b40],select[data-v-5a3c7b40],textarea[data-v-5a3c7b40]{border-width:0 0 1px 0}.sub-header[data-v-5a3c7b40]{margin:0;padding:5px;background-color:#bcdff0}.condition-wrapper[data-v-5a3c7b40]{padding:10px 5px;margin-bottom:10px}.condition-wrapper>label[data-v-5a3c7b40]{display:block;margin-bottom:5px;font-size:9pt}.condition-fields-wrapper[data-v-5a3c7b40]{display:flex;flex-direction:row}.condition-fields-wrapper>input[data-v-5a3c7b40]{width:0}.condition-fields-wrapper>*[data-v-5a3c7b40]{flex:1}.error-message-wrapper[data-v-5a3c7b40]{padding:10px 5px}.error-message-wrapper label[data-v-5a3c7b40]{display:block;font-size:9pt;margin-bottom:5px}.error-message-wrapper textarea[data-v-5a3c7b40]{box-sizing:border-box;width:100%;max-width:100%;min-width:100%;min-height:40px;color:red}",map:void 0,media:void 0})}),{props:{widgetItems:Object,selectedWidgetItem:Object},inject:["t","widgetEffectControls"],methods:{conditionValue:function(e){return Array.isArray(e)?e.join(", "):null===e?"null":void 0===e?"undefined":e},onPropertiesChange:function(e,t){this.$props.selectedWidgetItem.setEffectProperties(e,t)},removeEffect:function(e){this.$props.selectedWidgetItem.removeEffect(e.type)}}},"data-v-5a3c7b40",false,undefined,!1,je,void 0,void 0),Io=new xo({key:"reflexives",name:"Reflexives",form:ko,header:Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.selectedWidgetItem?n("div",[n("button",{staticClass:"add-button",on:{click:e.addValidation}},[e._v("+")])]):e._e()},staticRenderFns:[]},(function(e){e&&e("data-v-33573df1_0",{source:".add-button[data-v-33573df1]{background-color:transparent;border:none}",map:void 0,media:void 0})}),{props:{panelType:String,widgetItems:Object,selectedWidgetItem:Object},inject:["widgetEffectControls"],data:function(){return{panelSections:$o}},computed:{panelSectionsAvailable:function(){var e=this;return this.$props.selectedWidgetItem?Object.keys(this.widgetEffectControls).reduce((function(t,n){var i,r,a,o;return(null===(i=e.$props.selectedWidgetItem)||void 0===i||null===(r=i.effects)||void 0===r||!r.length||null!==(a=e.$props.selectedWidgetItem)&&void 0!==a&&null!==(o=a.effects)&&void 0!==o&&o.every((function(e){return e.type!==n})))&&t.push(e.widgetEffectControls[n]),t}),[]):[]}},methods:{addValidation:function(){var e,t=null===(e=this.$props.selectedWidgetItem.validationRules||[])||void 0===e?void 0:e.length;this.$props.selectedWidgetItem.addValidation({conditions:[],error:"err".concat(t)})}}},"data-v-33573df1",false,undefined,!1,je,void 0,void 0)}),Oo=Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.selectedWidgetItem?n("div",e._l(e.selectedWidgetItem.validationRules,(function(t,i){return n("div",{key:i},[n("h6",{staticClass:"sub-header"},[e._v("rule "+e._s(i+1))]),e._v(" "),e._l(t.conditions,(function(t,i){return n("div",{key:i,staticClass:"condition-wrapper"},[n("label",[e._v("condition "+e._s(i+1))]),e._v(" "),n("div",{staticClass:"condition-fields-wrapper"},[n("input",{attrs:{type:"text"},domProps:{value:t.fact}}),e._v(" "),n("select",[n("option",{attrs:{value:"in"},domProps:{selected:"in"===t.operator}},[e._v("\n            in\n          ")]),e._v(" "),n("option",{attrs:{value:"equal"},domProps:{selected:"equal"===t.operator}},[e._v("\n            equals\n          ")]),e._v(" "),n("option",{attrs:{value:"notEqual"},domProps:{selected:"notEqual"===t.operator}},[e._v("\n            not equal\n          ")]),e._v(" "),n("option",{attrs:{value:"greaterThanInclusive"},domProps:{selected:"greaterThanInclusive"===t.operator}},[e._v("\n            >=\n          ")]),e._v(" "),n("option",{attrs:{value:"lessThanInclusive"},domProps:{selected:"lessThanInclusive"===t.operator}},[e._v("\n            "+e._s("<=")+"\n          ")])]),e._v(" "),n("input",{attrs:{type:"text"},domProps:{value:e.conditionValue(t.value)}})])])})),e._v(" "),n("div",{staticClass:"error-message-wrapper"},[n("label",[e._v("(conditions not met) error message")]),e._v(" "),n("textarea",{domProps:{value:e.t(e.selectedWidgetItem.id+"."+t.error)}})])],2)})),0):e._e()},staticRenderFns:[]},(function(e){e&&e("data-v-2ba92f94_0",{source:"input[data-v-2ba92f94],select[data-v-2ba92f94],textarea[data-v-2ba92f94]{border-width:0 0 1px 0}.sub-header[data-v-2ba92f94]{margin:0;padding:5px;background-color:#bcdff0}.condition-wrapper[data-v-2ba92f94]{padding:10px 5px;margin-bottom:10px}.condition-wrapper>label[data-v-2ba92f94]{display:block;margin-bottom:5px;font-size:9pt}.condition-fields-wrapper[data-v-2ba92f94]{display:flex;flex-direction:row}.condition-fields-wrapper>input[data-v-2ba92f94]{width:0}.condition-fields-wrapper>*[data-v-2ba92f94]{flex:1}.error-message-wrapper[data-v-2ba92f94]{padding:10px 5px}.error-message-wrapper label[data-v-2ba92f94]{display:block;font-size:9pt;margin-bottom:5px}.error-message-wrapper textarea[data-v-2ba92f94]{box-sizing:border-box;width:100%;max-width:100%;min-width:100%;min-height:40px;color:red}",map:void 0,media:void 0})}),{props:{widgetItems:Object,selectedWidgetItem:Object},inject:["t","widgetEffectControls"],methods:{conditionValue:function(e){return Array.isArray(e)?e.join(", "):null===e?"null":void 0===e?"undefined":e},onPropertiesChange:function(e,t){this.$props.selectedWidgetItem.setEffectProperties(e,t)},removeEffect:function(e){this.$props.selectedWidgetItem.removeEffect(e.type)}}},"data-v-2ba92f94",false,undefined,!1,je,void 0,void 0),Po=new xo({key:"validations",name:"Validations",form:Oo,header:Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.selectedWidgetItem?n("div",[n("button",{staticClass:"add-button",on:{click:e.addValidation}},[e._v("+")])]):e._e()},staticRenderFns:[]},(function(e){e&&e("data-v-33573df1_0",{source:".add-button[data-v-33573df1]{background-color:transparent;border:none}",map:void 0,media:void 0})}),{props:{panelType:String,widgetItems:Object,selectedWidgetItem:Object},inject:["widgetEffectControls"],data:function(){return{panelSections:$o}},computed:{panelSectionsAvailable:function(){var e=this;return this.$props.selectedWidgetItem?Object.keys(this.widgetEffectControls).reduce((function(t,n){var i,r,a,o;return(null===(i=e.$props.selectedWidgetItem)||void 0===i||null===(r=i.effects)||void 0===r||!r.length||null!==(a=e.$props.selectedWidgetItem)&&void 0!==a&&null!==(o=a.effects)&&void 0!==o&&o.every((function(e){return e.type!==n})))&&t.push(e.widgetEffectControls[n]),t}),[]):[]}},methods:{addValidation:function(){var e,t=null===(e=this.$props.selectedWidgetItem.validationRules||[])||void 0===e?void 0:e.length;this.$props.selectedWidgetItem.addValidation({conditions:[],error:"err".concat(t)})}}},"data-v-33573df1",false,undefined,!1,je,void 0,void 0)}),jo=new xo({key:"widget",name:"Widget",form:Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.selectedWidgetItem?n("div",[e.selectedWidgetItem&&e.widgetControls[e.selectedWidgetItem.type]?n(e.widgetControls[e.selectedWidgetItem.type].builderForm,{tag:"component",attrs:{widget:e.selectedWidgetItem,t:e.selectedWidgetItem.t}}):e._e()],1):e._e()},staticRenderFns:[]},(function(e){e&&e("data-v-4ea14602_0",{source:"input[data-v-4ea14602],select[data-v-4ea14602],textarea[data-v-4ea14602]{border-width:0 0 1px 0}.sub-header[data-v-4ea14602]{margin:0;padding:5px;background-color:#bcdff0}.condition-wrapper[data-v-4ea14602]{padding:10px 5px;margin-bottom:10px}.condition-wrapper>label[data-v-4ea14602]{display:block;margin-bottom:5px;font-size:9pt}.condition-fields-wrapper[data-v-4ea14602]{display:flex;flex-direction:row}.condition-fields-wrapper>input[data-v-4ea14602]{width:0}.condition-fields-wrapper>*[data-v-4ea14602]{flex:1}.error-message-wrapper[data-v-4ea14602]{padding:10px 5px}.error-message-wrapper label[data-v-4ea14602]{display:block;font-size:9pt;margin-bottom:5px}.error-message-wrapper textarea[data-v-4ea14602]{box-sizing:border-box;width:100%;max-width:100%;min-width:100%;min-height:40px;color:red}",map:void 0,media:void 0})}),{props:{widgetItems:Object,selectedWidgetItem:Object},inject:["widgetControls"],methods:{conditionValue:function(e){return Array.isArray(e)?e.join(", "):null===e?"null":void 0===e?"undefined":e},onPropertiesChange:function(e,t){this.$props.selectedWidgetItem.setEffectProperties(e,t)},removeEffect:function(e){this.$props.selectedWidgetItem.removeEffect(e.type)}}},"data-v-4ea14602",false,undefined,!1,je,void 0,void 0),header:Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.selectedWidgetItem?n("div",[e._v("\n  "+e._s(e.selectedWidgetItem.type)+"\n")]):e._e()},staticRenderFns:[]},(function(e){e&&e("data-v-7acdc771_0",{source:".add-button[data-v-7acdc771]{background-color:transparent;border:none}",map:void 0,media:void 0})}),{props:{panelType:String,widgetItems:Object,selectedWidgetItem:Object},inject:["widgetEffectControls"],data:function(){return{panelSections:$o}},computed:{panelSectionsAvailable:function(){var e=this;return this.$props.selectedWidgetItem?Object.keys(this.widgetEffectControls).reduce((function(t,n){var i,r,a,o;return(null===(i=e.$props.selectedWidgetItem)||void 0===i||null===(r=i.effects)||void 0===r||!r.length||null!==(a=e.$props.selectedWidgetItem)&&void 0!==a&&null!==(o=a.effects)&&void 0!==o&&o.every((function(e){return e.type!==n})))&&t.push(e.widgetEffectControls[n]),t}),[]):[]}},methods:{addValidation:function(){var e,t=null===(e=this.$props.selectedWidgetItem.validationRules||[])||void 0===e?void 0:e.length;this.$props.selectedWidgetItem.addValidation({conditions:[],error:"err".concat(t)})}}},"data-v-7acdc771",false,undefined,!1,je,void 0,void 0)}),Eo=new xo({key:"widgetTree",name:"Widget Tree",form:Oe({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("builder-widget-tree",{attrs:{widgetItems:e.widgetItems,selectedWidgetItem:e.selectedWidgetItem}})},staticRenderFns:[]},undefined,{components:{BuilderWidgetTree:Xn},props:{widgetItems:Object,selectedWidgetItem:Object}},undefined,false,undefined,!1,void 0,void 0,void 0),header:Oe({render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]},undefined,{props:{panelType:String,widgetItems:Object}},undefined,false,undefined,!1,void 0,void 0,void 0)}),$o=(p(mr={},So.key,So),p(mr,Co.key,Co),p(mr,Io.key,Io),p(mr,Po.key,Po),p(mr,jo.key,jo),p(mr,Eo.key,Eo),mr),Wo=Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("pane",{attrs:{position:"right",isOpen:!0},scopedSlots:e._u([{key:"pane-content",fn:function(){return[n("builder-panel-section-list-view",{attrs:{sections:["widget","reflexives","validations","effects"],widgetItems:e.widgetItems,selectedWidgetItem:e.selectedWidgetItem}})]},proxy:!0}])},[e._v(" "),[e._t("default")]],2)},staticRenderFns:[]},(function(e){e&&e("data-v-2cea4340_0",{source:".pane-wrapper[data-v-2cea4340]{background-color:#00f}",map:void 0,media:void 0})}),{components:{Pane:fo,BuilderPanelSectionListView:Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrapper"},e._l(e.sections,(function(t){return n("builder-panel-section-view",{key:t,attrs:{panelType:t,selectedWidgetItem:e.selectedWidgetItem,widgetItems:e.widgetItems,isCollapsed:e.collapsed[t]},on:{onToggleCollapse:function(n){return e.onToggleCollapse(t,n)}}})})),1)},staticRenderFns:[]},(function(e){e&&e("data-v-5e02ddd6_0",{source:".wrapper[data-v-5e02ddd6]{position:relative;display:flex;flex-direction:column;flex:1}",map:void 0,media:void 0})}),{components:{BuilderPanelSectionView:Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"panel-section-wrapper",class:{isCollapsed:e.isCollapsed}},[n("div",{staticClass:"panel-header"},[n("div",{staticClass:"collapse-arrow",on:{click:e.onToggleCollapse}},[e._v("›")]),e._v(" "),n("h5",{staticClass:"panel-title",on:{click:e.onToggleCollapse}},[e._v("\n      "+e._s(e.panelSections[e.panelType].name)+"\n    ")]),e._v(" "),n(e.panelSections[e.panelType].header,{tag:"component",attrs:{widgetItems:e.widgetItems,selectedWidgetItem:e.selectedWidgetItem}})],1),e._v(" "),n("div",{staticClass:"panel-content"},[n(e.panelSections[e.panelType].form,{tag:"component",attrs:{widgetItems:e.widgetItems,selectedWidgetItem:e.selectedWidgetItem}})],1)])},staticRenderFns:[]},(function(e){e&&e("data-v-895253ee_0",{source:".panel-header[data-v-895253ee]{padding:5px 5px;background-color:#cbf3f0;color:#3a3a3a;display:flex;flex-direction:row;justify-content:space-between;align-items:center;box-shadow:0 3px 10px #a7a7a73b;z-index:10;position:relative}.panel-title[data-v-895253ee]{margin:0;margin-left:5px;flex:1;cursor:pointer}.panel-section-wrapper[data-v-895253ee]:not(.isCollapsed){flex:1;display:flex;flex-direction:column}.panel-section-wrapper.isCollapsed .panel-content[data-v-895253ee]{display:none}.collapse-arrow[data-v-895253ee]{cursor:pointer}.panel-section-wrapper:not(.isCollapsed) .collapse-arrow[data-v-895253ee]{transform:rotate(90deg)}.panel-section-wrapper:not(.isCollapsed) .panel-content[data-v-895253ee]{overflow:auto;flex:1}",map:void 0,media:void 0})}),{props:{panelType:String,widgetItems:Object,selectedWidgetItem:Object,isCollapsed:Boolean},data:function(){return{panelSections:$o}},methods:{onToggleCollapse:function(){this.$emit("onToggleCollapse",!this.$props.isCollapsed)}}},"data-v-895253ee",false,undefined,!1,je,void 0,void 0)},props:{sections:Array,selectedWidgetItem:Object,widgetItems:Object},data:function(){return{collapsed:{}}},methods:{onToggleCollapse:function(e,t){t?this.$data.collapsed[e]=!0:delete this.$data.collapsed[e],this.$data.collapsed=o({},this.$data.collapsed)}}},"data-v-5e02ddd6",false,undefined,!1,je,void 0,void 0)},props:{widgetItems:Object},inject:["widgetControls","widgetEffectControls","getPageState"],data:function(){return{panelSections:$o}},computed:{selectedWidgetItem:function(){var e,t=this.getPageState();return t.interactiveState.selectedWidgetId?null===(e=this.$props.widgetItems)||void 0===e?void 0:e[t.interactiveState.selectedWidgetId]:null}}},"data-v-2cea4340",false,undefined,!1,je,void 0,void 0),To=Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("pane",{attrs:{position:"left",isOpen:!0},scopedSlots:e._u([{key:"pane-content",fn:function(){return[n("div",{staticClass:"button-group"},e._l(e.sections,(function(t){return n("button",{key:t,class:{active:t===e.selectedSection},on:{click:function(){return e.setSelectedSection(t)}}},[e._v("\n        "+e._s(e.panelSections[t].name)+"\n      ")])})),0),e._v(" "),n(e.panelSections[e.selectedSection].form,{tag:"component",attrs:{widgetItems:e.widgetItems,selectedWidgetItem:e.selectedWidgetItem}})]},proxy:!0}])},[e._v(" "),[e._t("default")]],2)},staticRenderFns:[]},(function(e){e&&e("data-v-25d138b0_0",{source:'.button-group[data-v-25d138b0]{display:flex;flex-direction:row;width:100%}.button-group button[data-v-25d138b0]{flex:1;background-color:#fff;padding:10px 5px;border-width:0 0 4px 0;border-color:transparent;position:relative}.button-group button.active[data-v-25d138b0]::before{content:"";position:absolute;bottom:0;left:0;width:100%;height:4px;background-color:#cbf3f0}',map:void 0,media:void 0})}),{components:{Pane:fo,BuilderWidgetTree:Xn},props:{widgetItems:Object},inject:["getPageState"],data:function(){return{panelSections:$o,sections:["widgetTree","addWidget"],selectedSection:"widgetTree"}},computed:{selectedWidgetItem:function(){var e,t=this.getPageState();return t.interactiveState.selectedWidgetId?null===(e=this.$props.widgetItems)||void 0===e?void 0:e[t.interactiveState.selectedWidgetId]:null}},methods:{setSelectedSection:function(e){this.$data.selectedSection=e}}},"data-v-25d138b0",false,undefined,!1,je,void 0,void 0),Fo={props:{widget:Object,widgetItems:Object},inject:["getPageState","setPageState"],methods:{setSelectWidget:function(e){var t=this.getPageState();t.interactiveState.selectedWidgetId=e.id,this.setPageState(t)}}},Ro={data:function(){return{width:"100%",height:"100%"}},computed:{deviceStyles:function(){return{width:this.$data.width,height:this.$data.height}}},methods:{setWidthHeight:function(e){var t=_(e.target.value.split("_"),2),n=t[0],i=t[1];this.$data.width=n,this.$data.height=i}}},Lo={components:{BuilderWidgetsLayout:En,BuilderRightPane:Wo,BuilderLeftPane:To,BuilderBottomPane:Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrapper"},[n("div",{staticClass:"left-pane"}),e._v(" "),n("div",{staticClass:"center"},[n("widget-breadcrumb",{attrs:{widget:e.selectedWidgetItem,widgetItems:e.widgetItems}})],1),e._v(" "),n("div",{staticClass:"right-pane"})])},staticRenderFns:[]},(function(e){e&&e("data-v-3699a990_0",{source:".wrapper[data-v-3699a990]{height:40px;z-index:1000;box-shadow:0 0 4px -2px #000;display:flex;flex-direction:row}.center[data-v-3699a990]{flex:1}.left-pane[data-v-3699a990],.right-pane[data-v-3699a990]{width:300px}",map:void 0,media:void 0})}),{components:{WidgetBreadcrumb:Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.widget?n("div",{staticClass:"widget-breadcrumb-wrapper"},[e._l(e.widget.getParents().reverse(),(function(t){return n("div",{key:t.id,staticClass:"widget-breadcrumb-item",on:{click:function(){return e.setSelectWidget(t)}}},[n("p",[e._v(e._s(t.type))]),e._v(" "),t.code?n("small",[e._v("("+e._s(t.code)+")")]):e._e()])})),e._v(" "),n("div",{staticClass:"widget-breadcrumb-item"},[n("p",[e._v(e._s(e.widget.type))]),e._v(" "),e.widget.code?n("small",[e._v("("+e._s(e.widget.code)+")")]):e._e()])],2):e._e()},staticRenderFns:[]},(function(e){e&&e("data-v-9289bfd8_0",{source:'.widget-breadcrumb-wrapper[data-v-9289bfd8]{display:flex;flex-direction:row;align-items:center}.widget-breadcrumb-item[data-v-9289bfd8]{position:relative;display:flex;flex-direction:row;padding:5px 10px 5px 20px;margin-top:5px;align-items:center;cursor:pointer}.widget-breadcrumb-item[data-v-9289bfd8]:not(:first-child)::before{content:">";position:absolute;top:6px;left:0;font-size:12pt}.widget-breadcrumb-item p[data-v-9289bfd8]{margin:0}.widget-breadcrumb-item small[data-v-9289bfd8]{margin-left:5px;color:#a1a1a1}',map:void 0,media:void 0})}),Fo,"data-v-9289bfd8",false,undefined,!1,je,void 0,void 0)},props:{widgetItems:Object},inject:["getPageState"],computed:{selectedWidgetItem:function(){var e,t=this.getPageState();return t.interactiveState.selectedWidgetId?null===(e=this.widgetItems)||void 0===e?void 0:e[t.interactiveState.selectedWidgetId]:null}}},"data-v-3699a990",false,undefined,!1,je,void 0,void 0),BuilderScreenSimulationView:Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrapper"},[n("select",{staticClass:"simulation-device-select",on:{change:e.setWidthHeight}},[n("option",{domProps:{value:"375px_667px",selected:"375px"===e.width&&"667px"===e.height}},[e._v("\n      iPhone SE\n    ")]),e._v(" "),n("option",{domProps:{value:"414px_896px",selected:"414px"===e.width&&"896px"===e.height}},[e._v("\n      iPhone XR\n    ")]),e._v(" "),n("option",{domProps:{value:"390px_844px",selected:"390px"===e.width&&"844px"===e.height}},[e._v("\n      iPhone 12 Pro\n    ")]),e._v(" "),n("option",{domProps:{value:"100%_100%",selected:"100%"===e.width&&"100%"===e.height}},[e._v("\n      Full\n    ")])]),e._v(" "),n("div",{staticClass:"device-wrapper"},[n("div",{staticClass:"device-inner-wrapper",style:e.deviceStyles},[n("div",{staticClass:"device-background"},[e._t("default")],2)])])])},staticRenderFns:[]},(function(e){e&&e("data-v-719a43da_0",{source:".wrapper[data-v-719a43da]{height:100%;overflow:hidden;background-color:#eaedf5;box-sizing:border-box;position:relative;display:flex;flex-direction:column;justify-content:center;align-items:center}.device-wrapper[data-v-719a43da]{height:100%;width:100%;padding:30px 30px 30px 30px;box-sizing:border-box;display:flex;flex-direction:column;justify-content:center;align-items:center;overflow:auto}.device-inner-wrapper[data-v-719a43da]{min-height:100px;background-color:#fff;border-radius:8px;position:relative}.device-background[data-v-719a43da]{background-color:#fff}.simulation-device-select[data-v-719a43da]{padding:5px 10px;border-radius:4px}",map:void 0,media:void 0})}),Ro,"data-v-719a43da",false,undefined,!1,je,void 0,void 0)},props:{languages:Object,locale:String,page:Object,onPageChange:Function,state:ft(Za).isRequired,onStateChange:Function,widgetControls:Object,questionControls:Object,plugins:pt(gt({widgetControls:Object,widgetEffectControls:Object,questionControls:Object})),view:String,configs:gt({widgets:gt({disableInternalControls:lt(),blacklist:pt(ut()),whitelist:pt(ut()),filters:Object}),questionControls:gt({disableInternalControls:lt(),blacklist:pt(ut()),whitelist:pt(ut()),filters:Object})})},data:function(){return{widgetItems:{},pageEventListener:new no({emitEvent:this.emitEvent})}},computed:{widgetItemsArr:function(){return this.$props.page.widgets},combWidgetControls:function(){var e,t;return to.apply(void 0,["widgetControls",null!==(e=this.$props.configs)&&void 0!==e&&e.widgets.disableInternalControls?{}:wi].concat(x(null===(t=this.$props.plugins||[])||void 0===t?void 0:t.map((function(e){return e.widgetControls}))),[this.$props.widgetControls]))},combWidgetEffectControls:function(){var e,t;return to.apply(void 0,["widgetEffectControls",null!==(e=this.$props.configs)&&void 0!==e&&e.widgetEffectControls.disableInternalControls?{}:Pr].concat(x(null===(t=this.$props.plugins||[])||void 0===t?void 0:t.map((function(e){return e.widgetEffectControls}))),[this.$props.widgetEffectControls]))},combQuestionControls:function(){var e,t;return to.apply(void 0,["questionControls",null!==(e=this.$props.configs)&&void 0!==e&&e.questionControls.disableInternalControls?{}:Xa].concat(x(null===(t=this.$props.plugins||[])||void 0===t?void 0:t.map((function(e){return e.questionControls}))),[this.$props.questionControls]))},pageState:function(){return this.$props.state}},watch:{"page.widgets":{handler:function(e){var t=this;this.$data.widgetItems=e.reduce((function(e,n){var i,r=(null===(i=t.combWidgetControls[n.type])||void 0===i?void 0:i.widgetItem)||yn;return e[n.id]=new r({widget:n,pageEventListener:t.pageEventListener,emitEvent:t.emitEvent,removeWidget:t.removeWidget,t:function(e,i){return t.t("".concat(n.id,".").concat(e),i)},getState:function(){return t.$props.state},setState:function(e){t.$emit("onStateChange",e)},onUpdate:function(e){var n,i;null===(n=(i=t.$props).onPageChange)||void 0===n||n.call(i,o(o({},t.$props.page),{},{widgets:Object.values(o(o({},t.$data.widgetItems),{},p({},e.id,e)))}))}}),e}),{}),Object.values(this.$data.widgetItems).forEach((function(e){e.setWidgetItems(t.$data.widgetItems)}))},immediate:!0,deep:!0}},methods:{t:function(e,t){var n=this,i=("string"==typeof e?e.split("."):e).reduce((function(e,t,i){return"string"==typeof e?e:i>0?null==e?void 0:e[t]:(null==e?void 0:e[t][n.$props.locale].message)||{}}),this.languages);return null==i?void 0:i.replace(/(\{(\w+)\})/g,(function(e,n,i){return(t||{})[i]}))},emitEvent:function(e,t,n){var i=this;return d(regeneratorRuntime.mark((function r(){var a,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!Array.isArray(i.$listeners.event)){r.next=5;break}return r.next=3,Promise.all(i.$listeners.event.map((function(r){return r({name:e,value:t,widget:n,pageState:i.pageState,widgetItems:i.$data.widgetItems})})));case 3:r.next=7;break;case 5:return r.next=7,null===(a=(o=i.$listeners).event)||void 0===a?void 0:a.call(o,{name:e,value:t,widget:n,pageState:i.pageState,widgetItems:i.$data.widgetItems});case 7:case"end":return r.stop()}}),r)})))()},setMessage:function(e){var t=e.id,n=e.locale,i=e.key,r=e.value,a=e.type,s=void 0===a?"pageItem":a,d=o({},this.$props.languages);d[t]||(d[t]={}),d[t][n]||(d[t][n]={id:"",refId:t,type:s,version:1,locale:n,message:{}}),d[t][n].message[i]=r,this.$emit("onLanguageChange",d)},updatePage:function(e){this.$emit("onPageChange",e)},updateWidget:function(e){this.$data.widgetItems[e.id]=e,this.updatePage(o(o({},this.$props.page),{},{widgets:Object.values(this.$data.widgetItems).map((function(e){return e.widget}))}))},removeWidget:function(e){var t=this;this.updatePage(o(o({},this.$props.page),{},{widgets:Object.keys(this.$data.widgetItems).reduce((function(n,i){return i===e?n:[].concat(x(n),[t.$data.widgetItems[i].widget])}),[])}));var n=o({},this.$props.languages);delete n[e],this.$emit("onLanguageChange",n)}},provide:function(){var e=this;return{getView:function(){return e.$props.view},t:this.t,pageEventListener:this.pageEventListener,emitEvent:this.emitEvent,getLocale:function(){return e.$props.locale},languages:this.$props.languages,setMessage:this.setMessage,updateWidget:this.updateWidget,removeWidget:this.removeWidget,getPageState:function(){return e.$props.state},setPageState:function(t){e.$emit("onStateChange",t)},widgetEffectControls:this.combWidgetEffectControls,widgetControls:this.combWidgetControls,questionControls:this.combQuestionControls}}},Ao=Oe({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main-wrapper"},[n("div",{staticClass:"pane-wrapper"},[n("builder-left-pane",{attrs:{widgetItems:e.widgetItems}},[n("builder-right-pane",{attrs:{widgetItems:e.widgetItems}},[n("builder-screen-simulation-view",[n("builder-widgets-layout",{attrs:{widgetControls:e.combWidgetControls,widgetItems:e.widgetItems}})],1)],1)],1)],1),e._v(" "),n("builder-bottom-pane",{attrs:{widgetItems:e.widgetItems}})],1)},staticRenderFns:[]},(function(e){e&&e("data-v-416cadb8_0",{source:".pane-wrapper[data-v-416cadb8]{flex:1}.main-wrapper[data-v-416cadb8]{font-family:Arial,Helvetica,sans-serif;position:absolute;height:100%;width:100%;background-color:#fff;display:flex;flex-direction:column}.widgets-layout-wrapper[data-v-416cadb8]{padding:30px;background-color:#eaedf5;height:100%;box-sizing:border-box}.widgets-layout-inner-wrapper[data-v-416cadb8]{background-color:#fff;position:relative;border-radius:4px;box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23)}",map:void 0,media:void 0})}),Lo,"data-v-416cadb8",false,undefined,!1,je,void 0,void 0),Mo=Object.freeze({__proto__:null,VuePage:so,WidgetsLayout:wt,WidgetView:vt,VuePageBuilder:Ao,PageState:Za,WidgetItem:yn,WidgetEffectControl:bi,widgets:wi,QuestionControl:jr,formatDateString:ea,getDateByPropertyValue:ta,questionControls:Xa}),Do=function(e){Object.entries(Mo).forEach((function(t){var n=_(t,2),i=n[0],r=n[1];e.component(i,r)}))},No=Object.freeze({__proto__:null,default:Do,VuePage:so,WidgetsLayout:wt,WidgetView:vt,VuePageBuilder:Ao,PageState:Za,WidgetItem:yn,WidgetEffectControl:bi,widgets:wi,QuestionControl:jr,formatDateString:ea,getDateByPropertyValue:ta,questionControls:Xa});return Object.entries(No).forEach((function(e){var t=_(e,2),n=t[0],i=t[1];"default"!==n&&(Do[n]=i)})),Do}(crypto,vm);